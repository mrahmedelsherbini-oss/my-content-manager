{"ast":null,"code":"import React,{useState,useEffect}from'react';// Helper function for exponential backoff\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const fetchWithBackoff=async function(url,options){let retries=arguments.length>2&&arguments[2]!==undefined?arguments[2]:5;let delay=arguments.length>3&&arguments[3]!==undefined?arguments[3]:1000;try{const response=await fetch(url,options);if(!response.ok){const errorText=await response.text();// Specific error for 401 Unauthorized (likely invalid API key)\nif(response.status===401){throw new Error('Invalid API Key. Please check your Gemini API key.');}throw new Error(`HTTP error! status: ${response.status} - ${errorText}`);}return await response.json();}catch(error){if(retries>0&&error.message.includes('429')){// Too Many Requests\nconsole.warn(`Retrying after ${delay}ms... (${retries} retries left)`);await new Promise(resolve=>setTimeout(resolve,delay));return fetchWithBackoff(url,options,retries-1,delay*2);}throw error;}};const App=()=>{var _customInstructions$w;const[stage,setStage]=useState('splash_screen');// splash_screen, api_key_input, ideas_generation, idea_selection, content_generation, display_content\nconst[userApiKey,setUserApiKey]=useState('');// This will be the actual Gemini API key\nconst[ideas,setIdeas]=useState([]);const[selectedIdea,setSelectedIdea]=useState(null);const[generatedContent,setGeneratedContent]=useState({posts:{},// Each post will be an object: { original: '', translated: '', rephrased: '', seoOptimized: '', marketing: '' }\nbloggerArticle:null,imagePrompts:[],videoPrompts:[],// New for video prompts\ncarouselSlides:[]// New for carousel\n});const[loading,setLoading]=useState(false);const[error,setError]=useState(null);const[translatedTexts,setTranslatedTexts]=useState({});// To store translations\nconst[customInstructions,setCustomInstructions]=useState({});// To store custom instructions for each platform/idea\nconst[ideaCustomizationInput,setIdeaCustomizationInput]=useState('');// Input for customizing ideas\nconst[darkMode,setDarkMode]=useState(false);// Dark mode state\nconst[showContactModal,setShowContactModal]=useState(false);// State for contact modal\nconst[showWhatsappGmailModal,setShowWhatsappGmailModal]=useState(false);// State for WhatsApp/Gmail modal\nconst[whatsappGmailInput,setWhatsappGmailInput]=useState('');// Input for client message\nconst[whatsappGmailResponse,setWhatsappGmailResponse]=useState('');// AI generated response for client\nconst[whatsappGmailPlatform,setWhatsappGmailPlatform]=useState('');// Stores which platform (WhatsApp/Gmail) is active in the modal\nconst[carouselSlideCount,setCarouselSlideCount]=useState(3);// Default carousel slide count\nconst[processingButton,setProcessingButton]=useState(null);// Tracks which button is loading\n// Social media platform details\nconst platforms=[{name:'فيسبوك',icon:'fab fa-facebook-f',url:'https://www.facebook.com/Requires0',color:'#1877f2',type:'post'},{name:'انستجرام',icon:'fab fa-instagram',url:'https://www.instagram.com/requires0/',color:'linear-gradient(45deg, #f09433 0%,#e6683c 25%,#dc2743 50%,#cc2366 75%,#bc1888 100%)',type:'post'},// Improved Instagram gradient\n{name:'تيك توك',icon:'fab fa-tiktok',url:'https://www.tiktok.com/@requires10',color:'#000000',type:'post'},{name:'لينكد إن',icon:'fab fa-linkedin-in',url:'https://www.linkedin.com/in/requires0',color:'#0a66c2',type:'post'},{name:'تويتر',icon:'fab fa-twitter',url:'https://x.com/Requires0',color:'#1da1f2',type:'post'},{name:'واتساب',icon:'fab fa-whatsapp',url:'https://api.whatsapp.com/send?phone=01551053732',color:'#25d366',type:'message'},{name:'جيميل',icon:'fas fa-envelope',url:'mailto:requiresforeducationalservices@gmail.com',color:'#d44638',type:'message'},{name:'يوتيوب',icon:'fab fa-youtube',url:'https://www.youtube.com/@Requires4',color:'#ff0000',type:'post'}];// Contact Information for \"اتصل بنا\" modal (only icons and links)\nconst contactInfo=[{label:'الجيميل',icon:'fas fa-envelope',link:'mailto:requiresforeducationalservices@gmail.com',color:'#d44638'},{label:'الواتساب',icon:'fab fa-whatsapp',link:'https://api.whatsapp.com/send?phone=01551053732',color:'#25d366'},{label:'الفيسبوك',icon:'fab fa-facebook-f',link:'https://www.facebook.com/Requires0',color:'#1877f2'},{label:'الانستجرام',icon:'fab fa-instagram',link:'https://www.instagram.com/requires0/',color:'linear-gradient(45deg, #f09433 0%,#e6683c 25%,#dc2743 50%,#cc2366 75%,#bc1888 100%)'},{label:'التيك توك',icon:'fab fa-tiktok',link:'https://www.tiktok.com/@requires10',color:'#000000'},{label:'اللينكد إن',icon:'fab fa-linkedin-in',link:'https://www.linkedin.com/in/requires0',color:'#0a66c2'},{label:'تويتر',icon:'fab fa-twitter',link:'https://x.com/Requires0',color:'#1da1f2'},{label:'بلوجر',icon:'fab fa-blogger-b',link:'https://requires0.blogspot.com/',color:'#ff5722'},{label:'يوتيوب',icon:'fab fa-youtube',link:'https://www.youtube.com/@Requires4',color:'#ff0000'}];useEffect(()=>{document.documentElement.classList.toggle('dark',darkMode);},[darkMode]);// Function to handle Gemini API Key submission\nconst handleApiKeySubmit=()=>{if(userApiKey.trim()){setStage('ideas_generation');generateIdeas();// Automatically generate ideas after API key is set\nsetError(null);// Clear any previous error\n}else{setError('الرجاء إدخال مفتاح الـ API الخاص بـ Gemini.');}};// Function to generate content ideas\nconst generateIdeas=async function(){let customInstruction=arguments.length>0&&arguments[0]!==undefined?arguments[0]:'';setLoading(true);setError(null);setProcessingButton('generate_ideas');// Set loading for this action\ntry{let prompt=`Generate 3-5 trending and relevant content ideas in Arabic for an academic services center named 'Requires for Academic Services'. Focus on topics related to academic research, student support, educational challenges, and professional development. The ideas should be engaging for students, researchers, and academics. Provide each idea as a short, catchy title.`;if(customInstruction){prompt+=` Apply the following instructions: \"${customInstruction}\"`;}const chatHistory=[{role:\"user\",parts:[{text:prompt}]}];const payload={contents:chatHistory};const apiUrl=`https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key=${userApiKey}`;const result=await fetchWithBackoff(apiUrl,{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(payload)});if(result.candidates&&result.candidates.length>0&&result.candidates[0].content&&result.candidates[0].content.parts&&result.candidates[0].content.parts.length>0){const text=result.candidates[0].content.parts[0].text;const parsedIdeas=text.split('\\n').filter(line=>line.trim().length>0&&(line.includes('-')||line.match(/^\\d+\\./))).map(line=>line.replace(/^(-|\\d+\\.)\\s*/,'').trim());setIdeas(parsedIdeas);setIdeaCustomizationInput('');// Clear custom instruction input\nif(stage!=='idea_selection'){setStage('idea_selection');}}else{setError('فشل في توليد الأفكار. الرجاء المحاولة مرة أخرى.');}}catch(err){console.error('Error generating ideas:',err);setError('حدث خطأ أثناء توليد الأفكار: '+err.message);}finally{setLoading(false);setProcessingButton(null);// Clear loading\n}};// Function to generate specific content (post, article, or image prompts)\nconst generateSpecificContent=async function(contentType){let target=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;setLoading(true);setProcessingButton(`${contentType}-${target||'global'}`);// Set loading for this action\nsetError(null);try{let prompt;let result;let apiUrl=`https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key=${userApiKey}`;if(contentType==='post'&&target){var _result$candidates,_result$candidates$,_result$candidates$$c,_result$candidates$$c2,_result$candidates$$c3;const platform=platforms.find(p=>p.name===target);if(!platform){setError('منصة غير معروفة.');setLoading(false);setProcessingButton(null);return;}prompt=`Generate a professional and engaging ${platform.name} post in Arabic about '${selectedIdea}' for 'Requires for Academic Services'. Include relevant emojis and hashtags.`;if(platform.name==='فيسبوك'||platform.name==='لينكد إن'){prompt+=` Max 200 words.`;}else if(platform.name==='تويتر'){prompt+=` Be concise (max 280 characters).`;}else if(platform.name==='انستجرام'){prompt+=` Focus on visual appeal, concise text, and strong hashtags.`;}else if(platform.name==='تيك توك'){prompt+=` Suggest a visual concept and trending audio idea suitable for a short, engaging video.`;}else if(platform.name==='يوتيوب'){prompt+=` Suggest a YouTube video title and a short, engaging description with keywords.`;}result=await fetchWithBackoff(apiUrl,{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({contents:[{role:\"user\",parts:[{text:prompt}]}]})});const newContent=((_result$candidates=result.candidates)===null||_result$candidates===void 0?void 0:(_result$candidates$=_result$candidates[0])===null||_result$candidates$===void 0?void 0:(_result$candidates$$c=_result$candidates$.content)===null||_result$candidates$$c===void 0?void 0:(_result$candidates$$c2=_result$candidates$$c.parts)===null||_result$candidates$$c2===void 0?void 0:(_result$candidates$$c3=_result$candidates$$c2[0])===null||_result$candidates$$c3===void 0?void 0:_result$candidates$$c3.text)||`فشل في توليد المحتوى لـ ${platform.name}.`;setGeneratedContent(prev=>({...prev,posts:{...prev.posts,[platform.name]:{original:newContent}// Initialize original\n}}));}else if(contentType==='bloggerArticle'){prompt=`Generate the complete HTML content for the main article section (<div class=\"article-content\">...</div>) for a Blogger post about '${selectedIdea}' for 'Requires for Academic Services'. Adhere strictly to the following HTML structure and CSS classes: article-paragraph, section-title, subsection-title, bullet-list, numbered-list, highlight-box, quote-box, decorative-divider. Ensure id attributes for sections (e.g., id=\"section1\", id=\"section2\", etc.) are present for internal linking from a table of contents. The content should be professional, insightful, and comprehensive, reflecting the quality of 'Requires for Academic Services'. Do not include <html>, <head>, <body>, or any external CSS/JS links. Only generate the content that goes inside the <div class=\"article-content\">. Ensure all text is in Arabic. Include a table of contents within the article-content div, linking to the sections you create. Make sure the content is rich and detailed, similar to the example you provided previously about academic plagiarism.`;result=await fetchWithBackoff(apiUrl,{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({contents:[{role:\"user\",parts:[{text:prompt}]}]})});setGeneratedContent(prev=>{var _result$candidates2,_result$candidates2$,_result$candidates2$$,_result$candidates2$$2,_result$candidates2$$3;return{...prev,bloggerArticle:((_result$candidates2=result.candidates)===null||_result$candidates2===void 0?void 0:(_result$candidates2$=_result$candidates2[0])===null||_result$candidates2$===void 0?void 0:(_result$candidates2$$=_result$candidates2$.content)===null||_result$candidates2$$===void 0?void 0:(_result$candidates2$$2=_result$candidates2$$.parts)===null||_result$candidates2$$2===void 0?void 0:(_result$candidates2$$3=_result$candidates2$$2[0])===null||_result$candidates2$$3===void 0?void 0:_result$candidates2$$3.text)||`فشل في توليد مقال بلوجر.`};});}else if(contentType==='imagePrompts'){var _result$candidates3,_result$candidates3$,_result$candidates3$$,_result$candidates3$$2,_result$candidates3$$3;prompt=`Generate one single, highly detailed, professional, and visually appealing AI image generation prompt (in English) for a poster related to the topic '${selectedIdea}'. The image should be conceptual, without any text, and suitable for an academic services center. Focus on abstract representations, metaphors, or symbolic imagery. The prompt should aim for high-quality, modern, clean aesthetics, suitable for a digital art style, with vibrant colors and a sense of academic excellence.`;result=await fetchWithBackoff(apiUrl,{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({contents:[{role:\"user\",parts:[{text:prompt}]}]})});const generatedPrompt=((_result$candidates3=result.candidates)===null||_result$candidates3===void 0?void 0:(_result$candidates3$=_result$candidates3[0])===null||_result$candidates3$===void 0?void 0:(_result$candidates3$$=_result$candidates3$.content)===null||_result$candidates3$$===void 0?void 0:(_result$candidates3$$2=_result$candidates3$$.parts)===null||_result$candidates3$$2===void 0?void 0:(_result$candidates3$$3=_result$candidates3$$2[0])===null||_result$candidates3$$3===void 0?void 0:_result$candidates3$$3.text)||'فشل في توليد أمر الصورة.';setGeneratedContent(prev=>({...prev,imagePrompts:[generatedPrompt]}));}else if(contentType==='videoPrompts'){var _result$candidates4,_result$candidates4$,_result$candidates4$$,_result$candidates4$$2,_result$candidates4$$3;// New video prompt generation\nprompt=`Generate one single, highly detailed, professional, and visually appealing AI video generation prompt (in English) for a short promotional video related to the topic '${selectedIdea}' for 'Requires for Academic Services'. The video should be conceptual, dynamic, and engaging, without spoken dialogue. Describe visual scenes, transitions, and potential background music mood. Focus on abstract representations of academic excellence, problem-solving, and support. Include a description for a subtle, integrated logo of 'Requires for Academic Services' (e.g., a glowing watermark or appearing briefly at the end). The prompt should aim for high-quality, modern, and clean aesthetics.`;result=await fetchWithBackoff(apiUrl,{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({contents:[{role:\"user\",parts:[{text:prompt}]}]})});const generatedVideoPrompt=((_result$candidates4=result.candidates)===null||_result$candidates4===void 0?void 0:(_result$candidates4$=_result$candidates4[0])===null||_result$candidates4$===void 0?void 0:(_result$candidates4$$=_result$candidates4$.content)===null||_result$candidates4$$===void 0?void 0:(_result$candidates4$$2=_result$candidates4$$.parts)===null||_result$candidates4$$2===void 0?void 0:(_result$candidates4$$3=_result$candidates4$$2[0])===null||_result$candidates4$$3===void 0?void 0:_result$candidates4$$3.text)||'فشل في توليد أمر الفيديو.';setGeneratedContent(prev=>({...prev,videoPrompts:[generatedVideoPrompt]}));}else if(contentType==='carouselSlides'){var _result$candidates5,_result$candidates5$,_result$candidates5$$,_result$candidates5$$2,_result$candidates5$$3;// New carousel generation\nconst numSlides=target;// target is now slide count\nprompt=`Generate ${numSlides} concise and engaging text slides in Arabic for a social media carousel post about '${selectedIdea}' for 'Requires for Academic Services'. Each slide should have a clear, distinct message, building upon the previous one. Focus on key benefits or steps related to the topic. Format each slide as \"Slide X: [Title]\\n[Short Description]\".`;result=await fetchWithBackoff(apiUrl,{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({contents:[{role:\"user\",parts:[{text:prompt}]}]})});const slidesText=((_result$candidates5=result.candidates)===null||_result$candidates5===void 0?void 0:(_result$candidates5$=_result$candidates5[0])===null||_result$candidates5$===void 0?void 0:(_result$candidates5$$=_result$candidates5$.content)===null||_result$candidates5$$===void 0?void 0:(_result$candidates5$$2=_result$candidates5$$.parts)===null||_result$candidates5$$2===void 0?void 0:(_result$candidates5$$3=_result$candidates5$$2[0])===null||_result$candidates5$$3===void 0?void 0:_result$candidates5$$3.text)||'فشل في توليد شرائح الكاروسيل.';const parsedSlides=slidesText.split('\\n\\n').filter(s=>s.trim()!=='').map(s=>{const parts=s.split('\\n');return{title:parts[0].replace(/Slide \\d+: /,'').trim(),description:parts.slice(1).join('\\n').trim()};});setGeneratedContent(prev=>({...prev,carouselSlides:parsedSlides}));}setStage('display_content');// Ensure we are on the display stage after generation\n}catch(err){console.error(`Error generating ${contentType} content:`,err);setError(`حدث خطأ أثناء توليد ${contentType==='post'?'المنشور':contentType==='bloggerArticle'?'المقال':contentType==='imagePrompts'?'أوامر الصور':contentType==='videoPrompts'?'أوامر الفيديو':'شرائح الكاروسيل'}: ${err.message}`);}finally{setLoading(false);setProcessingButton(null);// Clear loading\n}};// Function to generate all content (Social media, Blogger, Image Prompts)\nconst generateAllContent=async idea=>{setSelectedIdea(idea);setLoading(true);setError(null);setGeneratedContent({posts:{},bloggerArticle:null,imagePrompts:[],videoPrompts:[],carouselSlides:[]});// Reset all content\nsetStage('content_generation');// Show loading for content generation\nsetProcessingButton('generate_all');try{// Generate all social media posts, blogger article, and image prompts in parallel\nconst postPromises=platforms.filter(p=>p.type==='post').map(platform=>generateSpecificContent('post',platform.name));const bloggerPromise=generateSpecificContent('bloggerArticle');const imagePromptsPromise=generateSpecificContent('imagePrompts');const videoPromptsPromise=generateSpecificContent('videoPrompts');// Generate video prompts too\nconst carouselPromise=generateSpecificContent('carouselSlides',carouselSlideCount);// Generate carousel too\nawait Promise.all([...postPromises,bloggerPromise,imagePromptsPromise,videoPromptsPromise,carouselPromise]);setStage('display_content');}catch(err){console.error('Error in generateAllContent:',err);setError('حدث خطأ أثناء توليد كل المحتوى: '+err.message);}finally{setLoading(false);setProcessingButton(null);}};// Function to generate a response for WhatsApp/Gmail client message\nconst generateWhatsappGmailResponse=async()=>{if(!whatsappGmailInput.trim()){setError('الرجاء إدخال رسالة العميل.');return;}setLoading(true);setProcessingButton('whatsapp_gmail_response');setError(null);setWhatsappGmailResponse('');// Clear previous response\ntry{let prompt;if(whatsappGmailPlatform==='واتساب'){prompt=`Generate a concise, friendly, and professional WhatsApp response in Arabic to a client message: \"${whatsappGmailInput}\". The response should be from 'Requires for Academic Services' and offer assistance. Include a call to action with our WhatsApp number 01551053732.`;}else if(whatsappGmailPlatform==='جيميل'){prompt=`Generate a formal and professional email response in Arabic to a client message: \"${whatsappGmailInput}\". The response should be from 'Requires for Academic Services', address the client formally, offer detailed assistance, and include our Gmail: requiresforeducationalservices@gmail.com. Provide only the email body, no subject or salutation.`;}const chatHistory=[{role:\"user\",parts:[{text:prompt}]}];const payload={contents:chatHistory};const apiUrl=`https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key=${userApiKey}`;const result=await fetchWithBackoff(apiUrl,{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(payload)});if(result.candidates&&result.candidates.length>0&&result.candidates[0].content&&result.candidates[0].content.parts&&result.candidates[0].content.parts.length>0){setWhatsappGmailResponse(result.candidates[0].content.parts[0].text);}else{setError(`فشل في توليد الرد لـ ${whatsappGmailPlatform}.`);}}catch(err){console.error(`Error generating ${whatsappGmailPlatform} response:`,err);setError(`حدث خطأ أثناء توليد الرد لـ ${whatsappGmailPlatform}: ${err.message}`);}finally{setLoading(false);setProcessingButton(null);}};// Function to regenerate a specific social media post\nconst regeneratePost=async(platformName,currentContent)=>{setLoading(true);setProcessingButton(`rephrase-${platformName}`);setError(null);try{const prompt=`Rephrase the following ${platformName} post in Arabic, making it slightly different but maintaining the original meaning and professional tone for 'Requires for Academic Services'. Original post: \"${currentContent}\"`;const chatHistory=[{role:\"user\",parts:[{text:prompt}]}];const payload={contents:chatHistory};const apiUrl=`https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key=${userApiKey}`;const result=await fetchWithBackoff(apiUrl,{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(payload)});if(result.candidates&&result.candidates.length>0&&result.candidates[0].content&&result.candidates[0].content.parts&&result.candidates[0].content.parts.length>0){const newContent=result.candidates[0].content.parts[0].text;setGeneratedContent(prev=>({...prev,posts:{...prev.posts,[platformName]:{...prev.posts[platformName],rephrased:newContent}}}));}else{setError(`فشل في إعادة صياغة منشور ${platformName}.`);}}catch(err){console.error(`Error regenerating ${platformName} post:`,err);setError(`حدث خطأ أثناء إعادة صياغة منشور ${platformName}: ${err.message}`);}finally{setLoading(false);setProcessingButton(null);}};// Function to customize a specific social media post or message response\nconst customizeContent=async(contentType,targetName,currentContent,instructions)=>{if(!instructions.trim()){setError('الرجاء إدخال تعليمات التخصيص.');return;}setLoading(true);setProcessingButton(`customize-${targetName}`);setError(null);try{let prompt;if(contentType==='post'){prompt=`Refine the following ${targetName} post in Arabic based on these instructions: \"${instructions}\". Keep the professional tone for 'Requires for Academic Services'. Original post: \"${currentContent}\"`;}else if(contentType==='message'){prompt=`Refine the following ${targetName} message response in Arabic based on these instructions: \"${instructions}\". Maintain the appropriate tone for a client message from 'Requires for Academic Services'. Original message: \"${currentContent}\"`;}const chatHistory=[{role:\"user\",parts:[{text:prompt}]}];const payload={contents:chatHistory};const apiUrl=`https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key=${userApiKey}`;const result=await fetchWithBackoff(apiUrl,{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(payload)});if(result.candidates&&result.candidates.length>0&&result.candidates[0].content&&result.candidates[0].content.parts&&result.candidates[0].content.parts.length>0){const newContent=result.candidates[0].content.parts[0].text;if(contentType==='post'){setGeneratedContent(prev=>({...prev,posts:{...prev.posts,[targetName]:{...prev.posts[targetName],customized:newContent}}}));}else if(contentType==='message'){setWhatsappGmailResponse(newContent);// Update directly for modal response\n}setCustomInstructions(prev=>({...prev,[targetName]:''}));// Clear instructions after use\n}else{setError(`فشل في تخصيص ${targetName}.`);}}catch(err){console.error(`Error customizing ${targetName}:`,err);setError(`حدث خطأ أثناء تخصيص ${targetName}: ${err.message}`);}finally{setLoading(false);setProcessingButton(null);}};// Function to generate marketing-focused post\nconst generateMarketingPost=async(platformName,currentContent)=>{setLoading(true);setProcessingButton(`marketing-${platformName}`);setError(null);try{const prompt=`Rewrite the following ${platformName} post in Arabic to be a marketing-focused post for 'Requires for Academic Services'. Emphasize how 'Requires for Academic Services' can help with the topic of the post (e.g., ensuring originality, preventing plagiarism, academic support). Make it persuasive and professional. Original post: \"${currentContent}\"`;const chatHistory=[{role:\"user\",parts:[{text:prompt}]}];const payload={contents:chatHistory};const apiUrl=`https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key=${userApiKey}`;const result=await fetchWithBackoff(apiUrl,{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(payload)});if(result.candidates&&result.candidates.length>0&&result.candidates[0].content&&result.candidates[0].content.parts&&result.candidates[0].content.parts.length>0){const newContent=result.candidates[0].content.parts[0].text;setGeneratedContent(prev=>({...prev,posts:{...prev.posts,[platformName]:{...prev.posts[platformName],marketing:newContent}}}));}else{setError(`فشل في توليد منشور تسويقي لـ ${platformName}.`);}}catch(err){console.error(`Error generating marketing post for ${platformName}:`,err);setError(`حدث خطأ أثناء توليد منشور تسويقي لـ ${platformName}: ${err.message}`);}finally{setLoading(false);setProcessingButton(null);}};// Function to optimize post for SEO\nconst optimizePostForSEO=async(platformName,currentContent)=>{setLoading(true);setProcessingButton(`seo-${platformName}`);setError(null);try{const prompt=`Rewrite the following ${platformName} post in Arabic to be optimized for SEO. Focus on incorporating relevant keywords naturally, improving readability, and making it more discoverable. Keep the professional tone for 'Requires for Academic Services'. Original post: \"${currentContent}\"`;const chatHistory=[{role:\"user\",parts:[{text:prompt}]}];const payload={contents:chatHistory};const apiUrl=`https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key=${userApiKey}`;const result=await fetchWithBackoff(apiUrl,{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(payload)});if(result.candidates&&result.candidates.length>0&&result.candidates[0].content&&result.candidates[0].content.parts&&result.candidates[0].content.parts.length>0){const newContent=result.candidates[0].content.parts[0].text;setGeneratedContent(prev=>({...prev,posts:{...prev.posts,[platformName]:{...prev.posts[platformName],seoOptimized:newContent}}}));}else{setError(`فشل في تحسين منشور ${platformName} للسيو.`);}}catch(err){console.error(`Error optimizing ${platformName} post for SEO:`,err);setError(`حدث خطأ أثناء تحسين منشور ${platformName} للسيو: ${err.message}`);}finally{setLoading(false);setProcessingButton(null);}};// Function to generate hashtags/keywords\nconst generateHashtagsKeywords=async(platformName,currentContent)=>{setLoading(true);setProcessingButton(`hashtags-${platformName}`);setError(null);try{const prompt=`Generate a list of 5-10 highly relevant and trending hashtags and keywords in Arabic for the following ${platformName} post. Focus on academic services, education, and the specific topic of the post. Post content: \"${currentContent}\"`;const chatHistory=[{role:\"user\",parts:[{text:prompt}]}];const payload={contents:chatHistory};const apiUrl=`https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key=${userApiKey}`;const result=await fetchWithBackoff(apiUrl,{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(payload)});if(result.candidates&&result.candidates.length>0&&result.candidates[0].content&&result.candidates[0].content.parts&&result.candidates[0].content.parts.length>0){const tags=result.candidates[0].content.parts[0].text;alert(`الهاشتاغات والكلمات المفتاحية المقترحة لـ ${platformName}:\\n\\n${tags}`);// Display in alert for now\n}else{setError(`فشل في توليد الهاشتاغات/الكلمات المفتاحية لـ ${platformName}.`);}}catch(err){console.error(`Error generating hashtags/keywords for ${platformName}:`,err);setError(`حدث خطأ أثناء توليد الهاشتاغات/الكلمات المفتاحية لـ ${platformName}: ${err.message}`);}finally{setLoading(false);setProcessingButton(null);}};// Function to provide performance tips\nconst providePerformanceTips=async(platformName,currentContent)=>{setLoading(true);setProcessingButton(`tips-${platformName}`);setError(null);try{const prompt=`Provide 3-5 concise and actionable tips in Arabic to improve the performance and engagement of the following ${platformName} post. Focus on best practices for that specific platform. Post content: \"${currentContent}\"`;const chatHistory=[{role:\"user\",parts:[{text:prompt}]}];const payload={contents:chatHistory};const apiUrl=`https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key=${userApiKey}`;const result=await fetchWithBackoff(apiUrl,{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(payload)});if(result.candidates&&result.candidates.length>0&&result.candidates[0].content&&result.candidates[0].content.parts&&result.candidates[0].content.parts.length>0){const tips=result.candidates[0].content.parts[0].text;alert(`نصائح لتحسين أداء منشور ${platformName}:\\n\\n${tips}`);// Display in alert for now\n}else{setError(`فشل في تقديم نصائح الأداء لـ ${platformName}.`);}}catch(err){console.error(`Error providing performance tips for ${platformName}:`,err);setError(`حدث خطأ أثناء تقديم نصائح الأداء لـ ${platform.name}: ${err.message}`);}finally{setLoading(false);setProcessingButton(null);}};// Function to translate text to English\nconst translateText=async(text,key,contentType,targetName)=>{setLoading(true);setProcessingButton(`translate-${key}`);setError(null);try{const prompt=`Translate the following Arabic text to English: \"${text}\"`;const chatHistory=[{role:\"user\",parts:[{text:prompt}]}];const payload={contents:chatHistory};const apiUrl=`https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key=${userApiKey}`;const result=await fetchWithBackoff(apiUrl,{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(payload)});if(result.candidates&&result.candidates.length>0&&result.candidates[0].content&&result.candidates[0].content.parts&&result.candidates[0].content.parts.length>0){const translated=result.candidates[0].content.parts[0].text;setTranslatedTexts(prev=>({...prev,[key]:translated}));// Update the generatedContent for posts if it's a post translation\nif(contentType==='post'){setGeneratedContent(prev=>({...prev,posts:{...prev.posts,[targetName]:{...prev.posts[targetName],translated:translated}}}));}}else{setError(`فشل في الترجمة.`);}}catch(err){console.error('Error translating text:',err);setError(`حدث خطأ أثناء الترجمة: ${err.message}`);}finally{setLoading(false);setProcessingButton(null);}};// Function to copy text to clipboard\nconst copyToClipboard=text=>{const textarea=document.createElement('textarea');textarea.value=text;document.body.appendChild(textarea);textarea.select();try{document.execCommand('copy');// Using a simple alert for now, can be replaced by a custom modal\nalert('تم نسخ المحتوى بنجاح!');}catch(err){console.error('Failed to copy text: ',err);alert('فشل نسخ المحتوى. يرجى النسخ يدوياً.');}document.body.removeChild(textarea);};// Function to handle direct sharing (simplified)\nconst shareContent=function(platform,text){let url=arguments.length>2&&arguments[2]!==undefined?arguments[2]:'';let shareUrl='';const encodedText=encodeURIComponent(text);const encodedUrl=encodeURIComponent(url);if(platform==='فيسبوك'){shareUrl=`https://www.facebook.com/sharer/sharer.php?u=${encodedUrl}&quote=${encodedText}`;}else if(platform==='تويتر'){shareUrl=`https://twitter.com/intent/tweet?text=${encodedText}&url=${encodedUrl}`;}else if(platform==='لينكد إن'){shareUrl=`https://www.linkedin.com/shareArticle?mini=true&url=${encodedUrl}&title=${encodedText.substring(0,100)}&summary=${encodedText}`;}else{alert(`لا يمكن المشاركة مباشرة على ${platform} من داخل هذا التطبيق. يرجى النسخ واللصق يدوياً.`);return;}window.open(shareUrl,'_blank','noopener,noreferrer');};// Function to reset the app to initial state\nconst startNewDay=()=>{setStage('ideas_generation');setIdeas([]);setSelectedIdea(null);setGeneratedContent({posts:{},bloggerArticle:null,imagePrompts:[],videoPrompts:[],carouselSlides:[]});setLoading(false);setError(null);setTranslatedTexts({});// Clear translations\nsetCustomInstructions({});// Clear custom instructions\nsetIdeaCustomizationInput('');// Clear idea customization input\ngenerateIdeas();// Immediately generate new ideas for the new day\n};// Function to go back to idea selection (from display content)\nconst goBackToIdeaSelection=()=>{setStage('idea_selection');setGeneratedContent({posts:{},bloggerArticle:null,imagePrompts:[],videoPrompts:[],carouselSlides:[]});setSelectedIdea(null);setTranslatedTexts({});setCustomInstructions({});};// Function to go back to API key input\nconst goBackToApiKeyInput=()=>{setStage('api_key_input');setUserApiKey('');setIdeas([]);setSelectedIdea(null);setGeneratedContent({posts:{},bloggerArticle:null,imagePrompts:[],videoPrompts:[],carouselSlides:[]});setLoading(false);setError(null);setTranslatedTexts({});setCustomInstructions({});setIdeaCustomizationInput('');};// Function to navigate to the previous stage\nconst goToPreviousStage=()=>{if(stage==='api_key_input'){setStage('splash_screen');// Go back to splash screen if on API key input\n}else if(stage==='ideas_generation'){setStage('api_key_input');}else if(stage==='idea_selection'){setStage('ideas_generation');generateIdeas();// Re-generate ideas if going back to this stage\n}else if(stage==='content_generation'){setStage('idea_selection');}else if(stage==='display_content'){setStage('content_generation');}setError(null);// Clear error on navigation\n};// Function to navigate to the next stage (simplified, depends on current stage logic)\nconst goToNextStage=()=>{if(stage==='splash_screen'){setStage('api_key_input');}else if(stage==='api_key_input'){handleApiKeySubmit();// Try to move to ideas generation\n}else if(stage==='ideas_generation'&&ideas.length>0){setStage('idea_selection');}else if(stage==='idea_selection'&&selectedIdea){setStage('content_generation');}else if(stage==='content_generation'&&(generatedContent.bloggerArticle||Object.keys(generatedContent.posts).length>0||generatedContent.imagePrompts.length>0||generatedContent.videoPrompts.length>0||generatedContent.carouselSlides.length>0)){// Check if any content is generated\nsetStage('display_content');}};// Function to refresh current stage content\nconst refreshCurrentStage=()=>{setError(null);// Clear any existing errors\nif(stage==='ideas_generation'||stage==='idea_selection'){generateIdeas(ideaCustomizationInput);// Re-generate ideas with current customization\n}else if(stage==='content_generation'&&selectedIdea){// Re-generate all content if on content generation screen\ngenerateAllContent(selectedIdea);}else if(stage==='display_content'&&selectedIdea){// Re-generate all content if on display screen\ngenerateAllContent(selectedIdea);}else{// Fallback for other stages or if no idea selected yet\nalert('لا يمكن تحديث هذه الصفحة حالياً. يرجى المتابعة أو البدء من جديد.');}};// Blogger HTML Template (from user's input) - to be filled dynamically\nconst getBloggerFullHtml=(articleContentHtml,articleTitle)=>`\n<!DOCTYPE html>\n<html lang=\"ar\" dir=\"rtl\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>${articleTitle||'مقال ريكويرز للخدمات الأكاديمية'}</title>\n    <!-- Google Fonts: Tajawal -->\n    <link href=\"https://fonts.googleapis.com/css2?family=Tajawal:wght@300;400;500;700;800&display=swap\" rel=\"stylesheet\">\n    <!-- Font Awesome for Icons -->\n    <link rel=\"stylesheet\" href=\"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css\">\n    <style>\n        body {\n            margin: 0;\n            padding: 0;\n            background-color: #f0f2f5; /* لون خلفية خفيف للجسم */\n            font-family: 'Tajawal', Arial, sans-serif;\n            direction: rtl; /* لضمان الاتجاه من اليمين لليسار */\n            overflow-x: hidden; /* لمنع شريط التمرير الأفقي */\n        }\n        .dark body {\n            background-color: #1a202c;\n            color: #e2e8f0;\n        }\n\n        .article-container {\n            font-family: 'Tajawal', Arial, sans-serif;\n            max-width: 900px;\n            margin: 0 auto;\n            padding: 20px;\n            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n            border-radius: 20px;\n            box-shadow: 0 20px 40px rgba(0,0,0,0.1);\n            color: #2c3e50;\n            line-height: 1.8;\n            direction: rtl;\n        }\n        .dark .article-container {\n            background: linear-gradient(135deg, #4a0e4a 0%, #2d0a4d 100%);\n            color: #e2e8f0;\n        }\n        \n        .article-header {\n            text-align: center;\n            margin-bottom: 40px;\n            padding: 40px 20px;\n            background: rgba(255,255,255,0.95);\n            border-radius: 15px;\n            backdrop-filter: blur(10px);\n            border: 1px solid rgba(255,255,255,0.2);\n        }\n        .dark .article-header {\n            background: rgba(30,41,59,0.95);\n            border: 1px solid rgba(255,255,255,0.1);\n        }\n        \n        .article-title {\n            font-size: 2.5em;\n            font-weight: 800;\n            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n            -webkit-background-clip: text;\n            -webkit-text-fill-color: transparent;\n            background-clip: text;\n            margin-bottom: 20px;\n            text-shadow: 0 2px 4px rgba(0,0,0,0.1);\n        }\n        .dark .article-title {\n            background: linear-gradient(135deg, #a78bfa 0%, #d8b4fe 100%);\n            -webkit-background-clip: text;\n            -webkit-text-fill-color: transparent;\n            background-clip: text;\n        }\n        \n        .article-meta {\n            display: flex;\n            justify-content: center;\n            align-items: center;\n            gap: 20px;\n            flex-wrap: wrap;\n            margin-top: 20px;\n            color: #666;\n            font-size: 0.9em;\n        }\n        .dark .article-meta {\n            color: #a0aec0;\n        }\n        \n        .meta-item {\n            display: flex;\n            align-items: center;\n            gap: 5px;\n            padding: 8px 15px;\n            background: rgba(102, 126, 234, 0.1);\n            border-radius: 20px;\n            transition: all 0.3s ease;\n        }\n        .dark .meta-item {\n            background: rgba(167, 139, 250, 0.1);\n        }\n        \n        .meta-item:hover {\n            background: rgba(102, 126, 234, 0.2);\n            transform: translateY(-2px);\n        }\n        .dark .meta-item:hover {\n            background: rgba(167, 139, 250, 0.2);\n        }\n        \n        .reading-time {\n            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n            color: white;\n            padding: 10px 20px;\n            border-radius: 25px;\n            font-weight: 600;\n            box-shadow: 0 4px 15px rgba(102, 126, 234, 0.3);\n        }\n        .dark .reading-time {\n            background: linear-gradient(135deg, #a78bfa 0%, #d8b4fe 100%);\n            box-shadow: 0 4px 15px rgba(167, 139, 250, 0.3);\n        }\n        \n        .article-content {\n            background: rgba(255,255,255,0.95);\n            padding: 40px;\n            border-radius: 15px;\n            backdrop-filter: blur(10px);\n            border: 1px solid rgba(255,255,255,0.2);\n            margin-bottom: 30px;\n        }\n        .dark .article-content {\n            background: rgba(30,41,59,0.95);\n            border: 1px solid rgba(255,255,255,0.1);\n        }\n        \n        .section-title {\n            font-size: 1.8em;\n            font-weight: 700;\n            color: #4d22bb;\n            margin: 30px 0 20px 0;\n            position: relative;\n            padding-right: 20px;\n            border-right: 4px solid #667eea;\n        }\n        .dark .section-title {\n            color: #d8b4fe;\n            border-right-color: #a78bfa;\n        }\n        \n        .subsection-title {\n            font-size: 1.4em;\n            font-weight: 600;\n            color: #5a67d8;\n            margin: 25px 0 15px 0;\n            position: relative;\n            padding-right: 25px;\n        }\n        .dark .subsection-title {\n            color: #a78bfa;\n        }\n        \n        .subsection-title::before {\n            content: '';\n            position: absolute;\n            right: 0;\n            top: 50%;\n            transform: translateY(-50%);\n            width: 15px;\n            height: 15px;\n            background: #667eea;\n            border-radius: 50%;\n        }\n        .dark .subsection-title::before {\n            background: #a78bfa;\n        }\n        \n        .article-paragraph {\n            font-size: 1.1em;\n            line-height: 1.9;\n            margin-bottom: 20px;\n            text-align: justify;\n            color: #2d3748;\n            font-weight: 400;\n        }\n        .dark .article-paragraph {\n            color: #e2e8f0;\n        }\n        \n        .highlight-box {\n            background: linear-gradient(135deg, rgba(102, 126, 234, 0.1) 0%, rgba(118, 75, 162, 0.1) 100%);\n            border-right: 4px solid #667eea;\n            padding: 20px 20px 20px 50px;\n            margin: 25px 0;\n            border-radius: 10px;\n            position: relative;\n            box-shadow: 0 4px 15px rgba(0,0,0,0.05);\n        }\n        .dark .highlight-box {\n            background: linear-gradient(135deg, rgba(167, 139, 250, 0.1) 0%, rgba(216, 180, 254, 0.1) 100%);\n            border-right-color: #a78bfa;\n            box-shadow: 0 4px 15px rgba(0,0,0,0.2);\n        }\n        \n        .highlight-box::before {\n            content: 'i';\n            position: absolute;\n            top: 20px;\n            right: 20px;\n            font-size: 1.2em;\n            color: white;\n            font-weight: bold;\n            background: #667eea;\n            border-radius: 50%;\n            width: 25px;\n            height: 25px;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            font-style: italic;\n        }\n        .dark .highlight-box::before {\n            background: #a78bfa;\n        }\n        \n        .decorative-divider {\n            text-align: center;\n            margin: 40px 0;\n            position: relative;\n        }\n        \n        .decorative-divider::before {\n            content: '';\n            position: absolute;\n            top: 50%;\n            left: 0;\n            right: 0;\n            height: 2px;\n            background: linear-gradient(90deg, transparent 0%, #667eea 20%, #764ba2 50%, #667eea 80%, transparent 100%);\n            z-index: 1;\n        }\n        .dark .decorative-divider::before {\n            background: linear-gradient(90deg, transparent 0%, #a78bfa 20%, #d8b4fe 50%, #a78bfa 80%, transparent 100%);\n        }\n        \n        .decorative-divider span {\n            background: rgba(255,255,255,0.95);\n            padding: 0 20px;\n            color: #667eea;\n            font-size: 1.5em;\n            position: relative;\n            z-index: 2;\n            font-weight: bold;\n        }\n        .dark .decorative-divider span {\n            background: rgba(30,41,59,0.95);\n            color: #a78bfa;\n        }\n        \n        .bullet-list {\n            list-style: none;\n            padding-right: 0;\n            margin: 20px 0;\n        }\n        \n        .bullet-list li {\n            position: relative;\n            padding-right: 30px;\n            margin-bottom: 15px;\n            font-size: 1.1em;\n            line-height: 1.7;\n        }\n        \n        .bullet-list li::before {\n            content: '';\n            position: absolute;\n            right: 8px;\n            top: 12px;\n            width: 8px;\n            height: 8px;\n            background: #667eea;\n            border-radius: 50%;\n        }\n        .dark .bullet-list li::before {\n            background: #a78bfa;\n        }\n        \n        .numbered-list {\n            counter-reset: item-counter;\n            list-style: none;\n            padding-right: 0;\n            margin: 20px 0;\n        }\n        \n        .numbered-list li {\n            position: relative;\n            padding-right: 50px;\n            margin-bottom: 15px;\n            font-size: 1.1em;\n            line-height: 1.7;\n            counter-increment: item-counter;\n        }\n        \n        .numbered-list li::before {\n            content: counter(item-counter);\n            position: absolute;\n            right: 0;\n            top: 0;\n            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n            color: white;\n            width: 30px;\n            height: 30px;\n            border-radius: 50%;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            font-weight: 700;\n            font-size: 0.9em;\n        }\n        .dark .numbered-list li::before {\n            background: linear-gradient(135deg, #a78bfa 0%, #d8b4fe 100%);\n        }\n        \n        .quote-box {\n            background: rgba(255,255,255,0.9);\n            border-right: 4px solid #667eea;\n            padding: 25px 25px 25px 60px;\n            margin: 30px 0;\n            border-radius: 10px;\n            position: relative;\n            font-style: italic;\n            font-size: 1.15em;\n            box-shadow: 0 4px 15px rgba(0,0,0,0.05);\n        }\n        .dark .quote-box {\n            background: rgba(30,41,59,0.9);\n            border-right-color: #a78bfa;\n            box-shadow: 0 4px 15px rgba(0,0,0,0.2);\n        }\n        \n        .quote-box::before {\n            content: '\"';\n            position: absolute;\n            top: 10px;\n            right: 20px;\n            font-size: 3em;\n            color: #667eea;\n            opacity: 0.3;\n            font-family: serif;\n            line-height: 1;\n        }\n        .dark .quote-box::before {\n            color: #a78bfa;\n        }\n        \n        .progress-bar {\n            position: fixed;\n            top: 0;\n            left: 0;\n            width: 0%;\n            height: 4px;\n            background: linear-gradient(90deg, #667eea 0%, #764ba2 100%);\n            z-index: 1000;\n            transition: width 0.3s ease;\n        }\n        .dark .progress-bar {\n            background: linear-gradient(90deg, #a78bfa 0%, #d8b4fe 100%);\n        }\n        \n        .table-of-contents {\n            background: rgba(255,255,255,0.9);\n            border: 2px solid rgba(102, 126, 234, 0.2);\n            border-radius: 15px;\n            padding: 25px;\n            margin: 30px auto; /* Added auto for horizontal centering */\n            max-width: 800px; /* Adjusted max-width for TOC */\n        }\n        .dark .table-of-contents {\n            background: rgba(30,41,59,0.9);\n            border-color: rgba(167, 139, 250, 0.2);\n        }\n        \n        .toc-title {\n            font-size: 1.3em;\n            font-weight: 700;\n            color: #4d22bb;\n            margin-bottom: 15px;\n            text-align: center;\n            border-bottom: 2px solid #667eea;\n            padding-bottom: 10px;\n            display: inline-block;\n        }\n        .dark .toc-title {\n            color: #d8b4fe;\n            border-bottom-color: #a78bfa;\n        }\n        \n        .toc-list {\n            list-style: none;\n            padding-right: 0;\n        }\n        \n        .toc-list li {\n            margin-bottom: 10px;\n            position: relative;\n            padding-right: 20px;\n        }\n        \n.toc-list li::before {\n            content: '';\n            position: absolute;\n            right: 0;\n            top: 12px;\n            width: 6px;\n            height: 6px;\n            background: #667eea;\n            border-radius: 50%;\n        }\n        .dark .toc-list li::before {\n            background: #a78bfa;\n        }\n        \n        .toc-list a {\n            color: #5a67d8;\n            text-decoration: none;\n            font-weight: 500;\n            transition: all 0.3s ease;\n            display: block;\n            padding: 8px 15px;\n            border-radius: 8px;\n        }\n        .dark .toc-list a {\n            color: #a78bfa;\n        }\n        \n        .toc-list a:hover {\n            background: rgba(102, 126, 234, 0.1);\n            color: #4d22bb;\n            transform: translateX(-5px);\n        }\n        .dark .toc-list a:hover {\n            background: rgba(167, 139, 250, 0.1);\n            color: #d8b4fe;\n        }\n        \n        .conclusion-box {\n            background: linear-gradient(135deg, rgba(102, 126, 234, 0.1) 0%, rgba(118, 75, 162, 0.1) 100%);\n            border: 2px solid rgba(102, 126, 234, 0.3);\n            border-radius: 15px;\n            padding: 30px;\n            margin: 40px 0;\n            text-align: center;\n        }\n        .dark .conclusion-box {\n            background: linear-gradient(135deg, rgba(167, 139, 250, 0.1) 0%, rgba(216, 180, 254, 0.1) 100%);\n            border-color: rgba(167, 139, 250, 0.3);\n        }\n        \n        .conclusion-title {\n            font-size: 1.5em;\n            font-weight: 700;\n            color: #4d22bb;\n            margin-bottom: 20px;\n            border-bottom: 2px solid #667eea;\n            padding-bottom: 10px;\n            display: inline-block;\n        }\n        .dark .conclusion-title {\n            color: #d8b4fe;\n            border-bottom-color: #a78bfa;\n        }\n        \n        @media (max-width: 768px) {\n            .article-container {\n                padding: 15px;\n                margin: 10px;\n            }\n            \n            .article-title {\n                font-size: 2em;\n            }\n            \n            .article-content {\n                padding: 25px;\n            }\n            \n            .article-meta {\n                flex-direction: column;\n                gap: 10px;\n            }\n        }\n        \n        /* Animation for scroll */\n        @keyframes fadeInUp {\n            from {\n                opacity: 0;\n                transform: translateY(30px);\n            }\n            to {\n                opacity: 1;\n                transform: translateY(0);\n            }\n        }\n        \n        .fade-in {\n            animation: fadeInUp 0.6s ease-out forwards; /* Added forwards to keep the end state */\n        }\n\n        /* Social Icons specific CSS */\n        .social-icons-container {\n            display: flex;\n            justify-content: center;\n            align-items: center;\n            gap: 15px;\n            margin-top: 30px;\n            flex-wrap: wrap;\n        }\n        .social-icon-link {\n            width: 48px;\n            height: 48px;\n            display: flex;\n            justify-content: center;\n            align-items: center;\n            background-color: rgba(255, 255, 255, 0.9);\n            border-radius: 8px;\n            transition: all 0.3s ease;\n            position: relative;\n        }\n        .dark .social-icon-link {\n            background-color: rgba(45,55,72,0.9);\n        }\n        .social-icon-link i {\n            font-size: 24px;\n            color: #4d22bb;\n            transition: all 0.3s ease;\n        }\n        .dark .social-icon-link i {\n            color: #a78bfa;\n        }\n        .social-icon-link:hover {\n            transform: translateY(-5px) scale(1.1);\n            background-color: #4d22bb;\n            box-shadow: 0 5px 15px rgba(0,0,0,0.2);\n        }\n        .dark .social-icon-link:hover {\n            background-color: #a78bfa;\n        }\n        .social-icon-link:hover i {\n            color: white;\n        }\n        .social-icon-link.gmail:hover { background-color: #d44638; }\n        .social-icon-link.facebook:hover { background-color: #1877f2; }\n        .social-icon-link.instagram:hover { background: radial-gradient(circle at 30% 107%, #fdf497 0%, #fdf497 5%, #fd5949 45%, #d6249f 60%, #285AEB 90%); }\n        .social-icon-link.tiktok:hover { background-color: #000; }\n        .social-icon-link.linkedin:hover { background-color: #0a66c2; }\n        .social-icon-link.twitter:hover { background-color: #1da1f2; }\n        .social-icon-link.blogger:hover { background-color: #ff5722; }\n        .social-icon-link.whatsapp:hover { background-color: #25d366; }\n    </style>\n</head>\n<body>\n\n<div class=\"progress-bar\" id=\"progressBar\"></div>\n\n<div class=\"article-container\">\n    <div class=\"article-header fade-in\">\n        <h1 class=\"article-title\">${articleTitle||'عنوان المقال'}</h1>\n        <div class=\"article-meta\">\n            <div class=\"meta-item\">\n                <i class=\"fas fa-calendar-alt\"></i>\n                <span>${new Date().toLocaleDateString('ar-EG',{year:'numeric',month:'long'})}</span>\n            </div>\n            <div class=\"meta-item\">\n                <i class=\"fas fa-user\"></i>\n                <span>Requires for Academic Services</span>\n            </div>\n            <div class=\"reading-time\">\n                <i class=\"fas fa-clock\"></i>\n                <span>5-7 دقائق قراءة</span>\n            </div>\n        </div>\n    </div>\n\n    ${articleContentHtml}\n\n    <div class=\"contact-info\" style=\"text-align:center; margin-top:40px;\">\n        <p class=\"mb-4\" style=\"color: white; font-size: 1.1em; font-weight: 500;\">للمزيد من المساعدة في أبحاثك الأكاديمية، لا تتردد في التواصل معنا:</p>\n        \n        <div class=\"social-icons-container\">\n            <a href=\"mailto:requiresforeducationalservices@gmail.com\" class=\"social-icon-link gmail\" aria-label=\"Gmail\" target=\"_blank\" rel=\"noopener\">\n                <i class=\"fas fa-envelope\"></i>\n            </a>\n            <a href=\"https://www.facebook.com/Requires0\" class=\"social-icon-link facebook\" aria-label=\"Facebook\" target=\"_blank\" rel=\"noopener\">\n                <i class=\"fab fa-facebook-f\"></i>\n            </a>\n            <a href=\"https://www.instagram.com/requires0/\" class=\"social-icon-link instagram\" aria-label=\"Instagram\" target=\"_blank\" rel=\"noopener\">\n                <i class=\"fab fa-instagram\"></i>\n            </a>\n            <a href=\"https://www.tiktok.com/@requires10\" class=\"social-icon-link tiktok\" aria-label=\"TikTok\" target=\"_blank\" rel=\"noopener\">\n                <i class=\"fab fa-tiktok\"></i>\n            </a>\n            <a href=\"https://www.linkedin.com/in/requires0\" class=\"social-icon-link linkedin\" aria-label=\"LinkedIn\" target=\"_blank\" rel=\"noopener\">\n                <i class=\"fab fa-linkedin-in\"></i>\n            </a>\n            <a href=\"https://x.com/Requires0\" class=\"social-icon-link twitter\" aria-label=\"Twitter\" target=\"_blank\" rel=\"noopener\">\n                <i class=\"fab fa-twitter\"></i>\n            </a>\n            <a href=\"https://requires0.blogspot.com/\" class=\"social-icon-link blogger\" aria-label=\"Blogger\" target=\"_blank\" rel=\"noopener\">\n                <i class=\"fab fa-blogger-b\"></i>\n            </a>\n            <a href=\"https://api.whatsapp.com/send?phone=01551053732\" class=\"social-icon-link whatsapp\" aria-label=\"WhatsApp\" target=\"_blank\" rel=\"noopener\">\n                <i class=\"fab fa-whatsapp\"></i>\n            </a>\n        </div>\n    </div>\n</div>\n\n<script>\n    // Progress bar for scrolling\n    window.addEventListener('scroll', function() {\n        const scrollTop = document.documentElement.scrollTop || document.body.scrollTop;\n        const scrollHeight = document.documentElement.scrollHeight - document.documentElement.clientHeight;\n        const scrolled = (scrollTop / scrollHeight) * 100;\n        const progressBar = document.getElementById('progressBar');\n        if (progressBar) { // Check if element exists\n            progressBar.style.width = scrolled + '%';\n        }\n    });\n    \n    // Fade-in animation on scroll\n    const observer = new IntersectionObserver((entries) => {\n        entries.forEach((entry) => {\n            if (entry.isIntersecting) {\n                entry.target.classList.add('fade-in');\n                observer.unobserve(entry.target);\n            }\n        });\n    }, { threshold: 0.1 });\n    \n    // Observe elements for fade-in effect\n    document.querySelectorAll('.article-header, .table-of-contents, .article-content > *:not(.decorative-divider), .contact-info').forEach((el) => {\n        observer.observe(el);\n    });\n    \n    // Smooth scroll for internal links\n    document.querySelectorAll('.toc-list a[href^=\"#\"]').forEach(anchor => {\n        anchor.addEventListener('click', function (e) {\n            e.preventDefault();\n            const target = document.querySelector(this.getAttribute('href'));\n            if (target) {\n                target.scrollIntoView({\n                    behavior: 'smooth',\n                    block: 'start'\n                });\n            }\n        });\n    });\n</script>\n</body>\n</html>\n    `;return/*#__PURE__*/_jsxs(\"div\",{className:`min-h-screen ${darkMode?'bg-gray-900 text-gray-100':'bg-gray-100 text-gray-900'} font-sans p-4 sm:p-8 flex flex-col items-center justify-center transition-colors duration-300`,children:[/*#__PURE__*/_jsx(\"link\",{href:\"https://fonts.googleapis.com/css2?family=Tajawal:wght@300;400;500;700;800&display=swap\",rel:\"stylesheet\"}),/*#__PURE__*/_jsx(\"link\",{href:\"https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap\",rel:\"stylesheet\"}),/*#__PURE__*/_jsx(\"link\",{rel:\"stylesheet\",href:\"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css\"}),/*#__PURE__*/_jsx(\"script\",{src:\"https://cdn.tailwindcss.com\"}),/*#__PURE__*/_jsx(\"style\",{children:`\n                @keyframes fadeIn {\n                    from { opacity: 0; }\n                    to { opacity: 1; }\n                }\n                @keyframes slideInUp {\n                    from { opacity: 0; transform: translateY(20px); }\n                    to { opacity: 1; transform: translateY(0); }\n                }\n                @keyframes bounceIn {\n                    0% { transform: scale(0.1); opacity: 0; }\n                    60% { transform: scale(1.2); opacity: 1; }\n                    100% { transform: scale(1); }\n                }\n                .animate-fadeIn { animation: fadeIn 0.8s ease-out forwards; }\n                .animate-slideInUp { animation: slideInUp 0.6s ease-out forwards; }\n                .animate-bounceIn { animation: bounceIn 0.7s ease-out forwards; }\n                .delay-100 { animation-delay: 0.1s; }\n                .delay-200 { animation-delay: 0.2s; }\n                .delay-300 { animation-delay: 0.3s; }\n                .delay-400 { animation-delay: 0.4s; }\n                .delay-500 { animation-delay: 0.5s; }\n                `}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setDarkMode(!darkMode),className:`fixed top-4 left-4 p-3 rounded-full shadow-lg transition-all duration-300 z-50 ${darkMode?'bg-gray-700 text-yellow-300 hover:bg-gray-600':'bg-yellow-300 text-gray-800 hover:bg-yellow-400'}`,\"aria-label\":\"Toggle dark mode\",children:darkMode?/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-sun\"}):/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-moon\"})}),stage!=='splash_screen'&&stage!=='api_key_input'&&/*#__PURE__*/_jsx(\"img\",{src:\"https://i.ibb.co/xKH7Rbby/ahmed-elsherbini-logo.png\",alt:\"Ahmad ElSherbiny Logo\",className:\"fixed top-4 right-4 w-10 h-10 sm:w-12 sm:h-12 z-40 transition-all duration-300 rounded-full shadow-md\"// Adjusted size\n}),stage!=='splash_screen'&&/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowContactModal(true),className:\"fixed bottom-4 left-4 bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 px-6 rounded-full shadow-lg transform transition duration-300 ease-in-out hover:scale-105 z-40\",style:{fontFamily:'Tajawal'},children:\"\\u0627\\u062A\\u0635\\u0644 \\u0628\\u0646\\u0627\"}),/*#__PURE__*/_jsxs(\"div\",{className:`bg-white shadow-lg rounded-2xl p-6 sm:p-10 w-full max-w-4xl text-center transition-colors duration-300 ${darkMode?'dark:bg-gray-800':''}`,children:[error&&/*#__PURE__*/_jsxs(\"div\",{className:\"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-4 transition-all duration-300\",role:\"alert\",children:[/*#__PURE__*/_jsx(\"strong\",{className:\"font-bold\",children:\"\\u062E\\u0637\\u0623!\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"block sm:inline\",children:[\" \",error]})]}),loading&&!processingButton&&/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-center items-center mb-6 transition-all duration-300\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-500\"}),/*#__PURE__*/_jsx(\"p\",{className:\"mr-4 text-purple-600 font-semibold\",style:{fontFamily:'Tajawal'},children:\"\\u062C\\u0627\\u0631\\u064A \\u0627\\u0644\\u0645\\u0639\\u0627\\u0644\\u062C\\u0629...\"})]}),stage==='splash_screen'&&/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col items-center justify-center min-h-[60vh] animate-fadeIn\",children:[/*#__PURE__*/_jsx(\"img\",{src:\"https://i.ibb.co/xKH7Rbby/ahmed-elsherbini-logo.png\",alt:\"Ahmad ElSherbiny Logo\",className:\"w-32 h-32 mb-6 animate-bounceIn\"}),/*#__PURE__*/_jsx(\"h1\",{className:\"text-3xl sm:text-4xl font-extrabold text-transparent bg-clip-text bg-gradient-to-r from-purple-600 to-indigo-600 mb-2 animate-slideInUp delay-100\",style:{fontFamily:'Poppins'},children:\"Requires for Academic Services\"}),/*#__PURE__*/_jsx(\"h1\",{className:\"text-3xl sm:text-4xl font-extrabold text-transparent bg-clip-text bg-gradient-to-r from-purple-600 to-indigo-600 mb-4 animate-slideInUp delay-200\",style:{fontFamily:'Tajawal'},children:\"\\u0631\\u064A\\u0643\\u0648\\u064A\\u0631\\u0632 \\u0644\\u0644\\u062E\\u062F\\u0645\\u0627\\u062A \\u0627\\u0644\\u0623\\u0643\\u0627\\u062F\\u064A\\u0645\\u064A\\u0629\"}),/*#__PURE__*/_jsx(\"p\",{className:`text-xl sm:text-2xl font-semibold mb-8 animate-fadeIn delay-300 ${darkMode?'text-gray-300':'text-gray-700'}`,style:{fontFamily:'Tajawal'},children:\"\\u0645\\u0631\\u0643\\u0632 \\u0625\\u062F\\u0627\\u0631\\u0629 \\u0627\\u0644\\u0645\\u062D\\u062A\\u0648\\u0649 \\u0644\\u0645\\u0646\\u0635\\u0627\\u062A \\u0631\\u064A\\u0643\\u0648\\u064A\\u0631\\u0632\"}),/*#__PURE__*/_jsxs(\"p\",{className:`text-sm sm:text-base mb-10 animate-fadeIn delay-400 ${darkMode?'text-gray-400':'text-gray-600'}`,style:{fontFamily:'Poppins'},children:[\"Prepared and designed with Faib coding by: \",/*#__PURE__*/_jsx(\"span\",{className:\"font-bold text-purple-500\",children:\"Ahmad ElSherbiny\"})]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setStage('api_key_input'),className:\"bg-gradient-to-r from-purple-500 to-indigo-600 hover:from-purple-600 hover:to-indigo-700 text-white font-bold py-3 px-10 rounded-full shadow-lg transform transition duration-300 ease-in-out hover:scale-105 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-opacity-50 animate-bounce delay-500\",style:{fontFamily:'Tajawal'},children:\"\\u0627\\u0628\\u062F\\u0623\"})]}),stage==='api_key_input'&&/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col items-center transition-all duration-300 animate-fadeIn\",children:[/*#__PURE__*/_jsx(\"h2\",{className:`text-2xl font-bold mb-6 transition-colors duration-300 ${darkMode?'text-gray-200':'text-gray-800'}`,style:{fontFamily:'Tajawal'},children:\"\\u0623\\u062F\\u062E\\u0644 \\u0645\\u0641\\u062A\\u0627\\u062D \\u0627\\u0644\\u0640 API \\u0627\\u0644\\u062E\\u0627\\u0635 \\u0628\\u0640 Gemini\"}),/*#__PURE__*/_jsx(\"p\",{className:`mb-4 text-sm ${darkMode?'text-gray-400':'text-gray-600'}`,style:{fontFamily:'Tajawal'},children:\"\\u0644\\u0644\\u0627\\u0633\\u062A\\u0641\\u0627\\u062F\\u0629 \\u0627\\u0644\\u0643\\u0627\\u0645\\u0644\\u0629 \\u0645\\u0646 \\u0645\\u064A\\u0632\\u0627\\u062A \\u0627\\u0644\\u0630\\u0643\\u0627\\u0621 \\u0627\\u0644\\u0627\\u0635\\u0637\\u0646\\u0627\\u0639\\u064A\\u060C \\u064A\\u0631\\u062C\\u0649 \\u0625\\u062F\\u062E\\u0627\\u0644 \\u0645\\u0641\\u062A\\u0627\\u062D \\u0627\\u0644\\u0640 API \\u0627\\u0644\\u062E\\u0627\\u0635 \\u0628\\u0643. \\u064A\\u0645\\u0643\\u0646\\u0643 \\u0627\\u0644\\u062D\\u0635\\u0648\\u0644 \\u0639\\u0644\\u0649 \\u0645\\u0641\\u062A\\u0627\\u062D \\u0645\\u062C\\u0627\\u0646\\u064A \\u0645\\u0646 Google AI Studio.\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",placeholder:\"\\u0623\\u062F\\u062E\\u0644 \\u0645\\u0641\\u062A\\u0627\\u062D \\u0627\\u0644\\u0640 API \\u0647\\u0646\\u0627\",value:userApiKey,onChange:e=>setUserApiKey(e.target.value),className:`w-full max-w-md p-3 mb-4 border rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 transition-colors duration-300 ${darkMode?'bg-gray-700 text-gray-200 border-gray-600':'bg-white text-gray-800 border-gray-300'}`,style:{fontFamily:'Poppins'}}),/*#__PURE__*/_jsx(\"button\",{onClick:handleApiKeySubmit,disabled:loading,className:\"bg-gradient-to-r from-purple-500 to-indigo-600 hover:from-purple-600 hover:to-indigo-700 text-white font-bold py-3 px-8 rounded-full shadow-lg transform transition duration-300 ease-in-out hover:scale-105 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-opacity-50\",style:{fontFamily:'Tajawal'},children:\"\\u0628\\u062F\\u0621 \\u0627\\u0644\\u0627\\u0633\\u062A\\u062E\\u062F\\u0627\\u0645\"}),/*#__PURE__*/_jsx(\"button\",{onClick:goToPreviousStage,disabled:loading,className:\"bg-gray-500 hover:bg-gray-600 text-white font-bold py-2 px-6 rounded-full shadow-md transition duration-300 ease-in-out hover:scale-105 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-opacity-50 mt-4\",style:{fontFamily:'Tajawal'},children:\"\\u0631\\u062C\\u0648\\u0639\"})]}),stage==='ideas_generation'&&userApiKey&&/*#__PURE__*/_jsx(\"button\",{onClick:()=>generateIdeas(),disabled:loading,className:\"bg-gradient-to-r from-purple-500 to-indigo-600 hover:from-purple-600 hover:to-indigo-700 text-white font-bold py-3 px-8 rounded-full shadow-lg transform transition duration-300 ease-in-out hover:scale-105 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-opacity-50 animate-fadeIn\",style:{fontFamily:'Tajawal'},children:\"\\u0641\\u0643\\u0631\\u0644\\u064A \\u0628\\u0623\\u0641\\u0643\\u0627\\u0631 \\u062C\\u062F\\u064A\\u062F\\u0629!\"}),stage==='idea_selection'&&/*#__PURE__*/_jsxs(\"div\",{className:\"mt-8 transition-all duration-300 animate-fadeIn\",children:[/*#__PURE__*/_jsx(\"h2\",{className:`text-2xl font-bold mb-6 transition-colors duration-300 ${darkMode?'text-gray-200':'text-gray-800'}`,style:{fontFamily:'Tajawal'},children:\"\\u0627\\u062E\\u062A\\u0631 \\u0641\\u0643\\u0631\\u0629 \\u0627\\u0644\\u0645\\u062D\\u062A\\u0648\\u0649 \\u0644\\u064A\\u0648\\u0645\\u0643:\"}),/*#__PURE__*/_jsxs(\"div\",{className:`mb-6 p-4 border rounded-lg shadow-inner transition-colors duration-300 ${darkMode?'border-gray-600 bg-gray-700':'border-gray-200 bg-gray-50'}`,children:[/*#__PURE__*/_jsx(\"h3\",{className:`text-xl font-semibold mb-3 transition-colors duration-300 ${darkMode?'text-gray-200':'text-gray-700'}`,style:{fontFamily:'Tajawal'},children:\"\\u062A\\u062E\\u0635\\u064A\\u0635 \\u0627\\u0644\\u0623\\u0641\\u0643\\u0627\\u0631 \\u0627\\u0644\\u0645\\u0642\\u062A\\u0631\\u062D\\u0629:\"}),/*#__PURE__*/_jsx(\"textarea\",{placeholder:\"\\u0623\\u062F\\u062E\\u0644 \\u062A\\u0639\\u0644\\u064A\\u0645\\u0627\\u062A \\u0627\\u0644\\u062A\\u062E\\u0635\\u064A\\u0635 \\u0647\\u0646\\u0627 (\\u0645\\u062B\\u0627\\u0644: \\u0623\\u0641\\u0643\\u0627\\u0631 \\u0639\\u0646 \\u0627\\u0644\\u062A\\u062D\\u062F\\u064A\\u0627\\u062A \\u0627\\u0644\\u0623\\u0643\\u0627\\u062F\\u064A\\u0645\\u064A\\u0629\\u060C \\u0623\\u0641\\u0643\\u0627\\u0631 \\u0623\\u0642\\u0635\\u0631)\",value:ideaCustomizationInput,onChange:e=>setIdeaCustomizationInput(e.target.value),className:`w-full p-2 mb-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 transition-colors duration-300 ${darkMode?'bg-gray-800 text-gray-200 border-gray-600':'bg-white text-gray-800 border-gray-300'}`,dir:\"rtl\",style:{fontFamily:'Tajawal'}}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>generateIdeas(ideaCustomizationInput),disabled:loading||!ideaCustomizationInput.trim(),className:\"bg-purple-500 hover:bg-purple-600 text-white font-bold py-2 px-6 rounded-full shadow-md transition duration-300 ease-in-out hover:scale-105 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-opacity-50\",style:{fontFamily:'Tajawal'},children:processingButton==='generate_ideas'?/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-spinner fa-spin ml-2\"}):'تخصيص الفكرة'})]}),/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\",children:ideas.map((idea,index)=>/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:()=>{setSelectedIdea(idea);setStage('content_generation');},className:`p-5 rounded-xl shadow-md hover:shadow-lg transform transition duration-300 ease-in-out hover:scale-105 text-lg font-semibold text-right flex items-center justify-between flex-grow mb-2 ${darkMode?'bg-purple-900 border-purple-700 text-purple-200':'bg-purple-100 border-purple-300 text-purple-800'}`,style:{fontFamily:'Tajawal'},children:[/*#__PURE__*/_jsx(\"span\",{children:idea}),/*#__PURE__*/_jsx(\"i\",{className:`fas fa-arrow-left ml-2 transition-colors duration-300 ${darkMode?'text-purple-400':'text-purple-600'}`})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-end gap-2\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>translateText(idea,`idea-${index}`),className:`py-1 px-3 rounded-full text-sm transition duration-200 ease-in-out ${darkMode?'bg-gray-600 hover:bg-gray-500 text-gray-200':'bg-gray-200 hover:bg-gray-300 text-gray-800'}`,disabled:loading,style:{fontFamily:'Tajawal'},children:processingButton===`translate-idea-${index}`?/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-spinner fa-spin ml-2\"}):'ترجمة'}),translatedTexts[`idea-${index}`]&&/*#__PURE__*/_jsx(\"span\",{className:`text-sm mt-1 transition-colors duration-300 ${darkMode?'text-gray-400':'text-gray-600'}`,dir:\"ltr\",style:{fontFamily:'Poppins'},children:translatedTexts[`idea-${index}`]})]})]},index))}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-8 flex justify-center gap-4\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>generateIdeas(),disabled:loading,className:\"bg-green-500 hover:bg-green-600 text-white font-bold py-2 px-6 rounded-full shadow-md transition duration-300 ease-in-out hover:scale-105 focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-opacity-50\",style:{fontFamily:'Tajawal'},children:processingButton==='generate_ideas'?/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-spinner fa-spin ml-2\"}):'أفكار تانية'}),/*#__PURE__*/_jsx(\"button\",{onClick:goToPreviousStage,disabled:loading,className:\"bg-gray-500 hover:bg-gray-600 text-white font-bold py-2 px-6 rounded-full shadow-md transition duration-300 ease-in-out hover:scale-105 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-opacity-50\",style:{fontFamily:'Tajawal'},children:\"\\u0631\\u062C\\u0648\\u0639\"}),/*#__PURE__*/_jsx(\"button\",{onClick:refreshCurrentStage,disabled:loading,className:\"bg-blue-500 hover:bg-blue-600 text-white font-bold py-2 px-6 rounded-full shadow-md transition duration-300 ease-in-out hover:scale-105 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-opacity-50\",style:{fontFamily:'Tajawal'},children:processingButton==='refresh_current_stage'?/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-spinner fa-spin ml-2\"}):'تحديث'})]})]}),stage==='content_generation'&&selectedIdea&&/*#__PURE__*/_jsxs(\"div\",{className:\"mt-8 text-right transition-all duration-300 animate-fadeIn\",children:[/*#__PURE__*/_jsxs(\"h2\",{className:`text-2xl font-bold mb-6 transition-colors duration-300 ${darkMode?'text-gray-200':'text-gray-800'}`,style:{fontFamily:'Tajawal'},children:[\"\\u062A\\u0648\\u0644\\u064A\\u062F \\u0627\\u0644\\u0645\\u062D\\u062A\\u0648\\u0649 \\u0644\\u0641\\u0643\\u0631\\u0629: \",/*#__PURE__*/_jsx(\"span\",{className:\"text-purple-600\",children:selectedIdea})]}),/*#__PURE__*/_jsx(\"p\",{className:`mb-6 transition-colors duration-300 ${darkMode?'text-gray-300':'text-gray-700'}`,style:{fontFamily:'Tajawal'},children:\"\\u0627\\u062E\\u062A\\u0631 \\u0627\\u0644\\u0645\\u0646\\u0635\\u0627\\u062A \\u0627\\u0644\\u062A\\u064A \\u062A\\u0648\\u062F \\u062A\\u0648\\u0644\\u064A\\u062F \\u0627\\u0644\\u0645\\u062D\\u062A\\u0648\\u0649 \\u0644\\u0647\\u0627\\u060C \\u0623\\u0648 \\u0642\\u0645 \\u0628\\u062A\\u0648\\u0644\\u064A\\u062F \\u0643\\u0644 \\u0627\\u0644\\u0645\\u062D\\u062A\\u0648\\u0649 \\u062F\\u0641\\u0639\\u0629 \\u0648\\u0627\\u062D\\u062F\\u0629.\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mb-8\",children:[platforms.filter(p=>p.type==='post').map(platform=>/*#__PURE__*/_jsxs(\"button\",{onClick:()=>generateSpecificContent('post',platform.name),disabled:loading,className:\"bg-blue-500 hover:bg-blue-600 text-white font-bold py-3 px-6 rounded-full shadow-md transform transition duration-300 ease-in-out hover:scale-105 flex items-center justify-center gap-2\",style:{background:platform.color.startsWith('linear-gradient')?platform.color:`linear-gradient(to right, ${platform.color}, ${platform.color}CC)`,fontFamily:'Tajawal'},children:[/*#__PURE__*/_jsx(\"i\",{className:`${platform.icon} text-xl`}),/*#__PURE__*/_jsxs(\"span\",{children:[\"\\u062A\\u0648\\u0644\\u064A\\u062F \\u0645\\u0646\\u0634\\u0648\\u0631 \",platform.name]})]},platform.name)),platforms.filter(p=>p.type==='message').map(platform=>/*#__PURE__*/_jsxs(\"button\",{onClick:()=>{setWhatsappGmailPlatform(platform.name);setWhatsappGmailInput('');// Clear input\nsetWhatsappGmailResponse('');// Clear response\nsetCustomInstructions({});// Clear custom instructions for modal\nsetShowWhatsappGmailModal(true);},disabled:loading,className:\"bg-gray-500 hover:bg-gray-600 text-white font-bold py-3 px-6 rounded-full shadow-md transform transition duration-300 ease-in-out hover:scale-105 flex items-center justify-center gap-2\",style:{background:platform.color.startsWith('linear-gradient')?platform.color:`linear-gradient(to right, ${platform.color}, ${platform.color}CC)`,fontFamily:'Tajawal'},children:[/*#__PURE__*/_jsx(\"i\",{className:`${platform.icon} text-xl`}),/*#__PURE__*/_jsxs(\"span\",{children:[\"\\u062A\\u0648\\u0644\\u064A\\u062F \\u0631\\u062F \",platform.name]})]},platform.name)),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>generateSpecificContent('bloggerArticle'),disabled:loading,className:\"bg-orange-500 hover:bg-orange-600 text-white font-bold py-3 px-6 rounded-full shadow-md transform transition duration-300 ease-in-out hover:scale-105 flex items-center justify-center gap-2\",style:{fontFamily:'Tajawal'},children:[/*#__PURE__*/_jsx(\"i\",{className:\"fab fa-blogger-b text-xl\"}),/*#__PURE__*/_jsx(\"span\",{children:\"\\u062A\\u0648\\u0644\\u064A\\u062F \\u0645\\u0642\\u0627\\u0644 \\u0628\\u0644\\u0648\\u062C\\u0631\"})]}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>generateSpecificContent('imagePrompts'),disabled:loading,className:\"bg-indigo-500 hover:bg-indigo-600 text-white font-bold py-3 px-6 rounded-full shadow-md transform transition duration-300 ease-in-out hover:scale-105 flex items-center justify-center gap-2\",style:{fontFamily:'Tajawal'},children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-image text-xl\"}),/*#__PURE__*/_jsx(\"span\",{children:\"\\u062A\\u0648\\u0644\\u064A\\u062F \\u0623\\u0648\\u0627\\u0645\\u0631 \\u0627\\u0644\\u0635\\u0648\\u0631\"})]}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>generateSpecificContent('videoPrompts')// New video prompts button\n,disabled:loading,className:\"bg-red-500 hover:bg-red-600 text-white font-bold py-3 px-6 rounded-full shadow-md transform transition duration-300 ease-in-out hover:scale-105 flex items-center justify-center gap-2\",style:{fontFamily:'Tajawal'},children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-video text-xl\"}),/*#__PURE__*/_jsx(\"span\",{children:\"\\u062A\\u0648\\u0644\\u064A\\u062F \\u0623\\u0648\\u0627\\u0645\\u0631 \\u0627\\u0644\\u0641\\u064A\\u062F\\u064A\\u0648\"})]}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>generateSpecificContent('carouselSlides',carouselSlideCount)// New carousel button\n,disabled:loading,className:\"bg-yellow-600 hover:bg-yellow-700 text-white font-bold py-3 px-6 rounded-full shadow-md transform transition duration-300 ease-in-out hover:scale-105 flex items-center justify-center gap-2\",style:{fontFamily:'Tajawal'},children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-images text-xl\"}),/*#__PURE__*/_jsx(\"span\",{children:\"\\u062A\\u0648\\u0644\\u064A\\u062F \\u0643\\u0627\\u0631\\u0648\\u0633\\u064A\\u0644\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-span-full flex justify-center items-center mt-2\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"carousel-count\",className:`text-lg ml-2 ${darkMode?'text-gray-300':'text-gray-700'}`,style:{fontFamily:'Tajawal'},children:\"\\u0639\\u062F\\u062F \\u0627\\u0644\\u0634\\u0631\\u0627\\u0626\\u062D:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",id:\"carousel-count\",min:\"2\",max:\"10\",value:carouselSlideCount,onChange:e=>setCarouselSlideCount(parseInt(e.target.value)),className:`w-20 p-2 border rounded-lg text-center transition-colors duration-300 ${darkMode?'bg-gray-700 text-gray-200 border-gray-600':'bg-white text-gray-800 border-gray-300'}`,style:{fontFamily:'Poppins'}})]})]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>generateAllContent(selectedIdea),disabled:loading,className:\"bg-gradient-to-r from-purple-500 to-indigo-600 hover:from-purple-600 hover:to-indigo-700 text-white font-bold py-3 px-8 rounded-full shadow-lg transform transition duration-300 ease-in-out hover:scale-105 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-opacity-50 mt-4\",style:{fontFamily:'Tajawal'},children:processingButton==='generate_all'?/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-spinner fa-spin ml-2\"}):'توليد كل المحتوى (منشورات، مقال، صور، فيديو، كاروسيل)'}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-8 flex justify-center gap-4\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:goToPreviousStage,disabled:loading,className:\"bg-gray-500 hover:bg-gray-600 text-white font-bold py-2 px-6 rounded-full shadow-md transition duration-300 ease-in-out hover:scale-105 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-opacity-50\",style:{fontFamily:'Tajawal'},children:\"\\u0631\\u062C\\u0648\\u0639\"}),/*#__PURE__*/_jsx(\"button\",{onClick:refreshCurrentStage,disabled:loading,className:\"bg-blue-500 hover:bg-blue-600 text-white font-bold py-2 px-6 rounded-full shadow-md transition duration-300 ease-in-out hover:scale-105 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-opacity-50\",style:{fontFamily:'Tajawal'},children:processingButton==='refresh_current_stage'?/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-spinner fa-spin ml-2\"}):'تحديث'}),/*#__PURE__*/_jsx(\"button\",{onClick:goToNextStage,disabled:loading,className:\"bg-green-500 hover:bg-green-600 text-white font-bold py-2 px-6 rounded-full shadow-md transform transition duration-300 ease-in-out hover:scale-105 focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-opacity-50\",style:{fontFamily:'Tajawal'},children:\"\\u0627\\u0644\\u062A\\u0627\\u0644\\u064A\"})]})]}),stage==='display_content'&&generatedContent&&/*#__PURE__*/_jsxs(\"div\",{className:\"mt-8 text-right transition-all duration-300 animate-fadeIn\",children:[/*#__PURE__*/_jsxs(\"h2\",{className:`text-2xl font-bold mb-6 transition-colors duration-300 ${darkMode?'text-gray-200':'text-gray-800'}`,style:{fontFamily:'Tajawal'},children:[\"\\u0627\\u0644\\u0645\\u062D\\u062A\\u0648\\u0649 \\u0627\\u0644\\u062C\\u0627\\u0647\\u0632 \\u0644\\u0641\\u0643\\u0631\\u0629: \",/*#__PURE__*/_jsx(\"span\",{className:\"text-purple-600\",children:selectedIdea})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-10\",children:[/*#__PURE__*/_jsx(\"h3\",{className:`text-xl font-semibold mb-4 border-b pb-2 transition-colors duration-300 ${darkMode?'text-gray-300 border-gray-700':'text-gray-700 border-gray-200'}`,style:{fontFamily:'Tajawal'},children:\"\\u0645\\u0646\\u0634\\u0648\\u0631\\u0627\\u062A \\u0648\\u0633\\u0627\\u0626\\u0644 \\u0627\\u0644\\u062A\\u0648\\u0627\\u0635\\u0644 \\u0627\\u0644\\u0627\\u062C\\u062A\\u0645\\u0627\\u0639\\u064A\"}),/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 gap-6\",children:platforms.filter(p=>p.type==='post').map(platform=>{var _customInstructions$p;const postData=generatedContent.posts[platform.name]||{};const originalContent=postData.original;if(!originalContent)return null;// Only render if original content exists\nreturn/*#__PURE__*/_jsxs(\"div\",{className:`p-5 rounded-xl shadow-md border flex flex-col transition-colors duration-300 ${darkMode?'bg-gray-700 border-gray-600':'bg-gray-50 border-gray-200'}`,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center mb-3\",children:[/*#__PURE__*/_jsx(\"i\",{className:`${platform.icon} text-2xl ml-3 transition-colors duration-300 ${darkMode?'text-purple-400':'text-purple-600'}`}),/*#__PURE__*/_jsxs(\"h4\",{className:`text-lg font-bold transition-colors duration-300 ${darkMode?'text-gray-200':'text-gray-800'}`,style:{fontFamily:'Tajawal'},children:[platform.name,\" (\\u0627\\u0644\\u0623\\u0635\\u0644\\u064A)\"]})]}),/*#__PURE__*/_jsx(\"p\",{className:`text-base mb-4 flex-grow whitespace-pre-wrap transition-colors duration-300 ${darkMode?'text-gray-300':'text-gray-700'}`,dir:\"rtl\",style:{fontFamily:'Tajawal'},children:originalContent}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col gap-2 mt-auto pt-4 border-t transition-colors duration-300\",style:{borderColor:darkMode?'#4A5568':'#E2E8F0'},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-start gap-2 flex-wrap\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>copyToClipboard(originalContent),className:\"bg-blue-500 hover:bg-blue-600 text-white font-bold py-2 px-4 rounded-full transition duration-200 ease-in-out\",style:{fontFamily:'Tajawal'},children:\"\\u0646\\u0633\\u062E\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>regeneratePost(platform.name,originalContent),className:\"bg-yellow-500 hover:bg-yellow-600 text-white font-bold py-2 px-4 rounded-full transition duration-200 ease-in-out\",disabled:loading,style:{fontFamily:'Tajawal'},children:processingButton===`rephrase-${platform.name}`?/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-spinner fa-spin ml-2\"}):'صياغة تانية'}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>translateText(originalContent,`post-${platform.name}-original`,'post',platform.name),className:`py-2 px-4 rounded-full text-sm transition duration-200 ease-in-out ${darkMode?'bg-gray-600 hover:bg-gray-500 text-gray-200':'bg-gray-200 hover:bg-gray-300 text-gray-800'}`,disabled:loading,style:{fontFamily:'Tajawal'},children:processingButton===`translate-post-${platform.name}-original`?/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-spinner fa-spin ml-2\"}):'ترجمة'}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>optimizePostForSEO(platform.name,originalContent),className:\"bg-green-500 hover:bg-green-600 text-white font-bold py-2 px-4 rounded-full text-sm transition duration-200 ease-in-out\",disabled:loading,style:{fontFamily:'Tajawal'},children:processingButton===`seo-${platform.name}`?/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-spinner fa-spin ml-2\"}):'تحسين للسيو'}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>generateMarketingPost(platform.name,originalContent),className:\"bg-purple-500 hover:bg-purple-600 text-white font-bold py-2 px-4 rounded-full text-sm transition duration-200 ease-in-out\",disabled:loading,style:{fontFamily:'Tajawal'},children:processingButton===`marketing-${platform.name}`?/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-spinner fa-spin ml-2\"}):'تسويق لريكويرز'}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>generateHashtagsKeywords(platform.name,originalContent),className:\"bg-teal-500 hover:bg-teal-600 text-white font-bold py-2 px-4 rounded-full text-sm transition duration-200 ease-in-out\",disabled:loading,style:{fontFamily:'Tajawal'},children:processingButton===`hashtags-${platform.name}`?/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-spinner fa-spin ml-2\"}):'هاشتاغات/كلمات مفتاحية'}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>providePerformanceTips(platform.name,originalContent),className:\"bg-orange-500 hover:bg-orange-600 text-white font-bold py-2 px-4 rounded-full text-sm transition duration-200 ease-in-out\",disabled:loading,style:{fontFamily:'Tajawal'},children:processingButton===`tips-${platform.name}`?/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-spinner fa-spin ml-2\"}):'نصائح للأداء'}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>shareContent(platform.name,originalContent,platform.url),className:\"bg-indigo-500 hover:bg-indigo-600 text-white font-bold py-2 px-4 rounded-full text-sm transition duration-200 ease-in-out\",style:{fontFamily:'Tajawal'},children:\"\\u0645\\u0634\\u0627\\u0631\\u0643\\u0629\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col gap-2 mt-2\",children:[/*#__PURE__*/_jsx(\"textarea\",{placeholder:\"\\u0623\\u062F\\u062E\\u0644 \\u062A\\u0639\\u0644\\u064A\\u0645\\u0627\\u062A \\u0627\\u0644\\u062A\\u062E\\u0635\\u064A\\u0635 \\u0647\\u0646\\u0627 (\\u0645\\u062B\\u0627\\u0644: \\u0627\\u062C\\u0639\\u0644\\u0647\\u0627 \\u0623\\u0642\\u0635\\u0631\\u060C \\u0623\\u0636\\u0641 \\u062F\\u0639\\u0648\\u0629 \\u0644\\u0627\\u062A\\u062E\\u0627\\u0630 \\u0625\\u062C\\u0631\\u0627\\u0621)\",value:customInstructions[platform.name]||'',onChange:e=>setCustomInstructions(prev=>({...prev,[platform.name]:e.target.value})),className:`w-full p-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 transition-colors duration-300 ${darkMode?'bg-gray-800 text-gray-200 border-gray-600':'bg-white text-gray-800 border-gray-300'}`,dir:\"rtl\",style:{fontFamily:'Tajawal'}}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>customizeContent('post',platform.name,originalContent,customInstructions[platform.name]||''),className:\"bg-purple-500 hover:bg-purple-600 text-white font-bold py-2 px-4 rounded-full transition duration-200 ease-in-out\",disabled:loading||!((_customInstructions$p=customInstructions[platform.name])!==null&&_customInstructions$p!==void 0&&_customInstructions$p.trim()),style:{fontFamily:'Tajawal'},children:processingButton===`customize-${platform.name}`?/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-spinner fa-spin ml-2\"}):'تخصيص'})]})]}),postData.translated&&/*#__PURE__*/_jsxs(\"div\",{className:`mt-4 p-4 rounded-lg border transition-colors duration-300 ${darkMode?'bg-gray-600 border-gray-500':'bg-blue-50 border-blue-200'}`,children:[/*#__PURE__*/_jsx(\"h5\",{className:`text-md font-bold mb-2 ${darkMode?'text-gray-100':'text-blue-800'}`,style:{fontFamily:'Tajawal'},children:\"\\u062A\\u0631\\u062C\\u0645\\u0629 \\u0627\\u0644\\u0628\\u0648\\u0633\\u062A:\"}),/*#__PURE__*/_jsx(\"p\",{className:`text-base whitespace-pre-wrap ${darkMode?'text-gray-200':'text-blue-900'}`,dir:\"ltr\",style:{fontFamily:'Poppins'},children:postData.translated}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>copyToClipboard(postData.translated),className:\"mt-2 bg-blue-700 hover:bg-blue-800 text-white font-bold py-1 px-3 rounded-full text-sm\",style:{fontFamily:'Tajawal'},children:\"\\u0646\\u0633\\u062E \\u0627\\u0644\\u062A\\u0631\\u062C\\u0645\\u0629\"})]}),postData.rephrased&&/*#__PURE__*/_jsxs(\"div\",{className:`mt-4 p-4 rounded-lg border transition-colors duration-300 ${darkMode?'bg-gray-600 border-gray-500':'bg-yellow-50 border-yellow-200'}`,children:[/*#__PURE__*/_jsx(\"h5\",{className:`text-md font-bold mb-2 ${darkMode?'text-gray-100':'text-yellow-800'}`,style:{fontFamily:'Tajawal'},children:\"\\u0635\\u064A\\u0627\\u063A\\u0629 \\u0628\\u062F\\u064A\\u0644\\u0629:\"}),/*#__PURE__*/_jsx(\"p\",{className:`text-base whitespace-pre-wrap ${darkMode?'text-gray-200':'text-yellow-900'}`,dir:\"rtl\",style:{fontFamily:'Tajawal'},children:postData.rephrased}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>copyToClipboard(postData.rephrased),className:\"mt-2 bg-yellow-700 hover:bg-yellow-800 text-white font-bold py-1 px-3 rounded-full text-sm\",style:{fontFamily:'Tajawal'},children:\"\\u0646\\u0633\\u062E \\u0627\\u0644\\u0635\\u064A\\u0627\\u063A\\u0629\"})]}),postData.seoOptimized&&/*#__PURE__*/_jsxs(\"div\",{className:`mt-4 p-4 rounded-lg border transition-colors duration-300 ${darkMode?'bg-gray-600 border-gray-500':'bg-green-50 border-green-200'}`,children:[/*#__PURE__*/_jsx(\"h5\",{className:`text-md font-bold mb-2 ${darkMode?'text-gray-100':'text-green-800'}`,style:{fontFamily:'Tajawal'},children:\"\\u0628\\u0648\\u0633\\u062A \\u0645\\u062D\\u0633\\u0651\\u0646 \\u0644\\u0644\\u0633\\u064A\\u0648:\"}),/*#__PURE__*/_jsx(\"p\",{className:`text-base whitespace-pre-wrap ${darkMode?'text-gray-200':'text-green-900'}`,dir:\"rtl\",style:{fontFamily:'Tajawal'},children:postData.seoOptimized}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>copyToClipboard(postData.seoOptimized),className:\"mt-2 bg-green-700 hover:bg-green-800 text-white font-bold py-1 px-3 rounded-full text-sm\",style:{fontFamily:'Tajawal'},children:\"\\u0646\\u0633\\u062E \\u0628\\u0648\\u0633\\u062A \\u0627\\u0644\\u0633\\u064A\\u0648\"})]}),postData.marketing&&/*#__PURE__*/_jsxs(\"div\",{className:`mt-4 p-4 rounded-lg border transition-colors duration-300 ${darkMode?'bg-gray-600 border-gray-500':'bg-purple-50 border-purple-200'}`,children:[/*#__PURE__*/_jsx(\"h5\",{className:`text-md font-bold mb-2 ${darkMode?'text-gray-100':'text-purple-800'}`,style:{fontFamily:'Tajawal'},children:\"\\u0628\\u0648\\u0633\\u062A \\u062A\\u0633\\u0648\\u064A\\u0642\\u064A \\u0644\\u0631\\u064A\\u0643\\u0648\\u064A\\u0631\\u0632:\"}),/*#__PURE__*/_jsx(\"p\",{className:`text-base whitespace-pre-wrap ${darkMode?'text-gray-200':'text-purple-900'}`,dir:\"rtl\",style:{fontFamily:'Tajawal'},children:postData.marketing}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>copyToClipboard(postData.marketing),className:\"mt-2 bg-purple-700 hover:bg-purple-800 text-white font-bold py-1 px-3 rounded-full text-sm\",style:{fontFamily:'Tajawal'},children:\"\\u0646\\u0633\\u062E \\u0627\\u0644\\u0628\\u0648\\u0633\\u062A \\u0627\\u0644\\u062A\\u0633\\u0648\\u064A\\u0642\\u064A\"})]}),postData.customized&&/*#__PURE__*/_jsxs(\"div\",{className:`mt-4 p-4 rounded-lg border transition-colors duration-300 ${darkMode?'bg-gray-600 border-gray-500':'bg-indigo-50 border-indigo-200'}`,children:[/*#__PURE__*/_jsx(\"h5\",{className:`text-md font-bold mb-2 ${darkMode?'text-gray-100':'text-indigo-800'}`,style:{fontFamily:'Tajawal'},children:\"\\u0628\\u0648\\u0633\\u062A \\u0645\\u062E\\u0635\\u0635:\"}),/*#__PURE__*/_jsx(\"p\",{className:`text-base whitespace-pre-wrap ${darkMode?'text-gray-200':'text-indigo-900'}`,dir:\"rtl\",style:{fontFamily:'Tajawal'},children:postData.customized}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>copyToClipboard(postData.customized),className:\"mt-2 bg-indigo-700 hover:bg-indigo-800 text-white font-bold py-1 px-3 rounded-full text-sm\",style:{fontFamily:'Tajawal'},children:\"\\u0646\\u0633\\u062E \\u0627\\u0644\\u0628\\u0648\\u0633\\u062A \\u0627\\u0644\\u0645\\u062E\\u0635\\u0635\"})]})]},platform.name);})})]}),generatedContent.bloggerArticle&&/*#__PURE__*/_jsxs(\"div\",{className:\"mb-10\",children:[/*#__PURE__*/_jsx(\"h3\",{className:`text-xl font-semibold mb-4 border-b pb-2 transition-colors duration-300 ${darkMode?'text-gray-300 border-gray-700':'text-gray-700 border-gray-200'}`,style:{fontFamily:'Tajawal'},children:\"\\u0645\\u0642\\u0627\\u0644 \\u0628\\u0644\\u0648\\u062C\\u0631 \\u0627\\u0644\\u0627\\u062D\\u062A\\u0631\\u0627\\u0641\\u064A (HTML/XML)\"}),/*#__PURE__*/_jsxs(\"div\",{className:`p-5 rounded-xl shadow-md border transition-colors duration-300 ${darkMode?'bg-gray-700 border-gray-600':'bg-gray-50 border-gray-200'}`,children:[/*#__PURE__*/_jsx(\"textarea\",{readOnly:true,value:getBloggerFullHtml(generatedContent.bloggerArticle,selectedIdea),className:`w-full h-96 p-4 rounded-lg font-mono text-sm resize-y transition-colors duration-300 ${darkMode?'bg-gray-800 text-gray-200':'bg-gray-100 text-gray-800'}`,dir:\"ltr\"// Force LTR for code display\n,style:{fontFamily:'Poppins'}}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-start gap-2 mt-4 flex-wrap\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>copyToClipboard(getBloggerFullHtml(generatedContent.bloggerArticle,selectedIdea)),className:\"bg-blue-500 hover:bg-blue-600 text-white font-bold py-2 px-4 rounded-full transition duration-200 ease-in-out\",style:{fontFamily:'Tajawal'},children:\"\\u0646\\u0633\\u062E \\u0627\\u0644\\u0645\\u0642\\u0627\\u0644 \\u0643\\u0627\\u0645\\u0644\\u0627\\u064B\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>translateText(generatedContent.bloggerArticle,'blogger-article'),className:`py-2 px-4 rounded-full text-sm transition duration-200 ease-in-out ${darkMode?'bg-gray-600 hover:bg-gray-500 text-gray-200':'bg-gray-200 hover:bg-gray-300 text-gray-800'}`,disabled:loading,style:{fontFamily:'Tajawal'},children:processingButton==='translate-blogger-article'?/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-spinner fa-spin ml-2\"}):'ترجمة'})]}),translatedTexts['blogger-article']&&/*#__PURE__*/_jsx(\"p\",{className:`text-sm mt-2 whitespace-pre-wrap text-left transition-colors duration-300 ${darkMode?'text-gray-400':'text-gray-600'}`,dir:\"ltr\",style:{fontFamily:'Poppins'},children:translatedTexts['blogger-article']}),/*#__PURE__*/_jsx(\"div\",{className:`mt-4 text-sm transition-colors duration-300 ${darkMode?'text-gray-400':'text-gray-600'}`,style:{fontFamily:'Tajawal'},children:/*#__PURE__*/_jsx(\"p\",{children:\"\\u0645\\u0644\\u0627\\u062D\\u0638\\u0629: \\u064A\\u0645\\u0643\\u0646\\u0643 \\u0644\\u0635\\u0642 \\u0647\\u0630\\u0627 \\u0627\\u0644\\u0643\\u0648\\u062F \\u0645\\u0628\\u0627\\u0634\\u0631\\u0629 \\u0641\\u064A \\u0648\\u0636\\u0639 HTML/XML \\u0644\\u0645\\u062D\\u0631\\u0631 \\u0628\\u0644\\u0648\\u062C\\u0631.\"})})]})]}),generatedContent.imagePrompts.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"mb-10\",children:[/*#__PURE__*/_jsx(\"h3\",{className:`text-xl font-semibold mb-4 border-b pb-2 transition-colors duration-300 ${darkMode?'text-gray-300 border-gray-700':'text-gray-700 border-gray-200'}`,style:{fontFamily:'Tajawal'},children:\"\\u0623\\u0645\\u0631 \\u062A\\u0635\\u0645\\u064A\\u0645 \\u0627\\u0644\\u0635\\u0648\\u0631 \\u0628\\u0627\\u0644\\u0630\\u0643\\u0627\\u0621 \\u0627\\u0644\\u0627\\u0635\\u0637\\u0646\\u0627\\u0639\\u064A (Prompt)\"}),/*#__PURE__*/_jsx(\"div\",{className:`p-5 rounded-xl shadow-md border transition-colors duration-300 ${darkMode?'bg-gray-700 border-gray-600':'bg-gray-50 border-gray-200'} text-left`,children:generatedContent.imagePrompts.map((prompt,index)=>/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4 last:mb-0\",children:[/*#__PURE__*/_jsx(\"p\",{className:`text-base font-mono break-words transition-colors duration-300 ${darkMode?'text-gray-300':'text-gray-700'}`,dir:\"ltr\",style:{fontFamily:'Poppins'},children:prompt}),translatedTexts[`image-prompt-${index}`]&&/*#__PURE__*/_jsx(\"p\",{className:`text-sm mt-2 whitespace-pre-wrap transition-colors duration-300 ${darkMode?'text-gray-400':'text-gray-600'}`,dir:\"ltr\",style:{fontFamily:'Poppins'},children:translatedTexts[`image-prompt-${index}`]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-start gap-2 mt-2 flex-wrap\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>copyToClipboard(prompt),className:\"bg-green-500 hover:bg-green-600 text-white font-bold py-1 px-3 rounded-full text-sm transition duration-200 ease-in-out\",style:{fontFamily:'Tajawal'},children:\"\\u0646\\u0633\\u062E\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>translateText(prompt,`image-prompt-${index}`),className:`py-1 px-3 rounded-full text-sm transition duration-200 ease-in-out ${darkMode?'bg-gray-600 hover:bg-gray-500 text-gray-200':'bg-gray-200 hover:bg-gray-300 text-gray-800'}`,disabled:loading,style:{fontFamily:'Tajawal'},children:processingButton===`translate-image-prompt-${index}`?/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-spinner fa-spin ml-2\"}):'ترجمة'})]})]},index))})]}),generatedContent.videoPrompts.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"mb-10\",children:[/*#__PURE__*/_jsx(\"h3\",{className:`text-xl font-semibold mb-4 border-b pb-2 transition-colors duration-300 ${darkMode?'text-gray-300 border-gray-700':'text-gray-700 border-gray-200'}`,style:{fontFamily:'Tajawal'},children:\"\\u0623\\u0645\\u0631 \\u062A\\u0635\\u0645\\u064A\\u0645 \\u0627\\u0644\\u0641\\u064A\\u062F\\u064A\\u0648 \\u0628\\u0627\\u0644\\u0630\\u0643\\u0627\\u0621 \\u0627\\u0644\\u0627\\u0635\\u0637\\u0646\\u0627\\u0639\\u064A (Prompt)\"}),/*#__PURE__*/_jsx(\"div\",{className:`p-5 rounded-xl shadow-md border transition-colors duration-300 ${darkMode?'bg-gray-700 border-gray-600':'bg-gray-50 border-gray-200'} text-left`,children:generatedContent.videoPrompts.map((prompt,index)=>/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4 last:mb-0\",children:[/*#__PURE__*/_jsx(\"p\",{className:`text-base font-mono break-words transition-colors duration-300 ${darkMode?'text-gray-300':'text-gray-700'}`,dir:\"ltr\",style:{fontFamily:'Poppins'},children:prompt}),translatedTexts[`video-prompt-${index}`]&&/*#__PURE__*/_jsx(\"p\",{className:`text-sm mt-2 whitespace-pre-wrap transition-colors duration-300 ${darkMode?'text-gray-400':'text-gray-600'}`,dir:\"ltr\",style:{fontFamily:'Poppins'},children:translatedTexts[`video-prompt-${index}`]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-start gap-2 mt-2 flex-wrap\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>copyToClipboard(prompt),className:\"bg-green-500 hover:bg-green-600 text-white font-bold py-1 px-3 rounded-full text-sm transition duration-200 ease-in-out\",style:{fontFamily:'Tajawal'},children:\"\\u0646\\u0633\\u062E\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>translateText(prompt,`video-prompt-${index}`),className:`py-1 px-3 rounded-full text-sm transition duration-200 ease-in-out ${darkMode?'bg-gray-600 hover:bg-gray-500 text-gray-200':'bg-gray-200 hover:bg-gray-300 text-gray-800'}`,disabled:loading,style:{fontFamily:'Tajawal'},children:processingButton===`translate-video-prompt-${index}`?/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-spinner fa-spin ml-2\"}):'ترجمة'})]})]},index))})]}),generatedContent.carouselSlides.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"mb-10\",children:[/*#__PURE__*/_jsx(\"h3\",{className:`text-xl font-semibold mb-4 border-b pb-2 transition-colors duration-300 ${darkMode?'text-gray-300 border-gray-700':'text-gray-700 border-gray-200'}`,style:{fontFamily:'Tajawal'},children:\"\\u0634\\u0631\\u0627\\u0626\\u062D \\u0627\\u0644\\u0643\\u0627\\u0631\\u0648\\u0633\\u064A\\u0644\"}),/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 gap-6\",children:generatedContent.carouselSlides.map((slide,index)=>/*#__PURE__*/_jsxs(\"div\",{className:`p-5 rounded-xl shadow-md border flex flex-col transition-colors duration-300 ${darkMode?'bg-gray-700 border-gray-600':'bg-gray-50 border-gray-200'}`,children:[/*#__PURE__*/_jsxs(\"h4\",{className:`text-lg font-bold mb-2 ${darkMode?'text-gray-200':'text-gray-800'}`,style:{fontFamily:'Tajawal'},children:[\"\\u0634\\u0631\\u064A\\u062D\\u0629 \",index+1,\": \",slide.title]}),/*#__PURE__*/_jsx(\"p\",{className:`text-base mb-4 flex-grow whitespace-pre-wrap transition-colors duration-300 ${darkMode?'text-gray-300':'text-gray-700'}`,dir:\"rtl\",style:{fontFamily:'Tajawal'},children:slide.description}),translatedTexts[`carousel-slide-${index}`]&&/*#__PURE__*/_jsx(\"p\",{className:`text-sm mt-2 whitespace-pre-wrap transition-colors duration-300 ${darkMode?'text-gray-400':'text-gray-600'}`,dir:\"ltr\",style:{fontFamily:'Poppins'},children:translatedTexts[`carousel-slide-${index}`]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-start gap-2 mt-auto pt-4 border-t transition-colors duration-300\",style:{borderColor:darkMode?'#4A5568':'#E2E8F0'},children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>copyToClipboard(`Slide ${index+1}: ${slide.title}\\n${slide.description}`),className:\"bg-blue-500 hover:bg-blue-600 text-white font-bold py-2 px-4 rounded-full text-sm transition duration-200 ease-in-out\",style:{fontFamily:'Tajawal'},children:\"\\u0646\\u0633\\u062E \\u0627\\u0644\\u0634\\u0631\\u064A\\u062D\\u0629\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>translateText(`Slide ${index+1}: ${slide.title}\\n${slide.description}`,`carousel-slide-${index}`),className:`py-2 px-4 rounded-full text-sm transition duration-200 ease-in-out ${darkMode?'bg-gray-600 hover:bg-gray-500 text-gray-200':'bg-gray-200 hover:bg-gray-300 text-gray-800'}`,disabled:loading,style:{fontFamily:'Tajawal'},children:processingButton===`translate-carousel-slide-${index}`?/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-spinner fa-spin ml-2\"}):'ترجمة'})]})]},index))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-10 mt-8\",children:[/*#__PURE__*/_jsx(\"h3\",{className:`text-xl font-semibold mb-4 border-b pb-2 transition-colors duration-300 ${darkMode?'text-gray-300 border-gray-700':'text-gray-700 border-gray-200'}`,style:{fontFamily:'Tajawal'},children:\"\\u062A\\u0648\\u0644\\u064A\\u062F \\u0645\\u062D\\u062A\\u0648\\u0649 \\u0644\\u0645\\u0646\\u0635\\u0627\\u062A \\u0623\\u062E\\u0631\\u0649 (\\u0644\\u0646\\u0641\\u0633 \\u0627\\u0644\\u0641\\u0643\\u0631\\u0629)\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\",children:[platforms.filter(p=>p.type==='post').map(platform=>/*#__PURE__*/_jsxs(\"button\",{onClick:()=>generateSpecificContent('post',platform.name),disabled:loading,className:\"text-white font-bold py-3 px-6 rounded-full shadow-md transform transition duration-300 ease-in-out hover:scale-105 flex items-center justify-center gap-2\",style:{background:platform.color.startsWith('linear-gradient')?platform.color:`linear-gradient(to right, ${platform.color}, ${platform.color}CC)`,fontFamily:'Tajawal'},children:[/*#__PURE__*/_jsx(\"i\",{className:`${platform.icon} text-xl`}),/*#__PURE__*/_jsxs(\"span\",{children:[\"\\u062A\\u0648\\u0644\\u064A\\u062F \",platform.name]})]},`footer-${platform.name}`)),platforms.filter(p=>p.type==='message').map(platform=>/*#__PURE__*/_jsxs(\"button\",{onClick:()=>{setWhatsappGmailPlatform(platform.name);setWhatsappGmailInput('');// Clear input\nsetWhatsappGmailResponse('');// Clear response\nsetCustomInstructions({});// Clear custom instructions for modal\nsetShowWhatsappGmailModal(true);},disabled:loading,className:\"text-white font-bold py-3 px-6 rounded-full shadow-md transform transition duration-300 ease-in-out hover:scale-105 flex items-center justify-center gap-2\",style:{background:platform.color.startsWith('linear-gradient')?platform.color:`linear-gradient(to right, ${platform.color}, ${platform.color}CC)`,fontFamily:'Tajawal'},children:[/*#__PURE__*/_jsx(\"i\",{className:`${platform.icon} text-xl`}),/*#__PURE__*/_jsxs(\"span\",{children:[\"\\u0631\\u062F \",platform.name]})]},`footer-${platform.name}`)),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>generateSpecificContent('bloggerArticle'),disabled:loading,className:\"text-white font-bold py-3 px-6 rounded-full shadow-md transform transition duration-300 ease-in-out hover:scale-105 flex items-center justify-center gap-2\",style:{background:`linear-gradient(to right, #ff5722, #ff5722CC)`,fontFamily:'Tajawal'},children:[/*#__PURE__*/_jsx(\"i\",{className:\"fab fa-blogger-b text-xl\"}),/*#__PURE__*/_jsx(\"span\",{children:\"\\u062A\\u0648\\u0644\\u064A\\u062F \\u0645\\u0642\\u0627\\u0644 \\u0628\\u0644\\u0648\\u062C\\u0631\"})]}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>generateSpecificContent('imagePrompts'),disabled:loading,className:\"text-white font-bold py-3 px-6 rounded-full shadow-md transform transition duration-300 ease-in-out hover:scale-105 flex items-center justify-center gap-2\",style:{background:`linear-gradient(to right, #6366f1, #6366f1CC)`,fontFamily:'Tajawal'},children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-image text-xl\"}),/*#__PURE__*/_jsx(\"span\",{children:\"\\u062A\\u0648\\u0644\\u064A\\u062F \\u0623\\u0648\\u0627\\u0645\\u0631 \\u0627\\u0644\\u0635\\u0648\\u0631\"})]}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>generateSpecificContent('videoPrompts'),disabled:loading,className:\"text-white font-bold py-3 px-6 rounded-full shadow-md transform transition duration-300 ease-in-out hover:scale-105 flex items-center justify-center gap-2\",style:{background:`linear-gradient(to right, #ff0000, #ff0000CC)`,fontFamily:'Tajawal'},children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-video text-xl\"}),/*#__PURE__*/_jsx(\"span\",{children:\"\\u062A\\u0648\\u0644\\u064A\\u062F \\u0623\\u0648\\u0627\\u0645\\u0631 \\u0627\\u0644\\u0641\\u064A\\u062F\\u064A\\u0648\"})]}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>generateSpecificContent('carouselSlides',carouselSlideCount),disabled:loading,className:\"text-white font-bold py-3 px-6 rounded-full shadow-md transform transition duration-300 ease-in-out hover:scale-105 flex items-center justify-center gap-2\",style:{background:`linear-gradient(to right, #f59e0b, #f59e0bCC)`,fontFamily:'Tajawal'},children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-images text-xl\"}),/*#__PURE__*/_jsx(\"span\",{children:\"\\u062A\\u0648\\u0644\\u064A\\u062F \\u0643\\u0627\\u0631\\u0648\\u0633\\u064A\\u0644\"})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-center gap-4 mt-8\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:startNewDay,className:\"bg-gradient-to-r from-purple-500 to-indigo-600 hover:from-purple-600 hover:to-indigo-700 text-white font-bold py-3 px-8 rounded-full shadow-lg transform transition duration-300 ease-in-out hover:scale-105 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-opacity-50\",style:{fontFamily:'Tajawal'},children:\"\\u0627\\u0628\\u062F\\u0623 \\u064A\\u0648\\u0645 \\u062C\\u062F\\u064A\\u062F!\"}),/*#__PURE__*/_jsx(\"button\",{onClick:goBackToIdeaSelection,className:\"bg-gray-500 hover:bg-gray-600 text-white font-bold py-3 px-8 rounded-full shadow-lg transform transition duration-300 ease-in-out hover:scale-105 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-opacity-50\",style:{fontFamily:'Tajawal'},children:\"\\u0631\\u062C\\u0648\\u0639 \\u0644\\u0627\\u062E\\u062A\\u064A\\u0627\\u0631 \\u0627\\u0644\\u0641\\u0643\\u0631\\u0629\"}),/*#__PURE__*/_jsx(\"button\",{onClick:refreshCurrentStage,disabled:loading,className:\"bg-blue-500 hover:bg-blue-600 text-white font-bold py-2 px-6 rounded-full shadow-md transition duration-300 ease-in-out hover:scale-105 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-opacity-50\",style:{fontFamily:'Tajawal'},children:processingButton==='refresh_current_stage'?/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-spinner fa-spin ml-2\"}):'تحديث'})]})]})]}),showContactModal&&/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 animate-fadeIn\",children:/*#__PURE__*/_jsxs(\"div\",{className:`p-8 rounded-lg shadow-xl w-11/12 md:w-2/3 lg:w-1/2 relative transition-colors duration-300 ${darkMode?'bg-gray-800 text-gray-100':'bg-white text-gray-900'}`,children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowContactModal(false),className:\"absolute top-4 right-4 text-gray-500 hover:text-gray-800 dark:hover:text-gray-200 text-2xl\",children:\"\\xD7\"}),/*#__PURE__*/_jsx(\"h2\",{className:`text-2xl font-bold mb-6 text-center transition-colors duration-300 ${darkMode?'text-gray-200':'text-gray-800'}`,style:{fontFamily:'Tajawal'},children:\"\\u062A\\u0648\\u0627\\u0635\\u0644 \\u0645\\u0639\\u0646\\u0627\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-wrap justify-center gap-6 text-right\",children:[\" \",contactInfo.map((item,index)=>/*#__PURE__*/_jsx(\"a\",{href:item.link,target:\"_blank\",rel:\"noopener noreferrer\",className:`w-20 h-20 rounded-full flex flex-col items-center justify-center shadow-md transform transition duration-300 ease-in-out hover:scale-110 group`,style:{background:item.color.startsWith('linear-gradient')?item.color:`linear-gradient(to right, ${item.color}, ${item.color}CC)`},title:item.label// Tooltip for accessibility\n,children:/*#__PURE__*/_jsx(\"i\",{className:`${item.icon} text-3xl text-white group-hover:text-white transition-colors duration-300`})},index))]})]})}),showWhatsappGmailModal&&/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 animate-fadeIn\",children:/*#__PURE__*/_jsxs(\"div\",{className:`p-8 rounded-lg shadow-xl w-11/12 md:w-2/3 lg:w-1/2 relative transition-colors duration-300 ${darkMode?'bg-gray-800 text-gray-100':'bg-white text-gray-900'}`,children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowWhatsappGmailModal(false),className:\"absolute top-4 right-4 text-gray-500 hover:text-gray-800 dark:hover:text-gray-200 text-2xl\",children:\"\\xD7\"}),/*#__PURE__*/_jsxs(\"h2\",{className:`text-2xl font-bold mb-6 text-center transition-colors duration-300 ${darkMode?'text-gray-200':'text-gray-800'}`,style:{fontFamily:'Tajawal'},children:[\"\\u062A\\u0648\\u0644\\u064A\\u062F \\u0631\\u062F \\u0644\\u0640 \",whatsappGmailPlatform]}),/*#__PURE__*/_jsx(\"textarea\",{placeholder:`أدخل رسالة العميل هنا لـ ${whatsappGmailPlatform}`,value:whatsappGmailInput,onChange:e=>setWhatsappGmailInput(e.target.value),className:`w-full p-3 mb-4 border rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 transition-colors duration-300 ${darkMode?'bg-gray-700 text-gray-200 border-gray-600':'bg-white text-gray-800 border-gray-300'}`,dir:\"rtl\",rows:\"4\",style:{fontFamily:'Tajawal'}}),/*#__PURE__*/_jsx(\"button\",{onClick:generateWhatsappGmailResponse,disabled:loading||!whatsappGmailInput.trim(),className:\"bg-green-500 hover:bg-green-600 text-white font-bold py-2 px-6 rounded-full shadow-md transition duration-300 ease-in-out hover:scale-105 focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-opacity-50 mb-4\",style:{fontFamily:'Tajawal'},children:processingButton==='whatsapp_gmail_response'?/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-spinner fa-spin ml-2\"}):'توليد الرد'}),whatsappGmailResponse&&/*#__PURE__*/_jsxs(\"div\",{className:`mt-6 p-4 rounded-lg border transition-colors duration-300 ${darkMode?'bg-gray-700 border-gray-600':'bg-gray-100 border-gray-200'}`,children:[/*#__PURE__*/_jsx(\"h3\",{className:`text-xl font-semibold mb-3 transition-colors duration-300 ${darkMode?'text-gray-200':'text-gray-800'}`,style:{fontFamily:'Tajawal'},children:\"\\u0627\\u0644\\u0631\\u062F \\u0627\\u0644\\u0645\\u0642\\u062A\\u0631\\u062D:\"}),/*#__PURE__*/_jsx(\"p\",{className:`text-base whitespace-pre-wrap transition-colors duration-300 ${darkMode?'text-gray-300':'text-gray-700'}`,dir:\"rtl\",style:{fontFamily:'Tajawal'},children:whatsappGmailResponse}),translatedTexts[`message-response-${whatsappGmailPlatform}`]&&/*#__PURE__*/_jsx(\"p\",{className:`text-sm mt-2 whitespace-pre-wrap transition-colors duration-300 ${darkMode?'text-gray-400':'text-gray-600'}`,dir:\"ltr\",style:{fontFamily:'Poppins'},children:translatedTexts[`message-response-${whatsappGmailPlatform}`]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col gap-2 mt-4 pt-4 border-t transition-colors duration-300\",style:{borderColor:darkMode?'#4A5568':'#E2E8F0'},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-start gap-2 flex-wrap\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>copyToClipboard(whatsappGmailResponse),className:\"bg-blue-500 hover:bg-blue-600 text-white font-bold py-2 px-4 rounded-full transition duration-200 ease-in-out\",style:{fontFamily:'Tajawal'},children:\"\\u0646\\u0633\\u062E\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>translateText(whatsappGmailResponse,`message-response-${whatsappGmailPlatform}`),className:`py-2 px-4 rounded-full text-sm transition duration-200 ease-in-out ${darkMode?'bg-gray-600 hover:bg-gray-500 text-gray-200':'bg-gray-200 hover:bg-gray-300 text-gray-800'}`,disabled:loading,style:{fontFamily:'Tajawal'},children:processingButton===`translate-message-response-${whatsappGmailPlatform}`?/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-spinner fa-spin ml-2\"}):'ترجمة'})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col gap-2 mt-2\",children:[/*#__PURE__*/_jsx(\"textarea\",{placeholder:\"\\u0623\\u062F\\u062E\\u0644 \\u062A\\u0639\\u0644\\u064A\\u0645\\u0627\\u062A \\u0627\\u0644\\u062A\\u062E\\u0635\\u064A\\u0635 \\u0647\\u0646\\u0627 (\\u0645\\u062B\\u0627\\u0644: \\u0627\\u062C\\u0639\\u0644 \\u0627\\u0644\\u0631\\u062F \\u0623\\u0642\\u0635\\u0631\\u060C \\u0623\\u0636\\u0641 \\u062A\\u0641\\u0627\\u0635\\u064A\\u0644 \\u0645\\u0639\\u064A\\u0646\\u0629)\",value:customInstructions[whatsappGmailPlatform]||'',onChange:e=>setCustomInstructions(prev=>({...prev,[whatsappGmailPlatform]:e.target.value})),className:`w-full p-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 transition-colors duration-300 ${darkMode?'bg-gray-800 text-gray-200 border-gray-600':'bg-white text-gray-800 border-gray-300'}`,dir:\"rtl\",style:{fontFamily:'Tajawal'}}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>customizeContent('message',whatsappGmailPlatform,whatsappGmailResponse,customInstructions[whatsappGmailPlatform]||''),className:\"bg-purple-500 hover:bg-purple-600 text-white font-bold py-2 px-4 rounded-full transition duration-200 ease-in-out\",disabled:loading||!((_customInstructions$w=customInstructions[whatsappGmailPlatform])!==null&&_customInstructions$w!==void 0&&_customInstructions$w.trim()),style:{fontFamily:'Tajawal'},children:processingButton===`customize-${whatsappGmailPlatform}`?/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-spinner fa-spin ml-2\"}):'تخصيص'})]})]})]})]})})]});};export default App;","map":{"version":3,"names":["React","useState","useEffect","jsx","_jsx","jsxs","_jsxs","fetchWithBackoff","url","options","retries","arguments","length","undefined","delay","response","fetch","ok","errorText","text","status","Error","json","error","message","includes","console","warn","Promise","resolve","setTimeout","App","_customInstructions$w","stage","setStage","userApiKey","setUserApiKey","ideas","setIdeas","selectedIdea","setSelectedIdea","generatedContent","setGeneratedContent","posts","bloggerArticle","imagePrompts","videoPrompts","carouselSlides","loading","setLoading","setError","translatedTexts","setTranslatedTexts","customInstructions","setCustomInstructions","ideaCustomizationInput","setIdeaCustomizationInput","darkMode","setDarkMode","showContactModal","setShowContactModal","showWhatsappGmailModal","setShowWhatsappGmailModal","whatsappGmailInput","setWhatsappGmailInput","whatsappGmailResponse","setWhatsappGmailResponse","whatsappGmailPlatform","setWhatsappGmailPlatform","carouselSlideCount","setCarouselSlideCount","processingButton","setProcessingButton","platforms","name","icon","color","type","contactInfo","label","link","document","documentElement","classList","toggle","handleApiKeySubmit","trim","generateIdeas","customInstruction","prompt","chatHistory","role","parts","payload","contents","apiUrl","result","method","headers","body","JSON","stringify","candidates","content","parsedIdeas","split","filter","line","match","map","replace","err","generateSpecificContent","contentType","target","_result$candidates","_result$candidates$","_result$candidates$$c","_result$candidates$$c2","_result$candidates$$c3","platform","find","p","newContent","prev","original","_result$candidates2","_result$candidates2$","_result$candidates2$$","_result$candidates2$$2","_result$candidates2$$3","_result$candidates3","_result$candidates3$","_result$candidates3$$","_result$candidates3$$2","_result$candidates3$$3","generatedPrompt","_result$candidates4","_result$candidates4$","_result$candidates4$$","_result$candidates4$$2","_result$candidates4$$3","generatedVideoPrompt","_result$candidates5","_result$candidates5$","_result$candidates5$$","_result$candidates5$$2","_result$candidates5$$3","numSlides","slidesText","parsedSlides","s","title","description","slice","join","generateAllContent","idea","postPromises","bloggerPromise","imagePromptsPromise","videoPromptsPromise","carouselPromise","all","generateWhatsappGmailResponse","regeneratePost","platformName","currentContent","rephrased","customizeContent","targetName","instructions","customized","generateMarketingPost","marketing","optimizePostForSEO","seoOptimized","generateHashtagsKeywords","tags","alert","providePerformanceTips","tips","translateText","key","translated","copyToClipboard","textarea","createElement","value","appendChild","select","execCommand","removeChild","shareContent","shareUrl","encodedText","encodeURIComponent","encodedUrl","substring","window","open","startNewDay","goBackToIdeaSelection","goBackToApiKeyInput","goToPreviousStage","goToNextStage","Object","keys","refreshCurrentStage","getBloggerFullHtml","articleContentHtml","articleTitle","Date","toLocaleDateString","year","month","className","children","href","rel","src","onClick","alt","style","fontFamily","placeholder","onChange","e","disabled","dir","index","background","startsWith","htmlFor","id","min","max","parseInt","_customInstructions$p","postData","originalContent","borderColor","readOnly","slide","item","rows"],"sources":["C:/Users/pc/Desktop/my-content-manager/src/App.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\n\r\n// Helper function for exponential backoff\r\nconst fetchWithBackoff = async (url, options, retries = 5, delay = 1000) => {\r\n    try {\r\n        const response = await fetch(url, options);\r\n        if (!response.ok) {\r\n            const errorText = await response.text();\r\n            // Specific error for 401 Unauthorized (likely invalid API key)\r\n            if (response.status === 401) {\r\n                throw new Error('Invalid API Key. Please check your Gemini API key.');\r\n            }\r\n            throw new Error(`HTTP error! status: ${response.status} - ${errorText}`);\r\n        }\r\n        return await response.json();\r\n    } catch (error) {\r\n        if (retries > 0 && error.message.includes('429')) { // Too Many Requests\r\n            console.warn(`Retrying after ${delay}ms... (${retries} retries left)`);\r\n            await new Promise(resolve => setTimeout(resolve, delay));\r\n            return fetchWithBackoff(url, options, retries - 1, delay * 2);\r\n        }\r\n        throw error;\r\n    }\r\n};\r\n\r\nconst App = () => {\r\n    const [stage, setStage] = useState('splash_screen'); // splash_screen, api_key_input, ideas_generation, idea_selection, content_generation, display_content\r\n    const [userApiKey, setUserApiKey] = useState(''); // This will be the actual Gemini API key\r\n    const [ideas, setIdeas] = useState([]);\r\n    const [selectedIdea, setSelectedIdea] = useState(null);\r\n    const [generatedContent, setGeneratedContent] = useState({\r\n        posts: {}, // Each post will be an object: { original: '', translated: '', rephrased: '', seoOptimized: '', marketing: '' }\r\n        bloggerArticle: null,\r\n        imagePrompts: [],\r\n        videoPrompts: [], // New for video prompts\r\n        carouselSlides: [] // New for carousel\r\n    });\r\n    const [loading, setLoading] = useState(false);\r\n    const [error, setError] = useState(null);\r\n    const [translatedTexts, setTranslatedTexts] = useState({}); // To store translations\r\n    const [customInstructions, setCustomInstructions] = useState({}); // To store custom instructions for each platform/idea\r\n    const [ideaCustomizationInput, setIdeaCustomizationInput] = useState(''); // Input for customizing ideas\r\n    const [darkMode, setDarkMode] = useState(false); // Dark mode state\r\n    const [showContactModal, setShowContactModal] = useState(false); // State for contact modal\r\n    const [showWhatsappGmailModal, setShowWhatsappGmailModal] = useState(false); // State for WhatsApp/Gmail modal\r\n    const [whatsappGmailInput, setWhatsappGmailInput] = useState(''); // Input for client message\r\n    const [whatsappGmailResponse, setWhatsappGmailResponse] = useState(''); // AI generated response for client\r\n    const [whatsappGmailPlatform, setWhatsappGmailPlatform] = useState(''); // Stores which platform (WhatsApp/Gmail) is active in the modal\r\n    const [carouselSlideCount, setCarouselSlideCount] = useState(3); // Default carousel slide count\r\n    const [processingButton, setProcessingButton] = useState(null); // Tracks which button is loading\r\n\r\n    // Social media platform details\r\n    const platforms = [\r\n        { name: 'فيسبوك', icon: 'fab fa-facebook-f', url: 'https://www.facebook.com/Requires0', color: '#1877f2', type: 'post' },\r\n        { name: 'انستجرام', icon: 'fab fa-instagram', url: 'https://www.instagram.com/requires0/', color: 'linear-gradient(45deg, #f09433 0%,#e6683c 25%,#dc2743 50%,#cc2366 75%,#bc1888 100%)', type: 'post' }, // Improved Instagram gradient\r\n        { name: 'تيك توك', icon: 'fab fa-tiktok', url: 'https://www.tiktok.com/@requires10', color: '#000000', type: 'post' },\r\n        { name: 'لينكد إن', icon: 'fab fa-linkedin-in', url: 'https://www.linkedin.com/in/requires0', color: '#0a66c2', type: 'post' },\r\n        { name: 'تويتر', icon: 'fab fa-twitter', url: 'https://x.com/Requires0', color: '#1da1f2', type: 'post' },\r\n        { name: 'واتساب', icon: 'fab fa-whatsapp', url: 'https://api.whatsapp.com/send?phone=01551053732', color: '#25d366', type: 'message' },\r\n        { name: 'جيميل', icon: 'fas fa-envelope', url: 'mailto:requiresforeducationalservices@gmail.com', color: '#d44638', type: 'message' },\r\n        { name: 'يوتيوب', icon: 'fab fa-youtube', url: 'https://www.youtube.com/@Requires4', color: '#ff0000', type: 'post' },\r\n    ];\r\n\r\n    // Contact Information for \"اتصل بنا\" modal (only icons and links)\r\n    const contactInfo = [\r\n        { label: 'الجيميل', icon: 'fas fa-envelope', link: 'mailto:requiresforeducationalservices@gmail.com', color: '#d44638' },\r\n        { label: 'الواتساب', icon: 'fab fa-whatsapp', link: 'https://api.whatsapp.com/send?phone=01551053732', color: '#25d366' },\r\n        { label: 'الفيسبوك', icon: 'fab fa-facebook-f', link: 'https://www.facebook.com/Requires0', color: '#1877f2' },\r\n        { label: 'الانستجرام', icon: 'fab fa-instagram', link: 'https://www.instagram.com/requires0/', color: 'linear-gradient(45deg, #f09433 0%,#e6683c 25%,#dc2743 50%,#cc2366 75%,#bc1888 100%)' },\r\n        { label: 'التيك توك', icon: 'fab fa-tiktok', link: 'https://www.tiktok.com/@requires10', color: '#000000' },\r\n        { label: 'اللينكد إن', icon: 'fab fa-linkedin-in', link: 'https://www.linkedin.com/in/requires0', color: '#0a66c2' },\r\n        { label: 'تويتر', icon: 'fab fa-twitter', link: 'https://x.com/Requires0', color: '#1da1f2' },\r\n        { label: 'بلوجر', icon: 'fab fa-blogger-b', link: 'https://requires0.blogspot.com/', color: '#ff5722' },\r\n        { label: 'يوتيوب', icon: 'fab fa-youtube', link: 'https://www.youtube.com/@Requires4', color: '#ff0000' },\r\n    ];\r\n\r\n\r\n    useEffect(() => {\r\n        document.documentElement.classList.toggle('dark', darkMode);\r\n    }, [darkMode]);\r\n\r\n    // Function to handle Gemini API Key submission\r\n    const handleApiKeySubmit = () => {\r\n        if (userApiKey.trim()) {\r\n            setStage('ideas_generation');\r\n            generateIdeas(); // Automatically generate ideas after API key is set\r\n            setError(null); // Clear any previous error\r\n        } else {\r\n            setError('الرجاء إدخال مفتاح الـ API الخاص بـ Gemini.');\r\n        }\r\n    };\r\n\r\n    // Function to generate content ideas\r\n    const generateIdeas = async (customInstruction = '') => {\r\n        setLoading(true);\r\n        setError(null);\r\n        setProcessingButton('generate_ideas'); // Set loading for this action\r\n        try {\r\n            let prompt = `Generate 3-5 trending and relevant content ideas in Arabic for an academic services center named 'Requires for Academic Services'. Focus on topics related to academic research, student support, educational challenges, and professional development. The ideas should be engaging for students, researchers, and academics. Provide each idea as a short, catchy title.`;\r\n            if (customInstruction) {\r\n                prompt += ` Apply the following instructions: \"${customInstruction}\"`;\r\n            }\r\n\r\n            const chatHistory = [{ role: \"user\", parts: [{ text: prompt }] }];\r\n            const payload = { contents: chatHistory };\r\n            const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key=${userApiKey}`;\r\n\r\n            const result = await fetchWithBackoff(apiUrl, {\r\n                method: 'POST',\r\n                headers: { 'Content-Type': 'application/json' },\r\n                body: JSON.stringify(payload)\r\n            });\r\n\r\n            if (result.candidates && result.candidates.length > 0 && result.candidates[0].content && result.candidates[0].content.parts && result.candidates[0].content.parts.length > 0) {\r\n                const text = result.candidates[0].content.parts[0].text;\r\n                const parsedIdeas = text.split('\\n').filter(line => line.trim().length > 0 && (line.includes('-') || line.match(/^\\d+\\./))).map(line => line.replace(/^(-|\\d+\\.)\\s*/, '').trim());\r\n                setIdeas(parsedIdeas);\r\n                setIdeaCustomizationInput(''); // Clear custom instruction input\r\n                if (stage !== 'idea_selection') {\r\n                    setStage('idea_selection');\r\n                }\r\n            } else {\r\n                setError('فشل في توليد الأفكار. الرجاء المحاولة مرة أخرى.');\r\n            }\r\n        } catch (err) {\r\n            console.error('Error generating ideas:', err);\r\n            setError('حدث خطأ أثناء توليد الأفكار: ' + err.message);\r\n        } finally {\r\n            setLoading(false);\r\n            setProcessingButton(null); // Clear loading\r\n        }\r\n    };\r\n\r\n    // Function to generate specific content (post, article, or image prompts)\r\n    const generateSpecificContent = async (contentType, target = null) => {\r\n        setLoading(true);\r\n        setProcessingButton(`${contentType}-${target || 'global'}`); // Set loading for this action\r\n        setError(null);\r\n        try {\r\n            let prompt;\r\n            let result;\r\n            let apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key=${userApiKey}`;\r\n\r\n            if (contentType === 'post' && target) {\r\n                const platform = platforms.find(p => p.name === target);\r\n                if (!platform) {\r\n                    setError('منصة غير معروفة.');\r\n                    setLoading(false);\r\n                    setProcessingButton(null);\r\n                    return;\r\n                }\r\n                prompt = `Generate a professional and engaging ${platform.name} post in Arabic about '${selectedIdea}' for 'Requires for Academic Services'. Include relevant emojis and hashtags.`;\r\n                if (platform.name === 'فيسبوك' || platform.name === 'لينكد إن') {\r\n                    prompt += ` Max 200 words.`;\r\n                } else if (platform.name === 'تويتر') {\r\n                    prompt += ` Be concise (max 280 characters).`;\r\n                } else if (platform.name === 'انستجرام') {\r\n                    prompt += ` Focus on visual appeal, concise text, and strong hashtags.`;\r\n                } else if (platform.name === 'تيك توك') {\r\n                    prompt += ` Suggest a visual concept and trending audio idea suitable for a short, engaging video.`;\r\n                } else if (platform.name === 'يوتيوب') {\r\n                    prompt += ` Suggest a YouTube video title and a short, engaging description with keywords.`;\r\n                }\r\n\r\n                result = await fetchWithBackoff(apiUrl, {\r\n                    method: 'POST',\r\n                    headers: { 'Content-Type': 'application/json' },\r\n                    body: JSON.stringify({ contents: [{ role: \"user\", parts: [{ text: prompt }] }] })\r\n                });\r\n\r\n                const newContent = result.candidates?.[0]?.content?.parts?.[0]?.text || `فشل في توليد المحتوى لـ ${platform.name}.`;\r\n                setGeneratedContent(prev => ({\r\n                    ...prev,\r\n                    posts: {\r\n                        ...prev.posts,\r\n                        [platform.name]: { original: newContent } // Initialize original\r\n                    }\r\n                }));\r\n            } else if (contentType === 'bloggerArticle') {\r\n                prompt = `Generate the complete HTML content for the main article section (<div class=\"article-content\">...</div>) for a Blogger post about '${selectedIdea}' for 'Requires for Academic Services'. Adhere strictly to the following HTML structure and CSS classes: article-paragraph, section-title, subsection-title, bullet-list, numbered-list, highlight-box, quote-box, decorative-divider. Ensure id attributes for sections (e.g., id=\"section1\", id=\"section2\", etc.) are present for internal linking from a table of contents. The content should be professional, insightful, and comprehensive, reflecting the quality of 'Requires for Academic Services'. Do not include <html>, <head>, <body>, or any external CSS/JS links. Only generate the content that goes inside the <div class=\"article-content\">. Ensure all text is in Arabic. Include a table of contents within the article-content div, linking to the sections you create. Make sure the content is rich and detailed, similar to the example you provided previously about academic plagiarism.`;\r\n\r\n                result = await fetchWithBackoff(apiUrl, {\r\n                    method: 'POST',\r\n                    headers: { 'Content-Type': 'application/json' },\r\n                    body: JSON.stringify({ contents: [{ role: \"user\", parts: [{ text: prompt }] }] })\r\n                });\r\n                setGeneratedContent(prev => ({\r\n                    ...prev,\r\n                    bloggerArticle: result.candidates?.[0]?.content?.parts?.[0]?.text || `فشل في توليد مقال بلوجر.`\r\n                }));\r\n            } else if (contentType === 'imagePrompts') {\r\n                prompt = `Generate one single, highly detailed, professional, and visually appealing AI image generation prompt (in English) for a poster related to the topic '${selectedIdea}'. The image should be conceptual, without any text, and suitable for an academic services center. Focus on abstract representations, metaphors, or symbolic imagery. The prompt should aim for high-quality, modern, clean aesthetics, suitable for a digital art style, with vibrant colors and a sense of academic excellence.`;\r\n\r\n                result = await fetchWithBackoff(apiUrl, {\r\n                    method: 'POST',\r\n                    headers: { 'Content-Type': 'application/json' },\r\n                    body: JSON.stringify({ contents: [{ role: \"user\", parts: [{ text: prompt }] }] })\r\n                });\r\n                const generatedPrompt = result.candidates?.[0]?.content?.parts?.[0]?.text || 'فشل في توليد أمر الصورة.';\r\n                setGeneratedContent(prev => ({\r\n                    ...prev,\r\n                    imagePrompts: [generatedPrompt]\r\n                }));\r\n            } else if (contentType === 'videoPrompts') { // New video prompt generation\r\n                prompt = `Generate one single, highly detailed, professional, and visually appealing AI video generation prompt (in English) for a short promotional video related to the topic '${selectedIdea}' for 'Requires for Academic Services'. The video should be conceptual, dynamic, and engaging, without spoken dialogue. Describe visual scenes, transitions, and potential background music mood. Focus on abstract representations of academic excellence, problem-solving, and support. Include a description for a subtle, integrated logo of 'Requires for Academic Services' (e.g., a glowing watermark or appearing briefly at the end). The prompt should aim for high-quality, modern, and clean aesthetics.`;\r\n                result = await fetchWithBackoff(apiUrl, {\r\n                    method: 'POST',\r\n                    headers: { 'Content-Type': 'application/json' },\r\n                    body: JSON.stringify({ contents: [{ role: \"user\", parts: [{ text: prompt }] }] })\r\n                });\r\n                const generatedVideoPrompt = result.candidates?.[0]?.content?.parts?.[0]?.text || 'فشل في توليد أمر الفيديو.';\r\n                setGeneratedContent(prev => ({\r\n                    ...prev,\r\n                    videoPrompts: [generatedVideoPrompt]\r\n                }));\r\n            } else if (contentType === 'carouselSlides') { // New carousel generation\r\n                const numSlides = target; // target is now slide count\r\n                prompt = `Generate ${numSlides} concise and engaging text slides in Arabic for a social media carousel post about '${selectedIdea}' for 'Requires for Academic Services'. Each slide should have a clear, distinct message, building upon the previous one. Focus on key benefits or steps related to the topic. Format each slide as \"Slide X: [Title]\\n[Short Description]\".`;\r\n                result = await fetchWithBackoff(apiUrl, {\r\n                    method: 'POST',\r\n                    headers: { 'Content-Type': 'application/json' },\r\n                    body: JSON.stringify({ contents: [{ role: \"user\", parts: [{ text: prompt }] }] })\r\n                });\r\n                const slidesText = result.candidates?.[0]?.content?.parts?.[0]?.text || 'فشل في توليد شرائح الكاروسيل.';\r\n                const parsedSlides = slidesText.split('\\n\\n').filter(s => s.trim() !== '').map(s => {\r\n                    const parts = s.split('\\n');\r\n                    return { title: parts[0].replace(/Slide \\d+: /, '').trim(), description: parts.slice(1).join('\\n').trim() };\r\n                });\r\n                setGeneratedContent(prev => ({\r\n                    ...prev,\r\n                    carouselSlides: parsedSlides\r\n                }));\r\n            }\r\n            setStage('display_content'); // Ensure we are on the display stage after generation\r\n        } catch (err) {\r\n            console.error(`Error generating ${contentType} content:`, err);\r\n            setError(`حدث خطأ أثناء توليد ${contentType === 'post' ? 'المنشور' : contentType === 'bloggerArticle' ? 'المقال' : contentType === 'imagePrompts' ? 'أوامر الصور' : contentType === 'videoPrompts' ? 'أوامر الفيديو' : 'شرائح الكاروسيل'}: ${err.message}`);\r\n        } finally {\r\n            setLoading(false);\r\n            setProcessingButton(null); // Clear loading\r\n        }\r\n    };\r\n\r\n    // Function to generate all content (Social media, Blogger, Image Prompts)\r\n    const generateAllContent = async (idea) => {\r\n        setSelectedIdea(idea);\r\n        setLoading(true);\r\n        setError(null);\r\n        setGeneratedContent({ posts: {}, bloggerArticle: null, imagePrompts: [], videoPrompts: [], carouselSlides: [] }); // Reset all content\r\n        setStage('content_generation'); // Show loading for content generation\r\n        setProcessingButton('generate_all');\r\n\r\n        try {\r\n            // Generate all social media posts, blogger article, and image prompts in parallel\r\n            const postPromises = platforms.filter(p => p.type === 'post').map(platform => generateSpecificContent('post', platform.name));\r\n            const bloggerPromise = generateSpecificContent('bloggerArticle');\r\n            const imagePromptsPromise = generateSpecificContent('imagePrompts');\r\n            const videoPromptsPromise = generateSpecificContent('videoPrompts'); // Generate video prompts too\r\n            const carouselPromise = generateSpecificContent('carouselSlides', carouselSlideCount); // Generate carousel too\r\n            \r\n            await Promise.all([...postPromises, bloggerPromise, imagePromptsPromise, videoPromptsPromise, carouselPromise]);\r\n            setStage('display_content');\r\n        } catch (err) {\r\n            console.error('Error in generateAllContent:', err);\r\n            setError('حدث خطأ أثناء توليد كل المحتوى: ' + err.message);\r\n        } finally {\r\n            setLoading(false);\r\n            setProcessingButton(null);\r\n        }\r\n    };\r\n\r\n    // Function to generate a response for WhatsApp/Gmail client message\r\n    const generateWhatsappGmailResponse = async () => {\r\n        if (!whatsappGmailInput.trim()) {\r\n            setError('الرجاء إدخال رسالة العميل.');\r\n            return;\r\n        }\r\n        setLoading(true);\r\n        setProcessingButton('whatsapp_gmail_response');\r\n        setError(null);\r\n        setWhatsappGmailResponse(''); // Clear previous response\r\n\r\n        try {\r\n            let prompt;\r\n            if (whatsappGmailPlatform === 'واتساب') {\r\n                prompt = `Generate a concise, friendly, and professional WhatsApp response in Arabic to a client message: \"${whatsappGmailInput}\". The response should be from 'Requires for Academic Services' and offer assistance. Include a call to action with our WhatsApp number 01551053732.`;\r\n            } else if (whatsappGmailPlatform === 'جيميل') {\r\n                prompt = `Generate a formal and professional email response in Arabic to a client message: \"${whatsappGmailInput}\". The response should be from 'Requires for Academic Services', address the client formally, offer detailed assistance, and include our Gmail: requiresforeducationalservices@gmail.com. Provide only the email body, no subject or salutation.`;\r\n            }\r\n\r\n            const chatHistory = [{ role: \"user\", parts: [{ text: prompt }] }];\r\n            const payload = { contents: chatHistory };\r\n            const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key=${userApiKey}`;\r\n\r\n            const result = await fetchWithBackoff(apiUrl, {\r\n                method: 'POST',\r\n                headers: { 'Content-Type': 'application/json' },\r\n                body: JSON.stringify(payload)\r\n            });\r\n\r\n            if (result.candidates && result.candidates.length > 0 && result.candidates[0].content && result.candidates[0].content.parts && result.candidates[0].content.parts.length > 0) {\r\n                setWhatsappGmailResponse(result.candidates[0].content.parts[0].text);\r\n            } else {\r\n                setError(`فشل في توليد الرد لـ ${whatsappGmailPlatform}.`);\r\n            }\r\n        } catch (err) {\r\n            console.error(`Error generating ${whatsappGmailPlatform} response:`, err);\r\n            setError(`حدث خطأ أثناء توليد الرد لـ ${whatsappGmailPlatform}: ${err.message}`);\r\n        } finally {\r\n            setLoading(false);\r\n            setProcessingButton(null);\r\n        }\r\n    };\r\n\r\n    // Function to regenerate a specific social media post\r\n    const regeneratePost = async (platformName, currentContent) => {\r\n        setLoading(true);\r\n        setProcessingButton(`rephrase-${platformName}`);\r\n        setError(null);\r\n        try {\r\n            const prompt = `Rephrase the following ${platformName} post in Arabic, making it slightly different but maintaining the original meaning and professional tone for 'Requires for Academic Services'. Original post: \"${currentContent}\"`;\r\n            const chatHistory = [{ role: \"user\", parts: [{ text: prompt }] }];\r\n            const payload = { contents: chatHistory };\r\n            const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key=${userApiKey}`;\r\n\r\n            const result = await fetchWithBackoff(apiUrl, {\r\n                method: 'POST',\r\n                headers: { 'Content-Type': 'application/json' },\r\n                body: JSON.stringify(payload)\r\n            });\r\n\r\n            if (result.candidates && result.candidates.length > 0 && result.candidates[0].content && result.candidates[0].content.parts && result.candidates[0].content.parts.length > 0) {\r\n                const newContent = result.candidates[0].content.parts[0].text;\r\n                setGeneratedContent(prev => ({\r\n                    ...prev,\r\n                    posts: {\r\n                        ...prev.posts,\r\n                        [platformName]: { ...prev.posts[platformName], rephrased: newContent }\r\n                    }\r\n                }));\r\n            } else {\r\n                setError(`فشل في إعادة صياغة منشور ${platformName}.`);\r\n            }\r\n        } catch (err) {\r\n            console.error(`Error regenerating ${platformName} post:`, err);\r\n            setError(`حدث خطأ أثناء إعادة صياغة منشور ${platformName}: ${err.message}`);\r\n        } finally {\r\n            setLoading(false);\r\n            setProcessingButton(null);\r\n        }\r\n    };\r\n\r\n    // Function to customize a specific social media post or message response\r\n    const customizeContent = async (contentType, targetName, currentContent, instructions) => {\r\n        if (!instructions.trim()) {\r\n            setError('الرجاء إدخال تعليمات التخصيص.');\r\n            return;\r\n        }\r\n        setLoading(true);\r\n        setProcessingButton(`customize-${targetName}`);\r\n        setError(null);\r\n        try {\r\n            let prompt;\r\n            if (contentType === 'post') {\r\n                prompt = `Refine the following ${targetName} post in Arabic based on these instructions: \"${instructions}\". Keep the professional tone for 'Requires for Academic Services'. Original post: \"${currentContent}\"`;\r\n            } else if (contentType === 'message') {\r\n                prompt = `Refine the following ${targetName} message response in Arabic based on these instructions: \"${instructions}\". Maintain the appropriate tone for a client message from 'Requires for Academic Services'. Original message: \"${currentContent}\"`;\r\n            }\r\n\r\n            const chatHistory = [{ role: \"user\", parts: [{ text: prompt }] }];\r\n            const payload = { contents: chatHistory };\r\n            const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key=${userApiKey}`;\r\n\r\n            const result = await fetchWithBackoff(apiUrl, {\r\n                method: 'POST',\r\n                headers: { 'Content-Type': 'application/json' },\r\n                body: JSON.stringify(payload)\r\n            });\r\n\r\n            if (result.candidates && result.candidates.length > 0 && result.candidates[0].content && result.candidates[0].content.parts && result.candidates[0].content.parts.length > 0) {\r\n                const newContent = result.candidates[0].content.parts[0].text;\r\n                if (contentType === 'post') {\r\n                    setGeneratedContent(prev => ({\r\n                        ...prev,\r\n                        posts: {\r\n                            ...prev.posts,\r\n                            [targetName]: { ...prev.posts[targetName], customized: newContent }\r\n                        }\r\n                    }));\r\n                } else if (contentType === 'message') {\r\n                    setWhatsappGmailResponse(newContent); // Update directly for modal response\r\n                }\r\n                setCustomInstructions(prev => ({ ...prev, [targetName]: '' })); // Clear instructions after use\r\n            } else {\r\n                setError(`فشل في تخصيص ${targetName}.`);\r\n            }\r\n        } catch (err) {\r\n            console.error(`Error customizing ${targetName}:`, err);\r\n            setError(`حدث خطأ أثناء تخصيص ${targetName}: ${err.message}`);\r\n        } finally {\r\n            setLoading(false);\r\n            setProcessingButton(null);\r\n        }\r\n    };\r\n\r\n    // Function to generate marketing-focused post\r\n    const generateMarketingPost = async (platformName, currentContent) => {\r\n        setLoading(true);\r\n        setProcessingButton(`marketing-${platformName}`);\r\n        setError(null);\r\n        try {\r\n            const prompt = `Rewrite the following ${platformName} post in Arabic to be a marketing-focused post for 'Requires for Academic Services'. Emphasize how 'Requires for Academic Services' can help with the topic of the post (e.g., ensuring originality, preventing plagiarism, academic support). Make it persuasive and professional. Original post: \"${currentContent}\"`;\r\n            const chatHistory = [{ role: \"user\", parts: [{ text: prompt }] }];\r\n            const payload = { contents: chatHistory };\r\n            const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key=${userApiKey}`;\r\n\r\n            const result = await fetchWithBackoff(apiUrl, {\r\n                method: 'POST',\r\n                headers: { 'Content-Type': 'application/json' },\r\n                body: JSON.stringify(payload)\r\n            });\r\n\r\n            if (result.candidates && result.candidates.length > 0 && result.candidates[0].content && result.candidates[0].content.parts && result.candidates[0].content.parts.length > 0) {\r\n                const newContent = result.candidates[0].content.parts[0].text;\r\n                setGeneratedContent(prev => ({\r\n                    ...prev,\r\n                    posts: {\r\n                        ...prev.posts,\r\n                        [platformName]: { ...prev.posts[platformName], marketing: newContent }\r\n                    }\r\n                }));\r\n            } else {\r\n                setError(`فشل في توليد منشور تسويقي لـ ${platformName}.`);\r\n            }\r\n        } catch (err) {\r\n            console.error(`Error generating marketing post for ${platformName}:`, err);\r\n            setError(`حدث خطأ أثناء توليد منشور تسويقي لـ ${platformName}: ${err.message}`);\r\n        } finally {\r\n            setLoading(false);\r\n            setProcessingButton(null);\r\n        }\r\n    };\r\n\r\n    // Function to optimize post for SEO\r\n    const optimizePostForSEO = async (platformName, currentContent) => {\r\n        setLoading(true);\r\n        setProcessingButton(`seo-${platformName}`);\r\n        setError(null);\r\n        try {\r\n            const prompt = `Rewrite the following ${platformName} post in Arabic to be optimized for SEO. Focus on incorporating relevant keywords naturally, improving readability, and making it more discoverable. Keep the professional tone for 'Requires for Academic Services'. Original post: \"${currentContent}\"`;\r\n            const chatHistory = [{ role: \"user\", parts: [{ text: prompt }] }];\r\n            const payload = { contents: chatHistory };\r\n            const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key=${userApiKey}`;\r\n\r\n            const result = await fetchWithBackoff(apiUrl, {\r\n                method: 'POST',\r\n                headers: { 'Content-Type': 'application/json' },\r\n                body: JSON.stringify(payload)\r\n            });\r\n\r\n            if (result.candidates && result.candidates.length > 0 && result.candidates[0].content && result.candidates[0].content.parts && result.candidates[0].content.parts.length > 0) {\r\n                const newContent = result.candidates[0].content.parts[0].text;\r\n                setGeneratedContent(prev => ({\r\n                    ...prev,\r\n                    posts: {\r\n                        ...prev.posts,\r\n                        [platformName]: { ...prev.posts[platformName], seoOptimized: newContent }\r\n                    }\r\n                }));\r\n            } else {\r\n                setError(`فشل في تحسين منشور ${platformName} للسيو.`);\r\n            }\r\n        } catch (err) {\r\n            console.error(`Error optimizing ${platformName} post for SEO:`, err);\r\n            setError(`حدث خطأ أثناء تحسين منشور ${platformName} للسيو: ${err.message}`);\r\n        } finally {\r\n            setLoading(false);\r\n            setProcessingButton(null);\r\n        }\r\n    };\r\n\r\n    // Function to generate hashtags/keywords\r\n    const generateHashtagsKeywords = async (platformName, currentContent) => {\r\n        setLoading(true);\r\n        setProcessingButton(`hashtags-${platformName}`);\r\n        setError(null);\r\n        try {\r\n            const prompt = `Generate a list of 5-10 highly relevant and trending hashtags and keywords in Arabic for the following ${platformName} post. Focus on academic services, education, and the specific topic of the post. Post content: \"${currentContent}\"`;\r\n            const chatHistory = [{ role: \"user\", parts: [{ text: prompt }] }];\r\n            const payload = { contents: chatHistory };\r\n            const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key=${userApiKey}`;\r\n\r\n            const result = await fetchWithBackoff(apiUrl, {\r\n                method: 'POST',\r\n                headers: { 'Content-Type': 'application/json' },\r\n                body: JSON.stringify(payload)\r\n            });\r\n\r\n            if (result.candidates && result.candidates.length > 0 && result.candidates[0].content && result.candidates[0].content.parts && result.candidates[0].content.parts.length > 0) {\r\n                const tags = result.candidates[0].content.parts[0].text;\r\n                alert(`الهاشتاغات والكلمات المفتاحية المقترحة لـ ${platformName}:\\n\\n${tags}`); // Display in alert for now\r\n            } else {\r\n                setError(`فشل في توليد الهاشتاغات/الكلمات المفتاحية لـ ${platformName}.`);\r\n            }\r\n        } catch (err) {\r\n            console.error(`Error generating hashtags/keywords for ${platformName}:`, err);\r\n            setError(`حدث خطأ أثناء توليد الهاشتاغات/الكلمات المفتاحية لـ ${platformName}: ${err.message}`);\r\n        } finally {\r\n            setLoading(false);\r\n            setProcessingButton(null);\r\n        }\r\n    };\r\n\r\n    // Function to provide performance tips\r\n    const providePerformanceTips = async (platformName, currentContent) => {\r\n        setLoading(true);\r\n        setProcessingButton(`tips-${platformName}`);\r\n        setError(null);\r\n        try {\r\n            const prompt = `Provide 3-5 concise and actionable tips in Arabic to improve the performance and engagement of the following ${platformName} post. Focus on best practices for that specific platform. Post content: \"${currentContent}\"`;\r\n            const chatHistory = [{ role: \"user\", parts: [{ text: prompt }] }];\r\n            const payload = { contents: chatHistory };\r\n            const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key=${userApiKey}`;\r\n\r\n            const result = await fetchWithBackoff(apiUrl, {\r\n                method: 'POST',\r\n                headers: { 'Content-Type': 'application/json' },\r\n                body: JSON.stringify(payload)\r\n            });\r\n\r\n            if (result.candidates && result.candidates.length > 0 && result.candidates[0].content && result.candidates[0].content.parts && result.candidates[0].content.parts.length > 0) {\r\n                const tips = result.candidates[0].content.parts[0].text;\r\n                alert(`نصائح لتحسين أداء منشور ${platformName}:\\n\\n${tips}`); // Display in alert for now\r\n            } else {\r\n                setError(`فشل في تقديم نصائح الأداء لـ ${platformName}.`);\r\n            }\r\n        } catch (err) {\r\n            console.error(`Error providing performance tips for ${platformName}:`, err);\r\n            setError(`حدث خطأ أثناء تقديم نصائح الأداء لـ ${platform.name}: ${err.message}`);\r\n        } finally {\r\n            setLoading(false);\r\n            setProcessingButton(null);\r\n        }\r\n    };\r\n\r\n\r\n    // Function to translate text to English\r\n    const translateText = async (text, key, contentType, targetName) => {\r\n        setLoading(true);\r\n        setProcessingButton(`translate-${key}`);\r\n        setError(null);\r\n        try {\r\n            const prompt = `Translate the following Arabic text to English: \"${text}\"`;\r\n            const chatHistory = [{ role: \"user\", parts: [{ text: prompt }] }];\r\n            const payload = { contents: chatHistory };\r\n            const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key=${userApiKey}`;\r\n\r\n            const result = await fetchWithBackoff(apiUrl, {\r\n                method: 'POST',\r\n                headers: { 'Content-Type': 'application/json' },\r\n                body: JSON.stringify(payload)\r\n            });\r\n\r\n            if (result.candidates && result.candidates.length > 0 && result.candidates[0].content && result.candidates[0].content.parts && result.candidates[0].content.parts.length > 0) {\r\n                const translated = result.candidates[0].content.parts[0].text;\r\n                setTranslatedTexts(prev => ({ ...prev, [key]: translated }));\r\n                // Update the generatedContent for posts if it's a post translation\r\n                if (contentType === 'post') {\r\n                    setGeneratedContent(prev => ({\r\n                        ...prev,\r\n                        posts: {\r\n                            ...prev.posts,\r\n                            [targetName]: { ...prev.posts[targetName], translated: translated }\r\n                        }\r\n                    }));\r\n                }\r\n            } else {\r\n                setError(`فشل في الترجمة.`);\r\n            }\r\n        } catch (err) {\r\n            console.error('Error translating text:', err);\r\n            setError(`حدث خطأ أثناء الترجمة: ${err.message}`);\r\n        } finally {\r\n            setLoading(false);\r\n            setProcessingButton(null);\r\n        }\r\n    };\r\n\r\n    // Function to copy text to clipboard\r\n    const copyToClipboard = (text) => {\r\n        const textarea = document.createElement('textarea');\r\n        textarea.value = text;\r\n        document.body.appendChild(textarea);\r\n        textarea.select();\r\n        try {\r\n            document.execCommand('copy');\r\n            // Using a simple alert for now, can be replaced by a custom modal\r\n            alert('تم نسخ المحتوى بنجاح!');\r\n        } catch (err) {\r\n            console.error('Failed to copy text: ', err);\r\n            alert('فشل نسخ المحتوى. يرجى النسخ يدوياً.');\r\n        }\r\n        document.body.removeChild(textarea);\r\n    };\r\n\r\n    // Function to handle direct sharing (simplified)\r\n    const shareContent = (platform, text, url = '') => {\r\n        let shareUrl = '';\r\n        const encodedText = encodeURIComponent(text);\r\n        const encodedUrl = encodeURIComponent(url);\r\n\r\n        if (platform === 'فيسبوك') {\r\n            shareUrl = `https://www.facebook.com/sharer/sharer.php?u=${encodedUrl}&quote=${encodedText}`;\r\n        } else if (platform === 'تويتر') {\r\n            shareUrl = `https://twitter.com/intent/tweet?text=${encodedText}&url=${encodedUrl}`;\r\n        } else if (platform === 'لينكد إن') {\r\n            shareUrl = `https://www.linkedin.com/shareArticle?mini=true&url=${encodedUrl}&title=${encodedText.substring(0, 100)}&summary=${encodedText}`;\r\n        } else {\r\n            alert(`لا يمكن المشاركة مباشرة على ${platform} من داخل هذا التطبيق. يرجى النسخ واللصق يدوياً.`);\r\n            return;\r\n        }\r\n\r\n        window.open(shareUrl, '_blank', 'noopener,noreferrer');\r\n    };\r\n\r\n\r\n    // Function to reset the app to initial state\r\n    const startNewDay = () => {\r\n        setStage('ideas_generation');\r\n        setIdeas([]);\r\n        setSelectedIdea(null);\r\n        setGeneratedContent({ posts: {}, bloggerArticle: null, imagePrompts: [], videoPrompts: [], carouselSlides: [] });\r\n        setLoading(false);\r\n        setError(null);\r\n        setTranslatedTexts({}); // Clear translations\r\n        setCustomInstructions({}); // Clear custom instructions\r\n        setIdeaCustomizationInput(''); // Clear idea customization input\r\n        generateIdeas(); // Immediately generate new ideas for the new day\r\n    };\r\n\r\n    // Function to go back to idea selection (from display content)\r\n    const goBackToIdeaSelection = () => {\r\n        setStage('idea_selection');\r\n        setGeneratedContent({ posts: {}, bloggerArticle: null, imagePrompts: [], videoPrompts: [], carouselSlides: [] });\r\n        setSelectedIdea(null);\r\n        setTranslatedTexts({});\r\n        setCustomInstructions({});\r\n    };\r\n\r\n    // Function to go back to API key input\r\n    const goBackToApiKeyInput = () => {\r\n        setStage('api_key_input');\r\n        setUserApiKey('');\r\n        setIdeas([]);\r\n        setSelectedIdea(null);\r\n        setGeneratedContent({ posts: {}, bloggerArticle: null, imagePrompts: [], videoPrompts: [], carouselSlides: [] });\r\n        setLoading(false);\r\n        setError(null);\r\n        setTranslatedTexts({});\r\n        setCustomInstructions({});\r\n        setIdeaCustomizationInput('');\r\n    };\r\n\r\n    // Function to navigate to the previous stage\r\n    const goToPreviousStage = () => {\r\n        if (stage === 'api_key_input') {\r\n            setStage('splash_screen'); // Go back to splash screen if on API key input\r\n        } else if (stage === 'ideas_generation') {\r\n            setStage('api_key_input');\r\n        } else if (stage === 'idea_selection') {\r\n            setStage('ideas_generation');\r\n            generateIdeas(); // Re-generate ideas if going back to this stage\r\n        } else if (stage === 'content_generation') {\r\n            setStage('idea_selection');\r\n        } else if (stage === 'display_content') {\r\n            setStage('content_generation');\r\n        }\r\n        setError(null); // Clear error on navigation\r\n    };\r\n\r\n    // Function to navigate to the next stage (simplified, depends on current stage logic)\r\n    const goToNextStage = () => {\r\n        if (stage === 'splash_screen') {\r\n            setStage('api_key_input');\r\n        } else if (stage === 'api_key_input') {\r\n            handleApiKeySubmit(); // Try to move to ideas generation\r\n        } else if (stage === 'ideas_generation' && ideas.length > 0) {\r\n            setStage('idea_selection');\r\n        } else if (stage === 'idea_selection' && selectedIdea) {\r\n            setStage('content_generation');\r\n        } else if (stage === 'content_generation' && (generatedContent.bloggerArticle || Object.keys(generatedContent.posts).length > 0 || generatedContent.imagePrompts.length > 0 || generatedContent.videoPrompts.length > 0 || generatedContent.carouselSlides.length > 0)) { // Check if any content is generated\r\n            setStage('display_content');\r\n        }\r\n    };\r\n\r\n    // Function to refresh current stage content\r\n    const refreshCurrentStage = () => {\r\n        setError(null); // Clear any existing errors\r\n        if (stage === 'ideas_generation' || stage === 'idea_selection') {\r\n            generateIdeas(ideaCustomizationInput); // Re-generate ideas with current customization\r\n        } else if (stage === 'content_generation' && selectedIdea) {\r\n            // Re-generate all content if on content generation screen\r\n            generateAllContent(selectedIdea);\r\n        } else if (stage === 'display_content' && selectedIdea) {\r\n            // Re-generate all content if on display screen\r\n            generateAllContent(selectedIdea);\r\n        } else {\r\n            // Fallback for other stages or if no idea selected yet\r\n            alert('لا يمكن تحديث هذه الصفحة حالياً. يرجى المتابعة أو البدء من جديد.');\r\n        }\r\n    };\r\n\r\n\r\n    // Blogger HTML Template (from user's input) - to be filled dynamically\r\n    const getBloggerFullHtml = (articleContentHtml, articleTitle) => `\r\n<!DOCTYPE html>\r\n<html lang=\"ar\" dir=\"rtl\">\r\n<head>\r\n    <meta charset=\"UTF-8\">\r\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\r\n    <title>${articleTitle || 'مقال ريكويرز للخدمات الأكاديمية'}</title>\r\n    <!-- Google Fonts: Tajawal -->\r\n    <link href=\"https://fonts.googleapis.com/css2?family=Tajawal:wght@300;400;500;700;800&display=swap\" rel=\"stylesheet\">\r\n    <!-- Font Awesome for Icons -->\r\n    <link rel=\"stylesheet\" href=\"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css\">\r\n    <style>\r\n        body {\r\n            margin: 0;\r\n            padding: 0;\r\n            background-color: #f0f2f5; /* لون خلفية خفيف للجسم */\r\n            font-family: 'Tajawal', Arial, sans-serif;\r\n            direction: rtl; /* لضمان الاتجاه من اليمين لليسار */\r\n            overflow-x: hidden; /* لمنع شريط التمرير الأفقي */\r\n        }\r\n        .dark body {\r\n            background-color: #1a202c;\r\n            color: #e2e8f0;\r\n        }\r\n\r\n        .article-container {\r\n            font-family: 'Tajawal', Arial, sans-serif;\r\n            max-width: 900px;\r\n            margin: 0 auto;\r\n            padding: 20px;\r\n            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\r\n            border-radius: 20px;\r\n            box-shadow: 0 20px 40px rgba(0,0,0,0.1);\r\n            color: #2c3e50;\r\n            line-height: 1.8;\r\n            direction: rtl;\r\n        }\r\n        .dark .article-container {\r\n            background: linear-gradient(135deg, #4a0e4a 0%, #2d0a4d 100%);\r\n            color: #e2e8f0;\r\n        }\r\n        \r\n        .article-header {\r\n            text-align: center;\r\n            margin-bottom: 40px;\r\n            padding: 40px 20px;\r\n            background: rgba(255,255,255,0.95);\r\n            border-radius: 15px;\r\n            backdrop-filter: blur(10px);\r\n            border: 1px solid rgba(255,255,255,0.2);\r\n        }\r\n        .dark .article-header {\r\n            background: rgba(30,41,59,0.95);\r\n            border: 1px solid rgba(255,255,255,0.1);\r\n        }\r\n        \r\n        .article-title {\r\n            font-size: 2.5em;\r\n            font-weight: 800;\r\n            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\r\n            -webkit-background-clip: text;\r\n            -webkit-text-fill-color: transparent;\r\n            background-clip: text;\r\n            margin-bottom: 20px;\r\n            text-shadow: 0 2px 4px rgba(0,0,0,0.1);\r\n        }\r\n        .dark .article-title {\r\n            background: linear-gradient(135deg, #a78bfa 0%, #d8b4fe 100%);\r\n            -webkit-background-clip: text;\r\n            -webkit-text-fill-color: transparent;\r\n            background-clip: text;\r\n        }\r\n        \r\n        .article-meta {\r\n            display: flex;\r\n            justify-content: center;\r\n            align-items: center;\r\n            gap: 20px;\r\n            flex-wrap: wrap;\r\n            margin-top: 20px;\r\n            color: #666;\r\n            font-size: 0.9em;\r\n        }\r\n        .dark .article-meta {\r\n            color: #a0aec0;\r\n        }\r\n        \r\n        .meta-item {\r\n            display: flex;\r\n            align-items: center;\r\n            gap: 5px;\r\n            padding: 8px 15px;\r\n            background: rgba(102, 126, 234, 0.1);\r\n            border-radius: 20px;\r\n            transition: all 0.3s ease;\r\n        }\r\n        .dark .meta-item {\r\n            background: rgba(167, 139, 250, 0.1);\r\n        }\r\n        \r\n        .meta-item:hover {\r\n            background: rgba(102, 126, 234, 0.2);\r\n            transform: translateY(-2px);\r\n        }\r\n        .dark .meta-item:hover {\r\n            background: rgba(167, 139, 250, 0.2);\r\n        }\r\n        \r\n        .reading-time {\r\n            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\r\n            color: white;\r\n            padding: 10px 20px;\r\n            border-radius: 25px;\r\n            font-weight: 600;\r\n            box-shadow: 0 4px 15px rgba(102, 126, 234, 0.3);\r\n        }\r\n        .dark .reading-time {\r\n            background: linear-gradient(135deg, #a78bfa 0%, #d8b4fe 100%);\r\n            box-shadow: 0 4px 15px rgba(167, 139, 250, 0.3);\r\n        }\r\n        \r\n        .article-content {\r\n            background: rgba(255,255,255,0.95);\r\n            padding: 40px;\r\n            border-radius: 15px;\r\n            backdrop-filter: blur(10px);\r\n            border: 1px solid rgba(255,255,255,0.2);\r\n            margin-bottom: 30px;\r\n        }\r\n        .dark .article-content {\r\n            background: rgba(30,41,59,0.95);\r\n            border: 1px solid rgba(255,255,255,0.1);\r\n        }\r\n        \r\n        .section-title {\r\n            font-size: 1.8em;\r\n            font-weight: 700;\r\n            color: #4d22bb;\r\n            margin: 30px 0 20px 0;\r\n            position: relative;\r\n            padding-right: 20px;\r\n            border-right: 4px solid #667eea;\r\n        }\r\n        .dark .section-title {\r\n            color: #d8b4fe;\r\n            border-right-color: #a78bfa;\r\n        }\r\n        \r\n        .subsection-title {\r\n            font-size: 1.4em;\r\n            font-weight: 600;\r\n            color: #5a67d8;\r\n            margin: 25px 0 15px 0;\r\n            position: relative;\r\n            padding-right: 25px;\r\n        }\r\n        .dark .subsection-title {\r\n            color: #a78bfa;\r\n        }\r\n        \r\n        .subsection-title::before {\r\n            content: '';\r\n            position: absolute;\r\n            right: 0;\r\n            top: 50%;\r\n            transform: translateY(-50%);\r\n            width: 15px;\r\n            height: 15px;\r\n            background: #667eea;\r\n            border-radius: 50%;\r\n        }\r\n        .dark .subsection-title::before {\r\n            background: #a78bfa;\r\n        }\r\n        \r\n        .article-paragraph {\r\n            font-size: 1.1em;\r\n            line-height: 1.9;\r\n            margin-bottom: 20px;\r\n            text-align: justify;\r\n            color: #2d3748;\r\n            font-weight: 400;\r\n        }\r\n        .dark .article-paragraph {\r\n            color: #e2e8f0;\r\n        }\r\n        \r\n        .highlight-box {\r\n            background: linear-gradient(135deg, rgba(102, 126, 234, 0.1) 0%, rgba(118, 75, 162, 0.1) 100%);\r\n            border-right: 4px solid #667eea;\r\n            padding: 20px 20px 20px 50px;\r\n            margin: 25px 0;\r\n            border-radius: 10px;\r\n            position: relative;\r\n            box-shadow: 0 4px 15px rgba(0,0,0,0.05);\r\n        }\r\n        .dark .highlight-box {\r\n            background: linear-gradient(135deg, rgba(167, 139, 250, 0.1) 0%, rgba(216, 180, 254, 0.1) 100%);\r\n            border-right-color: #a78bfa;\r\n            box-shadow: 0 4px 15px rgba(0,0,0,0.2);\r\n        }\r\n        \r\n        .highlight-box::before {\r\n            content: 'i';\r\n            position: absolute;\r\n            top: 20px;\r\n            right: 20px;\r\n            font-size: 1.2em;\r\n            color: white;\r\n            font-weight: bold;\r\n            background: #667eea;\r\n            border-radius: 50%;\r\n            width: 25px;\r\n            height: 25px;\r\n            display: flex;\r\n            align-items: center;\r\n            justify-content: center;\r\n            font-style: italic;\r\n        }\r\n        .dark .highlight-box::before {\r\n            background: #a78bfa;\r\n        }\r\n        \r\n        .decorative-divider {\r\n            text-align: center;\r\n            margin: 40px 0;\r\n            position: relative;\r\n        }\r\n        \r\n        .decorative-divider::before {\r\n            content: '';\r\n            position: absolute;\r\n            top: 50%;\r\n            left: 0;\r\n            right: 0;\r\n            height: 2px;\r\n            background: linear-gradient(90deg, transparent 0%, #667eea 20%, #764ba2 50%, #667eea 80%, transparent 100%);\r\n            z-index: 1;\r\n        }\r\n        .dark .decorative-divider::before {\r\n            background: linear-gradient(90deg, transparent 0%, #a78bfa 20%, #d8b4fe 50%, #a78bfa 80%, transparent 100%);\r\n        }\r\n        \r\n        .decorative-divider span {\r\n            background: rgba(255,255,255,0.95);\r\n            padding: 0 20px;\r\n            color: #667eea;\r\n            font-size: 1.5em;\r\n            position: relative;\r\n            z-index: 2;\r\n            font-weight: bold;\r\n        }\r\n        .dark .decorative-divider span {\r\n            background: rgba(30,41,59,0.95);\r\n            color: #a78bfa;\r\n        }\r\n        \r\n        .bullet-list {\r\n            list-style: none;\r\n            padding-right: 0;\r\n            margin: 20px 0;\r\n        }\r\n        \r\n        .bullet-list li {\r\n            position: relative;\r\n            padding-right: 30px;\r\n            margin-bottom: 15px;\r\n            font-size: 1.1em;\r\n            line-height: 1.7;\r\n        }\r\n        \r\n        .bullet-list li::before {\r\n            content: '';\r\n            position: absolute;\r\n            right: 8px;\r\n            top: 12px;\r\n            width: 8px;\r\n            height: 8px;\r\n            background: #667eea;\r\n            border-radius: 50%;\r\n        }\r\n        .dark .bullet-list li::before {\r\n            background: #a78bfa;\r\n        }\r\n        \r\n        .numbered-list {\r\n            counter-reset: item-counter;\r\n            list-style: none;\r\n            padding-right: 0;\r\n            margin: 20px 0;\r\n        }\r\n        \r\n        .numbered-list li {\r\n            position: relative;\r\n            padding-right: 50px;\r\n            margin-bottom: 15px;\r\n            font-size: 1.1em;\r\n            line-height: 1.7;\r\n            counter-increment: item-counter;\r\n        }\r\n        \r\n        .numbered-list li::before {\r\n            content: counter(item-counter);\r\n            position: absolute;\r\n            right: 0;\r\n            top: 0;\r\n            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\r\n            color: white;\r\n            width: 30px;\r\n            height: 30px;\r\n            border-radius: 50%;\r\n            display: flex;\r\n            align-items: center;\r\n            justify-content: center;\r\n            font-weight: 700;\r\n            font-size: 0.9em;\r\n        }\r\n        .dark .numbered-list li::before {\r\n            background: linear-gradient(135deg, #a78bfa 0%, #d8b4fe 100%);\r\n        }\r\n        \r\n        .quote-box {\r\n            background: rgba(255,255,255,0.9);\r\n            border-right: 4px solid #667eea;\r\n            padding: 25px 25px 25px 60px;\r\n            margin: 30px 0;\r\n            border-radius: 10px;\r\n            position: relative;\r\n            font-style: italic;\r\n            font-size: 1.15em;\r\n            box-shadow: 0 4px 15px rgba(0,0,0,0.05);\r\n        }\r\n        .dark .quote-box {\r\n            background: rgba(30,41,59,0.9);\r\n            border-right-color: #a78bfa;\r\n            box-shadow: 0 4px 15px rgba(0,0,0,0.2);\r\n        }\r\n        \r\n        .quote-box::before {\r\n            content: '\"';\r\n            position: absolute;\r\n            top: 10px;\r\n            right: 20px;\r\n            font-size: 3em;\r\n            color: #667eea;\r\n            opacity: 0.3;\r\n            font-family: serif;\r\n            line-height: 1;\r\n        }\r\n        .dark .quote-box::before {\r\n            color: #a78bfa;\r\n        }\r\n        \r\n        .progress-bar {\r\n            position: fixed;\r\n            top: 0;\r\n            left: 0;\r\n            width: 0%;\r\n            height: 4px;\r\n            background: linear-gradient(90deg, #667eea 0%, #764ba2 100%);\r\n            z-index: 1000;\r\n            transition: width 0.3s ease;\r\n        }\r\n        .dark .progress-bar {\r\n            background: linear-gradient(90deg, #a78bfa 0%, #d8b4fe 100%);\r\n        }\r\n        \r\n        .table-of-contents {\r\n            background: rgba(255,255,255,0.9);\r\n            border: 2px solid rgba(102, 126, 234, 0.2);\r\n            border-radius: 15px;\r\n            padding: 25px;\r\n            margin: 30px auto; /* Added auto for horizontal centering */\r\n            max-width: 800px; /* Adjusted max-width for TOC */\r\n        }\r\n        .dark .table-of-contents {\r\n            background: rgba(30,41,59,0.9);\r\n            border-color: rgba(167, 139, 250, 0.2);\r\n        }\r\n        \r\n        .toc-title {\r\n            font-size: 1.3em;\r\n            font-weight: 700;\r\n            color: #4d22bb;\r\n            margin-bottom: 15px;\r\n            text-align: center;\r\n            border-bottom: 2px solid #667eea;\r\n            padding-bottom: 10px;\r\n            display: inline-block;\r\n        }\r\n        .dark .toc-title {\r\n            color: #d8b4fe;\r\n            border-bottom-color: #a78bfa;\r\n        }\r\n        \r\n        .toc-list {\r\n            list-style: none;\r\n            padding-right: 0;\r\n        }\r\n        \r\n        .toc-list li {\r\n            margin-bottom: 10px;\r\n            position: relative;\r\n            padding-right: 20px;\r\n        }\r\n        \r\n.toc-list li::before {\r\n            content: '';\r\n            position: absolute;\r\n            right: 0;\r\n            top: 12px;\r\n            width: 6px;\r\n            height: 6px;\r\n            background: #667eea;\r\n            border-radius: 50%;\r\n        }\r\n        .dark .toc-list li::before {\r\n            background: #a78bfa;\r\n        }\r\n        \r\n        .toc-list a {\r\n            color: #5a67d8;\r\n            text-decoration: none;\r\n            font-weight: 500;\r\n            transition: all 0.3s ease;\r\n            display: block;\r\n            padding: 8px 15px;\r\n            border-radius: 8px;\r\n        }\r\n        .dark .toc-list a {\r\n            color: #a78bfa;\r\n        }\r\n        \r\n        .toc-list a:hover {\r\n            background: rgba(102, 126, 234, 0.1);\r\n            color: #4d22bb;\r\n            transform: translateX(-5px);\r\n        }\r\n        .dark .toc-list a:hover {\r\n            background: rgba(167, 139, 250, 0.1);\r\n            color: #d8b4fe;\r\n        }\r\n        \r\n        .conclusion-box {\r\n            background: linear-gradient(135deg, rgba(102, 126, 234, 0.1) 0%, rgba(118, 75, 162, 0.1) 100%);\r\n            border: 2px solid rgba(102, 126, 234, 0.3);\r\n            border-radius: 15px;\r\n            padding: 30px;\r\n            margin: 40px 0;\r\n            text-align: center;\r\n        }\r\n        .dark .conclusion-box {\r\n            background: linear-gradient(135deg, rgba(167, 139, 250, 0.1) 0%, rgba(216, 180, 254, 0.1) 100%);\r\n            border-color: rgba(167, 139, 250, 0.3);\r\n        }\r\n        \r\n        .conclusion-title {\r\n            font-size: 1.5em;\r\n            font-weight: 700;\r\n            color: #4d22bb;\r\n            margin-bottom: 20px;\r\n            border-bottom: 2px solid #667eea;\r\n            padding-bottom: 10px;\r\n            display: inline-block;\r\n        }\r\n        .dark .conclusion-title {\r\n            color: #d8b4fe;\r\n            border-bottom-color: #a78bfa;\r\n        }\r\n        \r\n        @media (max-width: 768px) {\r\n            .article-container {\r\n                padding: 15px;\r\n                margin: 10px;\r\n            }\r\n            \r\n            .article-title {\r\n                font-size: 2em;\r\n            }\r\n            \r\n            .article-content {\r\n                padding: 25px;\r\n            }\r\n            \r\n            .article-meta {\r\n                flex-direction: column;\r\n                gap: 10px;\r\n            }\r\n        }\r\n        \r\n        /* Animation for scroll */\r\n        @keyframes fadeInUp {\r\n            from {\r\n                opacity: 0;\r\n                transform: translateY(30px);\r\n            }\r\n            to {\r\n                opacity: 1;\r\n                transform: translateY(0);\r\n            }\r\n        }\r\n        \r\n        .fade-in {\r\n            animation: fadeInUp 0.6s ease-out forwards; /* Added forwards to keep the end state */\r\n        }\r\n\r\n        /* Social Icons specific CSS */\r\n        .social-icons-container {\r\n            display: flex;\r\n            justify-content: center;\r\n            align-items: center;\r\n            gap: 15px;\r\n            margin-top: 30px;\r\n            flex-wrap: wrap;\r\n        }\r\n        .social-icon-link {\r\n            width: 48px;\r\n            height: 48px;\r\n            display: flex;\r\n            justify-content: center;\r\n            align-items: center;\r\n            background-color: rgba(255, 255, 255, 0.9);\r\n            border-radius: 8px;\r\n            transition: all 0.3s ease;\r\n            position: relative;\r\n        }\r\n        .dark .social-icon-link {\r\n            background-color: rgba(45,55,72,0.9);\r\n        }\r\n        .social-icon-link i {\r\n            font-size: 24px;\r\n            color: #4d22bb;\r\n            transition: all 0.3s ease;\r\n        }\r\n        .dark .social-icon-link i {\r\n            color: #a78bfa;\r\n        }\r\n        .social-icon-link:hover {\r\n            transform: translateY(-5px) scale(1.1);\r\n            background-color: #4d22bb;\r\n            box-shadow: 0 5px 15px rgba(0,0,0,0.2);\r\n        }\r\n        .dark .social-icon-link:hover {\r\n            background-color: #a78bfa;\r\n        }\r\n        .social-icon-link:hover i {\r\n            color: white;\r\n        }\r\n        .social-icon-link.gmail:hover { background-color: #d44638; }\r\n        .social-icon-link.facebook:hover { background-color: #1877f2; }\r\n        .social-icon-link.instagram:hover { background: radial-gradient(circle at 30% 107%, #fdf497 0%, #fdf497 5%, #fd5949 45%, #d6249f 60%, #285AEB 90%); }\r\n        .social-icon-link.tiktok:hover { background-color: #000; }\r\n        .social-icon-link.linkedin:hover { background-color: #0a66c2; }\r\n        .social-icon-link.twitter:hover { background-color: #1da1f2; }\r\n        .social-icon-link.blogger:hover { background-color: #ff5722; }\r\n        .social-icon-link.whatsapp:hover { background-color: #25d366; }\r\n    </style>\r\n</head>\r\n<body>\r\n\r\n<div class=\"progress-bar\" id=\"progressBar\"></div>\r\n\r\n<div class=\"article-container\">\r\n    <div class=\"article-header fade-in\">\r\n        <h1 class=\"article-title\">${articleTitle || 'عنوان المقال'}</h1>\r\n        <div class=\"article-meta\">\r\n            <div class=\"meta-item\">\r\n                <i class=\"fas fa-calendar-alt\"></i>\r\n                <span>${new Date().toLocaleDateString('ar-EG', { year: 'numeric', month: 'long' })}</span>\r\n            </div>\r\n            <div class=\"meta-item\">\r\n                <i class=\"fas fa-user\"></i>\r\n                <span>Requires for Academic Services</span>\r\n            </div>\r\n            <div class=\"reading-time\">\r\n                <i class=\"fas fa-clock\"></i>\r\n                <span>5-7 دقائق قراءة</span>\r\n            </div>\r\n        </div>\r\n    </div>\r\n\r\n    ${articleContentHtml}\r\n\r\n    <div class=\"contact-info\" style=\"text-align:center; margin-top:40px;\">\r\n        <p class=\"mb-4\" style=\"color: white; font-size: 1.1em; font-weight: 500;\">للمزيد من المساعدة في أبحاثك الأكاديمية، لا تتردد في التواصل معنا:</p>\r\n        \r\n        <div class=\"social-icons-container\">\r\n            <a href=\"mailto:requiresforeducationalservices@gmail.com\" class=\"social-icon-link gmail\" aria-label=\"Gmail\" target=\"_blank\" rel=\"noopener\">\r\n                <i class=\"fas fa-envelope\"></i>\r\n            </a>\r\n            <a href=\"https://www.facebook.com/Requires0\" class=\"social-icon-link facebook\" aria-label=\"Facebook\" target=\"_blank\" rel=\"noopener\">\r\n                <i class=\"fab fa-facebook-f\"></i>\r\n            </a>\r\n            <a href=\"https://www.instagram.com/requires0/\" class=\"social-icon-link instagram\" aria-label=\"Instagram\" target=\"_blank\" rel=\"noopener\">\r\n                <i class=\"fab fa-instagram\"></i>\r\n            </a>\r\n            <a href=\"https://www.tiktok.com/@requires10\" class=\"social-icon-link tiktok\" aria-label=\"TikTok\" target=\"_blank\" rel=\"noopener\">\r\n                <i class=\"fab fa-tiktok\"></i>\r\n            </a>\r\n            <a href=\"https://www.linkedin.com/in/requires0\" class=\"social-icon-link linkedin\" aria-label=\"LinkedIn\" target=\"_blank\" rel=\"noopener\">\r\n                <i class=\"fab fa-linkedin-in\"></i>\r\n            </a>\r\n            <a href=\"https://x.com/Requires0\" class=\"social-icon-link twitter\" aria-label=\"Twitter\" target=\"_blank\" rel=\"noopener\">\r\n                <i class=\"fab fa-twitter\"></i>\r\n            </a>\r\n            <a href=\"https://requires0.blogspot.com/\" class=\"social-icon-link blogger\" aria-label=\"Blogger\" target=\"_blank\" rel=\"noopener\">\r\n                <i class=\"fab fa-blogger-b\"></i>\r\n            </a>\r\n            <a href=\"https://api.whatsapp.com/send?phone=01551053732\" class=\"social-icon-link whatsapp\" aria-label=\"WhatsApp\" target=\"_blank\" rel=\"noopener\">\r\n                <i class=\"fab fa-whatsapp\"></i>\r\n            </a>\r\n        </div>\r\n    </div>\r\n</div>\r\n\r\n<script>\r\n    // Progress bar for scrolling\r\n    window.addEventListener('scroll', function() {\r\n        const scrollTop = document.documentElement.scrollTop || document.body.scrollTop;\r\n        const scrollHeight = document.documentElement.scrollHeight - document.documentElement.clientHeight;\r\n        const scrolled = (scrollTop / scrollHeight) * 100;\r\n        const progressBar = document.getElementById('progressBar');\r\n        if (progressBar) { // Check if element exists\r\n            progressBar.style.width = scrolled + '%';\r\n        }\r\n    });\r\n    \r\n    // Fade-in animation on scroll\r\n    const observer = new IntersectionObserver((entries) => {\r\n        entries.forEach((entry) => {\r\n            if (entry.isIntersecting) {\r\n                entry.target.classList.add('fade-in');\r\n                observer.unobserve(entry.target);\r\n            }\r\n        });\r\n    }, { threshold: 0.1 });\r\n    \r\n    // Observe elements for fade-in effect\r\n    document.querySelectorAll('.article-header, .table-of-contents, .article-content > *:not(.decorative-divider), .contact-info').forEach((el) => {\r\n        observer.observe(el);\r\n    });\r\n    \r\n    // Smooth scroll for internal links\r\n    document.querySelectorAll('.toc-list a[href^=\"#\"]').forEach(anchor => {\r\n        anchor.addEventListener('click', function (e) {\r\n            e.preventDefault();\r\n            const target = document.querySelector(this.getAttribute('href'));\r\n            if (target) {\r\n                target.scrollIntoView({\r\n                    behavior: 'smooth',\r\n                    block: 'start'\r\n                });\r\n            }\r\n        });\r\n    });\r\n</script>\r\n</body>\r\n</html>\r\n    `;\r\n\r\n    return (\r\n        <div className={`min-h-screen ${darkMode ? 'bg-gray-900 text-gray-100' : 'bg-gray-100 text-gray-900'} font-sans p-4 sm:p-8 flex flex-col items-center justify-center transition-colors duration-300`}>\r\n            {/* Font Imports */}\r\n            <link href=\"https://fonts.googleapis.com/css2?family=Tajawal:wght@300;400;500;700;800&display=swap\" rel=\"stylesheet\" />\r\n            <link href=\"https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap\" rel=\"stylesheet\" />\r\n            <link rel=\"stylesheet\" href=\"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css\" />\r\n            {/* Tailwind CSS */}\r\n            <script src=\"https://cdn.tailwindcss.com\"></script>\r\n\r\n            {/* Global Styles for Animations */}\r\n            <style>\r\n                {`\r\n                @keyframes fadeIn {\r\n                    from { opacity: 0; }\r\n                    to { opacity: 1; }\r\n                }\r\n                @keyframes slideInUp {\r\n                    from { opacity: 0; transform: translateY(20px); }\r\n                    to { opacity: 1; transform: translateY(0); }\r\n                }\r\n                @keyframes bounceIn {\r\n                    0% { transform: scale(0.1); opacity: 0; }\r\n                    60% { transform: scale(1.2); opacity: 1; }\r\n                    100% { transform: scale(1); }\r\n                }\r\n                .animate-fadeIn { animation: fadeIn 0.8s ease-out forwards; }\r\n                .animate-slideInUp { animation: slideInUp 0.6s ease-out forwards; }\r\n                .animate-bounceIn { animation: bounceIn 0.7s ease-out forwards; }\r\n                .delay-100 { animation-delay: 0.1s; }\r\n                .delay-200 { animation-delay: 0.2s; }\r\n                .delay-300 { animation-delay: 0.3s; }\r\n                .delay-400 { animation-delay: 0.4s; }\r\n                .delay-500 { animation-delay: 0.5s; }\r\n                `}\r\n            </style>\r\n\r\n            {/* Dark Mode Toggle */}\r\n            <button\r\n                onClick={() => setDarkMode(!darkMode)}\r\n                className={`fixed top-4 left-4 p-3 rounded-full shadow-lg transition-all duration-300 z-50 ${darkMode ? 'bg-gray-700 text-yellow-300 hover:bg-gray-600' : 'bg-yellow-300 text-gray-800 hover:bg-yellow-400'}`}\r\n                aria-label=\"Toggle dark mode\"\r\n            >\r\n                {darkMode ? <i className=\"fas fa-sun\"></i> : <i className=\"fas fa-moon\"></i>}\r\n            </button>\r\n\r\n            {/* Developer Logo - Fixed on all pages except Splash and API Key Input */}\r\n            {(stage !== 'splash_screen' && stage !== 'api_key_input') && (\r\n                <img\r\n                    src=\"https://i.ibb.co/xKH7Rbby/ahmed-elsherbini-logo.png\"\r\n                    alt=\"Ahmad ElSherbiny Logo\"\r\n                    className=\"fixed top-4 right-4 w-10 h-10 sm:w-12 sm:h-12 z-40 transition-all duration-300 rounded-full shadow-md\" // Adjusted size\r\n                />\r\n            )}\r\n\r\n            {/* \"اتصل بنا\" Button - Fixed on all pages except Splash */}\r\n            {stage !== 'splash_screen' && (\r\n                <button\r\n                    onClick={() => setShowContactModal(true)}\r\n                    className=\"fixed bottom-4 left-4 bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 px-6 rounded-full shadow-lg transform transition duration-300 ease-in-out hover:scale-105 z-40\"\r\n                    style={{ fontFamily: 'Tajawal' }}\r\n                >\r\n                    اتصل بنا\r\n                </button>\r\n            )}\r\n\r\n            {/* Main Container */}\r\n            <div className={`bg-white shadow-lg rounded-2xl p-6 sm:p-10 w-full max-w-4xl text-center transition-colors duration-300 ${darkMode ? 'dark:bg-gray-800' : ''}`}>\r\n                {error && (\r\n                    <div className=\"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-4 transition-all duration-300\" role=\"alert\">\r\n                        <strong className=\"font-bold\">خطأ!</strong>\r\n                        <span className=\"block sm:inline\"> {error}</span>\r\n                    </div>\r\n                )}\r\n\r\n                {/* Global Loading Indicator (if no specific button is processing) */}\r\n                {loading && !processingButton && (\r\n                    <div className=\"flex justify-center items-center mb-6 transition-all duration-300\">\r\n                        <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-500\"></div>\r\n                        <p className=\"mr-4 text-purple-600 font-semibold\" style={{ fontFamily: 'Tajawal' }}>\r\n                            جاري المعالجة...\r\n                        </p>\r\n                    </div>\r\n                )}\r\n\r\n                {/* Stage: Splash Screen */}\r\n                {stage === 'splash_screen' && (\r\n                    <div className=\"flex flex-col items-center justify-center min-h-[60vh] animate-fadeIn\">\r\n                        <img src=\"https://i.ibb.co/xKH7Rbby/ahmed-elsherbini-logo.png\" alt=\"Ahmad ElSherbiny Logo\" className=\"w-32 h-32 mb-6 animate-bounceIn\" />\r\n                        <h1 className=\"text-3xl sm:text-4xl font-extrabold text-transparent bg-clip-text bg-gradient-to-r from-purple-600 to-indigo-600 mb-2 animate-slideInUp delay-100\" style={{ fontFamily: 'Poppins' }}>\r\n                            Requires for Academic Services\r\n                        </h1>\r\n                        <h1 className=\"text-3xl sm:text-4xl font-extrabold text-transparent bg-clip-text bg-gradient-to-r from-purple-600 to-indigo-600 mb-4 animate-slideInUp delay-200\" style={{ fontFamily: 'Tajawal' }}>\r\n                            ريكويرز للخدمات الأكاديمية\r\n                        </h1>\r\n                        <p className={`text-xl sm:text-2xl font-semibold mb-8 animate-fadeIn delay-300 ${darkMode ? 'text-gray-300' : 'text-gray-700'}`} style={{ fontFamily: 'Tajawal' }}>\r\n                            مركز إدارة المحتوى لمنصات ريكويرز\r\n                        </p>\r\n                        <p className={`text-sm sm:text-base mb-10 animate-fadeIn delay-400 ${darkMode ? 'text-gray-400' : 'text-gray-600'}`} style={{ fontFamily: 'Poppins' }}>\r\n                            Prepared and designed with Faib coding by: <span className=\"font-bold text-purple-500\">Ahmad ElSherbiny</span>\r\n                        </p>\r\n                        <button\r\n                            onClick={() => setStage('api_key_input')}\r\n                            className=\"bg-gradient-to-r from-purple-500 to-indigo-600 hover:from-purple-600 hover:to-indigo-700 text-white font-bold py-3 px-10 rounded-full shadow-lg transform transition duration-300 ease-in-out hover:scale-105 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-opacity-50 animate-bounce delay-500\"\r\n                            style={{ fontFamily: 'Tajawal' }}\r\n                        >\r\n                            ابدأ\r\n                        </button>\r\n                    </div>\r\n                )}\r\n\r\n                {/* Stage: API Key Input (Gemini) */}\r\n                {stage === 'api_key_input' && (\r\n                    <div className=\"flex flex-col items-center transition-all duration-300 animate-fadeIn\">\r\n                        <h2 className={`text-2xl font-bold mb-6 transition-colors duration-300 ${darkMode ? 'text-gray-200' : 'text-gray-800'}`} style={{ fontFamily: 'Tajawal' }}>\r\n                            أدخل مفتاح الـ API الخاص بـ Gemini\r\n                        </h2>\r\n                        <p className={`mb-4 text-sm ${darkMode ? 'text-gray-400' : 'text-gray-600'}`} style={{ fontFamily: 'Tajawal' }}>\r\n                            للاستفادة الكاملة من ميزات الذكاء الاصطناعي، يرجى إدخال مفتاح الـ API الخاص بك.\r\n                            يمكنك الحصول على مفتاح مجاني من Google AI Studio.\r\n                        </p>\r\n                        <input\r\n                            type=\"password\"\r\n                            placeholder=\"أدخل مفتاح الـ API هنا\"\r\n                            value={userApiKey}\r\n                            onChange={(e) => setUserApiKey(e.target.value)}\r\n                            className={`w-full max-w-md p-3 mb-4 border rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 transition-colors duration-300 ${darkMode ? 'bg-gray-700 text-gray-200 border-gray-600' : 'bg-white text-gray-800 border-gray-300'}`}\r\n                            style={{ fontFamily: 'Poppins' }}\r\n                        />\r\n                        <button\r\n                            onClick={handleApiKeySubmit}\r\n                            disabled={loading}\r\n                            className=\"bg-gradient-to-r from-purple-500 to-indigo-600 hover:from-purple-600 hover:to-indigo-700 text-white font-bold py-3 px-8 rounded-full shadow-lg transform transition duration-300 ease-in-out hover:scale-105 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-opacity-50\"\r\n                            style={{ fontFamily: 'Tajawal' }}\r\n                        >\r\n                            بدء الاستخدام\r\n                        </button>\r\n                        <button\r\n                            onClick={goToPreviousStage}\r\n                            disabled={loading}\r\n                            className=\"bg-gray-500 hover:bg-gray-600 text-white font-bold py-2 px-6 rounded-full shadow-md transition duration-300 ease-in-out hover:scale-105 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-opacity-50 mt-4\"\r\n                            style={{ fontFamily: 'Tajawal' }}\r\n                        >\r\n                            رجوع\r\n                        </button>\r\n                    </div>\r\n                )}\r\n\r\n\r\n                {/* Stage: Ideas Generation (after API key is set) */}\r\n                {stage === 'ideas_generation' && userApiKey && (\r\n                    <button\r\n                        onClick={() => generateIdeas()}\r\n                        disabled={loading}\r\n                        className=\"bg-gradient-to-r from-purple-500 to-indigo-600 hover:from-purple-600 hover:to-indigo-700 text-white font-bold py-3 px-8 rounded-full shadow-lg transform transition duration-300 ease-in-out hover:scale-105 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-opacity-50 animate-fadeIn\"\r\n                        style={{ fontFamily: 'Tajawal' }}\r\n                    >\r\n                        فكرلي بأفكار جديدة!\r\n                    </button>\r\n                )}\r\n\r\n                {/* Stage: Idea Selection */}\r\n                {stage === 'idea_selection' && (\r\n                    <div className=\"mt-8 transition-all duration-300 animate-fadeIn\">\r\n                        <h2 className={`text-2xl font-bold mb-6 transition-colors duration-300 ${darkMode ? 'text-gray-200' : 'text-gray-800'}`} style={{ fontFamily: 'Tajawal' }}>اختر فكرة المحتوى ليومك:</h2>\r\n                        \r\n                        {/* Idea Customization Input */}\r\n                        <div className={`mb-6 p-4 border rounded-lg shadow-inner transition-colors duration-300 ${darkMode ? 'border-gray-600 bg-gray-700' : 'border-gray-200 bg-gray-50'}`}>\r\n                            <h3 className={`text-xl font-semibold mb-3 transition-colors duration-300 ${darkMode ? 'text-gray-200' : 'text-gray-700'}`} style={{ fontFamily: 'Tajawal' }}>تخصيص الأفكار المقترحة:</h3>\r\n                            <textarea\r\n                                placeholder=\"أدخل تعليمات التخصيص هنا (مثال: أفكار عن التحديات الأكاديمية، أفكار أقصر)\"\r\n                                value={ideaCustomizationInput}\r\n                                onChange={(e) => setIdeaCustomizationInput(e.target.value)}\r\n                                className={`w-full p-2 mb-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 transition-colors duration-300 ${darkMode ? 'bg-gray-800 text-gray-200 border-gray-600' : 'bg-white text-gray-800 border-gray-300'}`}\r\n                                dir=\"rtl\"\r\n                                style={{ fontFamily: 'Tajawal' }}\r\n                            ></textarea>\r\n                            <button\r\n                                onClick={() => generateIdeas(ideaCustomizationInput)}\r\n                                disabled={loading || !ideaCustomizationInput.trim()}\r\n                                className=\"bg-purple-500 hover:bg-purple-600 text-white font-bold py-2 px-6 rounded-full shadow-md transition duration-300 ease-in-out hover:scale-105 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-opacity-50\"\r\n                                style={{ fontFamily: 'Tajawal' }}\r\n                            >\r\n                                {processingButton === 'generate_ideas' ? (\r\n                                    <i className=\"fas fa-spinner fa-spin ml-2\"></i>\r\n                                ) : (\r\n                                    'تخصيص الفكرة'\r\n                                )}\r\n                            </button>\r\n                        </div>\r\n\r\n                        <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\r\n                            {ideas.map((idea, index) => (\r\n                                <div key={index} className=\"flex flex-col\">\r\n                                    <button\r\n                                        onClick={() => { setSelectedIdea(idea); setStage('content_generation'); }}\r\n                                        className={`p-5 rounded-xl shadow-md hover:shadow-lg transform transition duration-300 ease-in-out hover:scale-105 text-lg font-semibold text-right flex items-center justify-between flex-grow mb-2 ${darkMode ? 'bg-purple-900 border-purple-700 text-purple-200' : 'bg-purple-100 border-purple-300 text-purple-800'}`}\r\n                                        style={{ fontFamily: 'Tajawal' }}\r\n                                    >\r\n                                        <span>{idea}</span>\r\n                                        <i className={`fas fa-arrow-left ml-2 transition-colors duration-300 ${darkMode ? 'text-purple-400' : 'text-purple-600'}`}></i>\r\n                                    </button>\r\n                                    <div className=\"flex justify-end gap-2\">\r\n                                        <button\r\n                                            onClick={() => translateText(idea, `idea-${index}`)}\r\n                                            className={`py-1 px-3 rounded-full text-sm transition duration-200 ease-in-out ${darkMode ? 'bg-gray-600 hover:bg-gray-500 text-gray-200' : 'bg-gray-200 hover:bg-gray-300 text-gray-800'}`}\r\n                                            disabled={loading}\r\n                                            style={{ fontFamily: 'Tajawal' }}\r\n                                        >\r\n                                            {processingButton === `translate-idea-${index}` ? (\r\n                                                <i className=\"fas fa-spinner fa-spin ml-2\"></i>\r\n                                            ) : (\r\n                                                'ترجمة'\r\n                                            )}\r\n                                        </button>\r\n                                        {translatedTexts[`idea-${index}`] && (\r\n                                            <span className={`text-sm mt-1 transition-colors duration-300 ${darkMode ? 'text-gray-400' : 'text-gray-600'}`} dir=\"ltr\" style={{ fontFamily: 'Poppins' }}>{translatedTexts[`idea-${index}`]}</span>\r\n                                        )}\r\n                                    </div>\r\n                                </div>\r\n                            ))}\r\n                        </div>\r\n                        <div className=\"mt-8 flex justify-center gap-4\">\r\n                            <button\r\n                                onClick={() => generateIdeas()}\r\n                                disabled={loading}\r\n                                className=\"bg-green-500 hover:bg-green-600 text-white font-bold py-2 px-6 rounded-full shadow-md transition duration-300 ease-in-out hover:scale-105 focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-opacity-50\"\r\n                                style={{ fontFamily: 'Tajawal' }}\r\n                            >\r\n                                {processingButton === 'generate_ideas' ? (\r\n                                    <i className=\"fas fa-spinner fa-spin ml-2\"></i>\r\n                                ) : (\r\n                                    'أفكار تانية'\r\n                                )}\r\n                            </button>\r\n                            <button\r\n                                onClick={goToPreviousStage}\r\n                                disabled={loading}\r\n                                className=\"bg-gray-500 hover:bg-gray-600 text-white font-bold py-2 px-6 rounded-full shadow-md transition duration-300 ease-in-out hover:scale-105 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-opacity-50\"\r\n                                style={{ fontFamily: 'Tajawal' }}\r\n                            >\r\n                                رجوع\r\n                            </button>\r\n                            <button\r\n                                onClick={refreshCurrentStage}\r\n                                disabled={loading}\r\n                                className=\"bg-blue-500 hover:bg-blue-600 text-white font-bold py-2 px-6 rounded-full shadow-md transition duration-300 ease-in-out hover:scale-105 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-opacity-50\"\r\n                                style={{ fontFamily: 'Tajawal' }}\r\n                            >\r\n                                {processingButton === 'refresh_current_stage' ? (\r\n                                    <i className=\"fas fa-spinner fa-spin ml-2\"></i>\r\n                                ) : (\r\n                                    'تحديث'\r\n                                )}\r\n                            </button>\r\n                        </div>\r\n                    </div>\r\n                )}\r\n\r\n                {/* Stage: Content Generation (Dynamic) */}\r\n                {stage === 'content_generation' && selectedIdea && (\r\n                    <div className=\"mt-8 text-right transition-all duration-300 animate-fadeIn\">\r\n                        <h2 className={`text-2xl font-bold mb-6 transition-colors duration-300 ${darkMode ? 'text-gray-200' : 'text-gray-800'}`} style={{ fontFamily: 'Tajawal' }}>\r\n                            توليد المحتوى لفكرة: <span className=\"text-purple-600\">{selectedIdea}</span>\r\n                        </h2>\r\n                        <p className={`mb-6 transition-colors duration-300 ${darkMode ? 'text-gray-300' : 'text-gray-700'}`} style={{ fontFamily: 'Tajawal' }}>\r\n                            اختر المنصات التي تود توليد المحتوى لها، أو قم بتوليد كل المحتوى دفعة واحدة.\r\n                        </p>\r\n\r\n                        <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mb-8\">\r\n                            {platforms.filter(p => p.type === 'post').map(platform => (\r\n                                <button\r\n                                    key={platform.name}\r\n                                    onClick={() => generateSpecificContent('post', platform.name)}\r\n                                    disabled={loading}\r\n                                    className=\"bg-blue-500 hover:bg-blue-600 text-white font-bold py-3 px-6 rounded-full shadow-md transform transition duration-300 ease-in-out hover:scale-105 flex items-center justify-center gap-2\"\r\n                                    style={{ background: platform.color.startsWith('linear-gradient') ? platform.color : `linear-gradient(to right, ${platform.color}, ${platform.color}CC)`, fontFamily: 'Tajawal' }}\r\n                                >\r\n                                    <i className={`${platform.icon} text-xl`}></i>\r\n                                    <span>توليد منشور {platform.name}</span>\r\n                                </button>\r\n                            ))}\r\n                            {platforms.filter(p => p.type === 'message').map(platform => (\r\n                                <button\r\n                                    key={platform.name}\r\n                                    onClick={() => {\r\n                                        setWhatsappGmailPlatform(platform.name);\r\n                                        setWhatsappGmailInput(''); // Clear input\r\n                                        setWhatsappGmailResponse(''); // Clear response\r\n                                        setCustomInstructions({}); // Clear custom instructions for modal\r\n                                        setShowWhatsappGmailModal(true);\r\n                                    }}\r\n                                    disabled={loading}\r\n                                    className=\"bg-gray-500 hover:bg-gray-600 text-white font-bold py-3 px-6 rounded-full shadow-md transform transition duration-300 ease-in-out hover:scale-105 flex items-center justify-center gap-2\"\r\n                                    style={{ background: platform.color.startsWith('linear-gradient') ? platform.color : `linear-gradient(to right, ${platform.color}, ${platform.color}CC)`, fontFamily: 'Tajawal' }}\r\n                                >\r\n                                    <i className={`${platform.icon} text-xl`}></i>\r\n                                    <span>توليد رد {platform.name}</span>\r\n                                </button>\r\n                            ))}\r\n                            <button\r\n                                onClick={() => generateSpecificContent('bloggerArticle')}\r\n                                disabled={loading}\r\n                                className=\"bg-orange-500 hover:bg-orange-600 text-white font-bold py-3 px-6 rounded-full shadow-md transform transition duration-300 ease-in-out hover:scale-105 flex items-center justify-center gap-2\"\r\n                                style={{ fontFamily: 'Tajawal' }}\r\n                            >\r\n                                <i className=\"fab fa-blogger-b text-xl\"></i>\r\n                                <span>توليد مقال بلوجر</span>\r\n                            </button>\r\n                            <button\r\n                                onClick={() => generateSpecificContent('imagePrompts')}\r\n                                disabled={loading}\r\n                                className=\"bg-indigo-500 hover:bg-indigo-600 text-white font-bold py-3 px-6 rounded-full shadow-md transform transition duration-300 ease-in-out hover:scale-105 flex items-center justify-center gap-2\"\r\n                                style={{ fontFamily: 'Tajawal' }}\r\n                            >\r\n                                <i className=\"fas fa-image text-xl\"></i>\r\n                                <span>توليد أوامر الصور</span>\r\n                            </button>\r\n                            <button\r\n                                onClick={() => generateSpecificContent('videoPrompts')} // New video prompts button\r\n                                disabled={loading}\r\n                                className=\"bg-red-500 hover:bg-red-600 text-white font-bold py-3 px-6 rounded-full shadow-md transform transition duration-300 ease-in-out hover:scale-105 flex items-center justify-center gap-2\"\r\n                                style={{ fontFamily: 'Tajawal' }}\r\n                            >\r\n                                <i className=\"fas fa-video text-xl\"></i>\r\n                                <span>توليد أوامر الفيديو</span>\r\n                            </button>\r\n                            <button\r\n                                onClick={() => generateSpecificContent('carouselSlides', carouselSlideCount)} // New carousel button\r\n                                disabled={loading}\r\n                                className=\"bg-yellow-600 hover:bg-yellow-700 text-white font-bold py-3 px-6 rounded-full shadow-md transform transition duration-300 ease-in-out hover:scale-105 flex items-center justify-center gap-2\"\r\n                                style={{ fontFamily: 'Tajawal' }}\r\n                            >\r\n                                <i className=\"fas fa-images text-xl\"></i>\r\n                                <span>توليد كاروسيل</span>\r\n                            </button>\r\n                            <div className=\"col-span-full flex justify-center items-center mt-2\">\r\n                                <label htmlFor=\"carousel-count\" className={`text-lg ml-2 ${darkMode ? 'text-gray-300' : 'text-gray-700'}`} style={{ fontFamily: 'Tajawal' }}>عدد الشرائح:</label>\r\n                                <input\r\n                                    type=\"number\"\r\n                                    id=\"carousel-count\"\r\n                                    min=\"2\"\r\n                                    max=\"10\"\r\n                                    value={carouselSlideCount}\r\n                                    onChange={(e) => setCarouselSlideCount(parseInt(e.target.value))}\r\n                                    className={`w-20 p-2 border rounded-lg text-center transition-colors duration-300 ${darkMode ? 'bg-gray-700 text-gray-200 border-gray-600' : 'bg-white text-gray-800 border-gray-300'}`}\r\n                                    style={{ fontFamily: 'Poppins' }}\r\n                                />\r\n                            </div>\r\n                        </div>\r\n\r\n                        <button\r\n                            onClick={() => generateAllContent(selectedIdea)}\r\n                            disabled={loading}\r\n                            className=\"bg-gradient-to-r from-purple-500 to-indigo-600 hover:from-purple-600 hover:to-indigo-700 text-white font-bold py-3 px-8 rounded-full shadow-lg transform transition duration-300 ease-in-out hover:scale-105 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-opacity-50 mt-4\"\r\n                            style={{ fontFamily: 'Tajawal' }}\r\n                        >\r\n                            {processingButton === 'generate_all' ? (\r\n                                <i className=\"fas fa-spinner fa-spin ml-2\"></i>\r\n                            ) : (\r\n                                'توليد كل المحتوى (منشورات، مقال، صور، فيديو، كاروسيل)'\r\n                            )}\r\n                        </button>\r\n\r\n                        <div className=\"mt-8 flex justify-center gap-4\">\r\n                            <button\r\n                                onClick={goToPreviousStage}\r\n                                disabled={loading}\r\n                                className=\"bg-gray-500 hover:bg-gray-600 text-white font-bold py-2 px-6 rounded-full shadow-md transition duration-300 ease-in-out hover:scale-105 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-opacity-50\"\r\n                                style={{ fontFamily: 'Tajawal' }}\r\n                            >\r\n                                رجوع\r\n                            </button>\r\n                            <button\r\n                                onClick={refreshCurrentStage}\r\n                                disabled={loading}\r\n                                className=\"bg-blue-500 hover:bg-blue-600 text-white font-bold py-2 px-6 rounded-full shadow-md transition duration-300 ease-in-out hover:scale-105 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-opacity-50\"\r\n                                style={{ fontFamily: 'Tajawal' }}\r\n                            >\r\n                                {processingButton === 'refresh_current_stage' ? (\r\n                                    <i className=\"fas fa-spinner fa-spin ml-2\"></i>\r\n                                ) : (\r\n                                    'تحديث'\r\n                                )}\r\n                            </button>\r\n                            <button\r\n                                onClick={goToNextStage}\r\n                                disabled={loading}\r\n                                className=\"bg-green-500 hover:bg-green-600 text-white font-bold py-2 px-6 rounded-full shadow-md transform transition duration-300 ease-in-out hover:scale-105 focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-opacity-50\"\r\n                                style={{ fontFamily: 'Tajawal' }}\r\n                            >\r\n                                التالي\r\n                            </button>\r\n                        </div>\r\n                    </div>\r\n                )}\r\n\r\n                {/* Stage: Display Content */}\r\n                {stage === 'display_content' && generatedContent && (\r\n                    <div className=\"mt-8 text-right transition-all duration-300 animate-fadeIn\">\r\n                        <h2 className={`text-2xl font-bold mb-6 transition-colors duration-300 ${darkMode ? 'text-gray-200' : 'text-gray-800'}`} style={{ fontFamily: 'Tajawal' }}>\r\n                            المحتوى الجاهز لفكرة: <span className=\"text-purple-600\">{selectedIdea}</span>\r\n                        </h2>\r\n\r\n                        {/* Social Media Posts */}\r\n                        <div className=\"mb-10\">\r\n                            <h3 className={`text-xl font-semibold mb-4 border-b pb-2 transition-colors duration-300 ${darkMode ? 'text-gray-300 border-gray-700' : 'text-gray-700 border-gray-200'}`} style={{ fontFamily: 'Tajawal' }}>\r\n                                منشورات وسائل التواصل الاجتماعي\r\n                            </h3>\r\n                            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\r\n                                {platforms.filter(p => p.type === 'post').map(platform => {\r\n                                    const postData = generatedContent.posts[platform.name] || {};\r\n                                    const originalContent = postData.original;\r\n                                    if (!originalContent) return null; // Only render if original content exists\r\n                                    return (\r\n                                        <div key={platform.name} className={`p-5 rounded-xl shadow-md border flex flex-col transition-colors duration-300 ${darkMode ? 'bg-gray-700 border-gray-600' : 'bg-gray-50 border-gray-200'}`}>\r\n                                            <div className=\"flex items-center mb-3\">\r\n                                                <i className={`${platform.icon} text-2xl ml-3 transition-colors duration-300 ${darkMode ? 'text-purple-400' : 'text-purple-600'}`}></i>\r\n                                                <h4 className={`text-lg font-bold transition-colors duration-300 ${darkMode ? 'text-gray-200' : 'text-gray-800'}`} style={{ fontFamily: 'Tajawal' }}>{platform.name} (الأصلي)</h4>\r\n                                            </div>\r\n                                            <p className={`text-base mb-4 flex-grow whitespace-pre-wrap transition-colors duration-300 ${darkMode ? 'text-gray-300' : 'text-gray-700'}`} dir=\"rtl\" style={{ fontFamily: 'Tajawal' }}>{originalContent}</p>\r\n                                            \r\n                                            <div className=\"flex flex-col gap-2 mt-auto pt-4 border-t transition-colors duration-300\" style={{borderColor: darkMode ? '#4A5568' : '#E2E8F0'}}>\r\n                                                <div className=\"flex justify-start gap-2 flex-wrap\">\r\n                                                    <button\r\n                                                        onClick={() => copyToClipboard(originalContent)}\r\n                                                        className=\"bg-blue-500 hover:bg-blue-600 text-white font-bold py-2 px-4 rounded-full transition duration-200 ease-in-out\"\r\n                                                        style={{ fontFamily: 'Tajawal' }}\r\n                                                    >\r\n                                                        نسخ\r\n                                                    </button>\r\n                                                    <button\r\n                                                        onClick={() => regeneratePost(platform.name, originalContent)}\r\n                                                        className=\"bg-yellow-500 hover:bg-yellow-600 text-white font-bold py-2 px-4 rounded-full transition duration-200 ease-in-out\"\r\n                                                        disabled={loading}\r\n                                                        style={{ fontFamily: 'Tajawal' }}\r\n                                                    >\r\n                                                        {processingButton === `rephrase-${platform.name}` ? (\r\n                                                            <i className=\"fas fa-spinner fa-spin ml-2\"></i>\r\n                                                        ) : (\r\n                                                            'صياغة تانية'\r\n                                                        )}\r\n                                                    </button>\r\n                                                    <button\r\n                                                        onClick={() => translateText(originalContent, `post-${platform.name}-original`, 'post', platform.name)}\r\n                                                        className={`py-2 px-4 rounded-full text-sm transition duration-200 ease-in-out ${darkMode ? 'bg-gray-600 hover:bg-gray-500 text-gray-200' : 'bg-gray-200 hover:bg-gray-300 text-gray-800'}`}\r\n                                                        disabled={loading}\r\n                                                        style={{ fontFamily: 'Tajawal' }}\r\n                                                    >\r\n                                                        {processingButton === `translate-post-${platform.name}-original` ? (\r\n                                                            <i className=\"fas fa-spinner fa-spin ml-2\"></i>\r\n                                                        ) : (\r\n                                                            'ترجمة'\r\n                                                        )}\r\n                                                    </button>\r\n                                                    <button\r\n                                                        onClick={() => optimizePostForSEO(platform.name, originalContent)}\r\n                                                        className=\"bg-green-500 hover:bg-green-600 text-white font-bold py-2 px-4 rounded-full text-sm transition duration-200 ease-in-out\"\r\n                                                        disabled={loading}\r\n                                                        style={{ fontFamily: 'Tajawal' }}\r\n                                                    >\r\n                                                        {processingButton === `seo-${platform.name}` ? (\r\n                                                            <i className=\"fas fa-spinner fa-spin ml-2\"></i>\r\n                                                        ) : (\r\n                                                            'تحسين للسيو'\r\n                                                        )}\r\n                                                    </button>\r\n                                                    <button\r\n                                                        onClick={() => generateMarketingPost(platform.name, originalContent)}\r\n                                                        className=\"bg-purple-500 hover:bg-purple-600 text-white font-bold py-2 px-4 rounded-full text-sm transition duration-200 ease-in-out\"\r\n                                                        disabled={loading}\r\n                                                        style={{ fontFamily: 'Tajawal' }}\r\n                                                    >\r\n                                                        {processingButton === `marketing-${platform.name}` ? (\r\n                                                            <i className=\"fas fa-spinner fa-spin ml-2\"></i>\r\n                                                        ) : (\r\n                                                            'تسويق لريكويرز'\r\n                                                        )}\r\n                                                    </button>\r\n                                                    <button\r\n                                                        onClick={() => generateHashtagsKeywords(platform.name, originalContent)}\r\n                                                        className=\"bg-teal-500 hover:bg-teal-600 text-white font-bold py-2 px-4 rounded-full text-sm transition duration-200 ease-in-out\"\r\n                                                        disabled={loading}\r\n                                                        style={{ fontFamily: 'Tajawal' }}\r\n                                                    >\r\n                                                        {processingButton === `hashtags-${platform.name}` ? (\r\n                                                            <i className=\"fas fa-spinner fa-spin ml-2\"></i>\r\n                                                        ) : (\r\n                                                            'هاشتاغات/كلمات مفتاحية'\r\n                                                        )}\r\n                                                    </button>\r\n                                                    <button\r\n                                                        onClick={() => providePerformanceTips(platform.name, originalContent)}\r\n                                                        className=\"bg-orange-500 hover:bg-orange-600 text-white font-bold py-2 px-4 rounded-full text-sm transition duration-200 ease-in-out\"\r\n                                                        disabled={loading}\r\n                                                        style={{ fontFamily: 'Tajawal' }}\r\n                                                    >\r\n                                                        {processingButton === `tips-${platform.name}` ? (\r\n                                                            <i className=\"fas fa-spinner fa-spin ml-2\"></i>\r\n                                                        ) : (\r\n                                                            'نصائح للأداء'\r\n                                                        )}\r\n                                                    </button>\r\n                                                    <button\r\n                                                        onClick={() => shareContent(platform.name, originalContent, platform.url)}\r\n                                                        className=\"bg-indigo-500 hover:bg-indigo-600 text-white font-bold py-2 px-4 rounded-full text-sm transition duration-200 ease-in-out\"\r\n                                                        style={{ fontFamily: 'Tajawal' }}\r\n                                                    >\r\n                                                        مشاركة\r\n                                                    </button>\r\n                                                </div>\r\n                                                <div className=\"flex flex-col gap-2 mt-2\">\r\n                                                    <textarea\r\n                                                        placeholder=\"أدخل تعليمات التخصيص هنا (مثال: اجعلها أقصر، أضف دعوة لاتخاذ إجراء)\"\r\n                                                        value={customInstructions[platform.name] || ''}\r\n                                                        onChange={(e) => setCustomInstructions(prev => ({ ...prev, [platform.name]: e.target.value }))}\r\n                                                        className={`w-full p-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 transition-colors duration-300 ${darkMode ? 'bg-gray-800 text-gray-200 border-gray-600' : 'bg-white text-gray-800 border-gray-300'}`}\r\n                                                        dir=\"rtl\"\r\n                                                        style={{ fontFamily: 'Tajawal' }}\r\n                                                    ></textarea>\r\n                                                    <button\r\n                                                        onClick={() => customizeContent('post', platform.name, originalContent, customInstructions[platform.name] || '')}\r\n                                                        className=\"bg-purple-500 hover:bg-purple-600 text-white font-bold py-2 px-4 rounded-full transition duration-200 ease-in-out\"\r\n                                                        disabled={loading || !customInstructions[platform.name]?.trim()}\r\n                                                        style={{ fontFamily: 'Tajawal' }}\r\n                                                    >\r\n                                                        {processingButton === `customize-${platform.name}` ? (\r\n                                                            <i className=\"fas fa-spinner fa-spin ml-2\"></i>\r\n                                                        ) : (\r\n                                                            'تخصيص'\r\n                                                        )}\r\n                                                    </button>\r\n                                                </div>\r\n                                            </div>\r\n\r\n                                            {/* Display Translated Post */}\r\n                                            {postData.translated && (\r\n                                                <div className={`mt-4 p-4 rounded-lg border transition-colors duration-300 ${darkMode ? 'bg-gray-600 border-gray-500' : 'bg-blue-50 border-blue-200'}`}>\r\n                                                    <h5 className={`text-md font-bold mb-2 ${darkMode ? 'text-gray-100' : 'text-blue-800'}`} style={{ fontFamily: 'Tajawal' }}>ترجمة البوست:</h5>\r\n                                                    <p className={`text-base whitespace-pre-wrap ${darkMode ? 'text-gray-200' : 'text-blue-900'}`} dir=\"ltr\" style={{ fontFamily: 'Poppins' }}>{postData.translated}</p>\r\n                                                    <button\r\n                                                        onClick={() => copyToClipboard(postData.translated)}\r\n                                                        className=\"mt-2 bg-blue-700 hover:bg-blue-800 text-white font-bold py-1 px-3 rounded-full text-sm\"\r\n                                                        style={{ fontFamily: 'Tajawal' }}\r\n                                                    >\r\n                                                        نسخ الترجمة\r\n                                                    </button>\r\n                                                </div>\r\n                                            )}\r\n\r\n                                            {/* Display Rephrased Post */}\r\n                                            {postData.rephrased && (\r\n                                                <div className={`mt-4 p-4 rounded-lg border transition-colors duration-300 ${darkMode ? 'bg-gray-600 border-gray-500' : 'bg-yellow-50 border-yellow-200'}`}>\r\n                                                    <h5 className={`text-md font-bold mb-2 ${darkMode ? 'text-gray-100' : 'text-yellow-800'}`} style={{ fontFamily: 'Tajawal' }}>صياغة بديلة:</h5>\r\n                                                    <p className={`text-base whitespace-pre-wrap ${darkMode ? 'text-gray-200' : 'text-yellow-900'}`} dir=\"rtl\" style={{ fontFamily: 'Tajawal' }}>{postData.rephrased}</p>\r\n                                                    <button\r\n                                                        onClick={() => copyToClipboard(postData.rephrased)}\r\n                                                        className=\"mt-2 bg-yellow-700 hover:bg-yellow-800 text-white font-bold py-1 px-3 rounded-full text-sm\"\r\n                                                        style={{ fontFamily: 'Tajawal' }}\r\n                                                    >\r\n                                                        نسخ الصياغة\r\n                                                    </button>\r\n                                                </div>\r\n                                            )}\r\n\r\n                                            {/* Display SEO Optimized Post */}\r\n                                            {postData.seoOptimized && (\r\n                                                <div className={`mt-4 p-4 rounded-lg border transition-colors duration-300 ${darkMode ? 'bg-gray-600 border-gray-500' : 'bg-green-50 border-green-200'}`}>\r\n                                                    <h5 className={`text-md font-bold mb-2 ${darkMode ? 'text-gray-100' : 'text-green-800'}`} style={{ fontFamily: 'Tajawal' }}>بوست محسّن للسيو:</h5>\r\n                                                    <p className={`text-base whitespace-pre-wrap ${darkMode ? 'text-gray-200' : 'text-green-900'}`} dir=\"rtl\" style={{ fontFamily: 'Tajawal' }}>{postData.seoOptimized}</p>\r\n                                                    <button\r\n                                                        onClick={() => copyToClipboard(postData.seoOptimized)}\r\n                                                        className=\"mt-2 bg-green-700 hover:bg-green-800 text-white font-bold py-1 px-3 rounded-full text-sm\"\r\n                                                        style={{ fontFamily: 'Tajawal' }}\r\n                                                    >\r\n                                                        نسخ بوست السيو\r\n                                                    </button>\r\n                                                </div>\r\n                                            )}\r\n\r\n                                            {/* Display Marketing Post */}\r\n                                            {postData.marketing && (\r\n                                                <div className={`mt-4 p-4 rounded-lg border transition-colors duration-300 ${darkMode ? 'bg-gray-600 border-gray-500' : 'bg-purple-50 border-purple-200'}`}>\r\n                                                    <h5 className={`text-md font-bold mb-2 ${darkMode ? 'text-gray-100' : 'text-purple-800'}`} style={{ fontFamily: 'Tajawal' }}>بوست تسويقي لريكويرز:</h5>\r\n                                                    <p className={`text-base whitespace-pre-wrap ${darkMode ? 'text-gray-200' : 'text-purple-900'}`} dir=\"rtl\" style={{ fontFamily: 'Tajawal' }}>{postData.marketing}</p>\r\n                                                    <button\r\n                                                        onClick={() => copyToClipboard(postData.marketing)}\r\n                                                        className=\"mt-2 bg-purple-700 hover:bg-purple-800 text-white font-bold py-1 px-3 rounded-full text-sm\"\r\n                                                        style={{ fontFamily: 'Tajawal' }}\r\n                                                    >\r\n                                                        نسخ البوست التسويقي\r\n                                                    </button>\r\n                                                </div>\r\n                                            )}\r\n\r\n                                            {/* Display Customized Post */}\r\n                                            {postData.customized && (\r\n                                                <div className={`mt-4 p-4 rounded-lg border transition-colors duration-300 ${darkMode ? 'bg-gray-600 border-gray-500' : 'bg-indigo-50 border-indigo-200'}`}>\r\n                                                    <h5 className={`text-md font-bold mb-2 ${darkMode ? 'text-gray-100' : 'text-indigo-800'}`} style={{ fontFamily: 'Tajawal' }}>بوست مخصص:</h5>\r\n                                                    <p className={`text-base whitespace-pre-wrap ${darkMode ? 'text-gray-200' : 'text-indigo-900'}`} dir=\"rtl\" style={{ fontFamily: 'Tajawal' }}>{postData.customized}</p>\r\n                                                    <button\r\n                                                        onClick={() => copyToClipboard(postData.customized)}\r\n                                                        className=\"mt-2 bg-indigo-700 hover:bg-indigo-800 text-white font-bold py-1 px-3 rounded-full text-sm\"\r\n                                                        style={{ fontFamily: 'Tajawal' }}\r\n                                                    >\r\n                                                        نسخ البوست المخصص\r\n                                                    </button>\r\n                                                </div>\r\n                                            )}\r\n                                        </div>\r\n                                    );\r\n                                })}\r\n                            </div>\r\n                        </div>\r\n\r\n                        {/* Blogger Article */}\r\n                        {generatedContent.bloggerArticle && (\r\n                            <div className=\"mb-10\">\r\n                                <h3 className={`text-xl font-semibold mb-4 border-b pb-2 transition-colors duration-300 ${darkMode ? 'text-gray-300 border-gray-700' : 'text-gray-700 border-gray-200'}`} style={{ fontFamily: 'Tajawal' }}>\r\n                                    مقال بلوجر الاحترافي (HTML/XML)\r\n                                </h3>\r\n                                <div className={`p-5 rounded-xl shadow-md border transition-colors duration-300 ${darkMode ? 'bg-gray-700 border-gray-600' : 'bg-gray-50 border-gray-200'}`}>\r\n                                    <textarea\r\n                                        readOnly\r\n                                        value={getBloggerFullHtml(generatedContent.bloggerArticle, selectedIdea)}\r\n                                        className={`w-full h-96 p-4 rounded-lg font-mono text-sm resize-y transition-colors duration-300 ${darkMode ? 'bg-gray-800 text-gray-200' : 'bg-gray-100 text-gray-800'}`}\r\n                                        dir=\"ltr\" // Force LTR for code display\r\n                                        style={{ fontFamily: 'Poppins' }}\r\n                                    ></textarea>\r\n                                    <div className=\"flex justify-start gap-2 mt-4 flex-wrap\">\r\n                                        <button\r\n                                            onClick={() => copyToClipboard(getBloggerFullHtml(generatedContent.bloggerArticle, selectedIdea))}\r\n                                            className=\"bg-blue-500 hover:bg-blue-600 text-white font-bold py-2 px-4 rounded-full transition duration-200 ease-in-out\"\r\n                                            style={{ fontFamily: 'Tajawal' }}\r\n                                        >\r\n                                            نسخ المقال كاملاً\r\n                                        </button>\r\n                                        <button\r\n                                            onClick={() => translateText(generatedContent.bloggerArticle, 'blogger-article')}\r\n                                            className={`py-2 px-4 rounded-full text-sm transition duration-200 ease-in-out ${darkMode ? 'bg-gray-600 hover:bg-gray-500 text-gray-200' : 'bg-gray-200 hover:bg-gray-300 text-gray-800'}`}\r\n                                            disabled={loading}\r\n                                            style={{ fontFamily: 'Tajawal' }}\r\n                                        >\r\n                                            {processingButton === 'translate-blogger-article' ? (\r\n                                                <i className=\"fas fa-spinner fa-spin ml-2\"></i>\r\n                                            ) : (\r\n                                                'ترجمة'\r\n                                            )}\r\n                                        </button>\r\n                                    </div>\r\n                                    {translatedTexts['blogger-article'] && (\r\n                                        <p className={`text-sm mt-2 whitespace-pre-wrap text-left transition-colors duration-300 ${darkMode ? 'text-gray-400' : 'text-gray-600'}`} dir=\"ltr\" style={{ fontFamily: 'Poppins' }}>{translatedTexts['blogger-article']}</p>\r\n                                    )}\r\n                                    <div className={`mt-4 text-sm transition-colors duration-300 ${darkMode ? 'text-gray-400' : 'text-gray-600'}`} style={{ fontFamily: 'Tajawal' }}>\r\n                                        <p>ملاحظة: يمكنك لصق هذا الكود مباشرة في وضع HTML/XML لمحرر بلوجر.</p>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        )}\r\n\r\n                        {/* Image Prompts */}\r\n                        {generatedContent.imagePrompts.length > 0 && (\r\n                            <div className=\"mb-10\">\r\n                                <h3 className={`text-xl font-semibold mb-4 border-b pb-2 transition-colors duration-300 ${darkMode ? 'text-gray-300 border-gray-700' : 'text-gray-700 border-gray-200'}`} style={{ fontFamily: 'Tajawal' }}>\r\n                                    أمر تصميم الصور بالذكاء الاصطناعي (Prompt)\r\n                                </h3>\r\n                                <div className={`p-5 rounded-xl shadow-md border transition-colors duration-300 ${darkMode ? 'bg-gray-700 border-gray-600' : 'bg-gray-50 border-gray-200'} text-left`}>\r\n                                    {generatedContent.imagePrompts.map((prompt, index) => (\r\n                                        <div key={index} className=\"mb-4 last:mb-0\">\r\n                                            <p className={`text-base font-mono break-words transition-colors duration-300 ${darkMode ? 'text-gray-300' : 'text-gray-700'}`} dir=\"ltr\" style={{ fontFamily: 'Poppins' }}>{prompt}</p>\r\n                                            {translatedTexts[`image-prompt-${index}`] && (\r\n                                                <p className={`text-sm mt-2 whitespace-pre-wrap transition-colors duration-300 ${darkMode ? 'text-gray-400' : 'text-gray-600'}`} dir=\"ltr\" style={{ fontFamily: 'Poppins' }}>{translatedTexts[`image-prompt-${index}`]}</p>\r\n                                            )}\r\n                                            <div className=\"flex justify-start gap-2 mt-2 flex-wrap\">\r\n                                                <button\r\n                                                    onClick={() => copyToClipboard(prompt)}\r\n                                                    className=\"bg-green-500 hover:bg-green-600 text-white font-bold py-1 px-3 rounded-full text-sm transition duration-200 ease-in-out\"\r\n                                                    style={{ fontFamily: 'Tajawal' }}\r\n                                                >\r\n                                                    نسخ\r\n                                                </button>\r\n                                                <button\r\n                                                    onClick={() => translateText(prompt, `image-prompt-${index}`)}\r\n                                                    className={`py-1 px-3 rounded-full text-sm transition duration-200 ease-in-out ${darkMode ? 'bg-gray-600 hover:bg-gray-500 text-gray-200' : 'bg-gray-200 hover:bg-gray-300 text-gray-800'}`}\r\n                                                    disabled={loading}\r\n                                                    style={{ fontFamily: 'Tajawal' }}\r\n                                                >\r\n                                                    {processingButton === `translate-image-prompt-${index}` ? (\r\n                                                        <i className=\"fas fa-spinner fa-spin ml-2\"></i>\r\n                                                    ) : (\r\n                                                        'ترجمة'\r\n                                                    )}\r\n                                                </button>\r\n                                            </div>\r\n                                        </div>\r\n                                    ))}\r\n                                </div>\r\n                            </div>\r\n                        )}\r\n\r\n                        {/* Video Prompts */}\r\n                        {generatedContent.videoPrompts.length > 0 && (\r\n                            <div className=\"mb-10\">\r\n                                <h3 className={`text-xl font-semibold mb-4 border-b pb-2 transition-colors duration-300 ${darkMode ? 'text-gray-300 border-gray-700' : 'text-gray-700 border-gray-200'}`} style={{ fontFamily: 'Tajawal' }}>\r\n                                    أمر تصميم الفيديو بالذكاء الاصطناعي (Prompt)\r\n                                </h3>\r\n                                <div className={`p-5 rounded-xl shadow-md border transition-colors duration-300 ${darkMode ? 'bg-gray-700 border-gray-600' : 'bg-gray-50 border-gray-200'} text-left`}>\r\n                                    {generatedContent.videoPrompts.map((prompt, index) => (\r\n                                        <div key={index} className=\"mb-4 last:mb-0\">\r\n                                            <p className={`text-base font-mono break-words transition-colors duration-300 ${darkMode ? 'text-gray-300' : 'text-gray-700'}`} dir=\"ltr\" style={{ fontFamily: 'Poppins' }}>{prompt}</p>\r\n                                            {translatedTexts[`video-prompt-${index}`] && (\r\n                                                <p className={`text-sm mt-2 whitespace-pre-wrap transition-colors duration-300 ${darkMode ? 'text-gray-400' : 'text-gray-600'}`} dir=\"ltr\" style={{ fontFamily: 'Poppins' }}>{translatedTexts[`video-prompt-${index}`]}</p>\r\n                                            )}\r\n                                            <div className=\"flex justify-start gap-2 mt-2 flex-wrap\">\r\n                                                <button\r\n                                                    onClick={() => copyToClipboard(prompt)}\r\n                                                    className=\"bg-green-500 hover:bg-green-600 text-white font-bold py-1 px-3 rounded-full text-sm transition duration-200 ease-in-out\"\r\n                                                    style={{ fontFamily: 'Tajawal' }}\r\n                                                >\r\n                                                    نسخ\r\n                                                </button>\r\n                                                <button\r\n                                                    onClick={() => translateText(prompt, `video-prompt-${index}`)}\r\n                                                    className={`py-1 px-3 rounded-full text-sm transition duration-200 ease-in-out ${darkMode ? 'bg-gray-600 hover:bg-gray-500 text-gray-200' : 'bg-gray-200 hover:bg-gray-300 text-gray-800'}`}\r\n                                                    disabled={loading}\r\n                                                    style={{ fontFamily: 'Tajawal' }}\r\n                                                >\r\n                                                    {processingButton === `translate-video-prompt-${index}` ? (\r\n                                                        <i className=\"fas fa-spinner fa-spin ml-2\"></i>\r\n                                                    ) : (\r\n                                                        'ترجمة'\r\n                                                    )}\r\n                                                </button>\r\n                                            </div>\r\n                                        </div>\r\n                                    ))}\r\n                                </div>\r\n                            </div>\r\n                        )}\r\n\r\n                        {/* Carousel Slides */}\r\n                        {generatedContent.carouselSlides.length > 0 && (\r\n                            <div className=\"mb-10\">\r\n                                <h3 className={`text-xl font-semibold mb-4 border-b pb-2 transition-colors duration-300 ${darkMode ? 'text-gray-300 border-gray-700' : 'text-gray-700 border-gray-200'}`} style={{ fontFamily: 'Tajawal' }}>\r\n                                    شرائح الكاروسيل\r\n                                </h3>\r\n                                <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\r\n                                    {generatedContent.carouselSlides.map((slide, index) => (\r\n                                        <div key={index} className={`p-5 rounded-xl shadow-md border flex flex-col transition-colors duration-300 ${darkMode ? 'bg-gray-700 border-gray-600' : 'bg-gray-50 border-gray-200'}`}>\r\n                                            <h4 className={`text-lg font-bold mb-2 ${darkMode ? 'text-gray-200' : 'text-gray-800'}`} style={{ fontFamily: 'Tajawal' }}>شريحة {index + 1}: {slide.title}</h4>\r\n                                            <p className={`text-base mb-4 flex-grow whitespace-pre-wrap transition-colors duration-300 ${darkMode ? 'text-gray-300' : 'text-gray-700'}`} dir=\"rtl\" style={{ fontFamily: 'Tajawal' }}>{slide.description}</p>\r\n                                            {translatedTexts[`carousel-slide-${index}`] && (\r\n                                                <p className={`text-sm mt-2 whitespace-pre-wrap transition-colors duration-300 ${darkMode ? 'text-gray-400' : 'text-gray-600'}`} dir=\"ltr\" style={{ fontFamily: 'Poppins' }}>{translatedTexts[`carousel-slide-${index}`]}</p>\r\n                                            )}\r\n                                            <div className=\"flex justify-start gap-2 mt-auto pt-4 border-t transition-colors duration-300\" style={{borderColor: darkMode ? '#4A5568' : '#E2E8F0'}}>\r\n                                                <button\r\n                                                    onClick={() => copyToClipboard(`Slide ${index + 1}: ${slide.title}\\n${slide.description}`)}\r\n                                                    className=\"bg-blue-500 hover:bg-blue-600 text-white font-bold py-2 px-4 rounded-full text-sm transition duration-200 ease-in-out\"\r\n                                                    style={{ fontFamily: 'Tajawal' }}\r\n                                                >\r\n                                                    نسخ الشريحة\r\n                                                </button>\r\n                                                <button\r\n                                                    onClick={() => translateText(`Slide ${index + 1}: ${slide.title}\\n${slide.description}`, `carousel-slide-${index}`)}\r\n                                                    className={`py-2 px-4 rounded-full text-sm transition duration-200 ease-in-out ${darkMode ? 'bg-gray-600 hover:bg-gray-500 text-gray-200' : 'bg-gray-200 hover:bg-gray-300 text-gray-800'}`}\r\n                                                    disabled={loading}\r\n                                                    style={{ fontFamily: 'Tajawal' }}\r\n                                                >\r\n                                                    {processingButton === `translate-carousel-slide-${index}` ? (\r\n                                                        <i className=\"fas fa-spinner fa-spin ml-2\"></i>\r\n                                                    ) : (\r\n                                                        'ترجمة'\r\n                                                    )}\r\n                                                </button>\r\n                                            </div>\r\n                                        </div>\r\n                                    ))}\r\n                                </div>\r\n                            </div>\r\n                        )}\r\n\r\n                        {/* Footer Platform Buttons for direct generation */}\r\n                        <div className=\"mb-10 mt-8\">\r\n                            <h3 className={`text-xl font-semibold mb-4 border-b pb-2 transition-colors duration-300 ${darkMode ? 'text-gray-300 border-gray-700' : 'text-gray-700 border-gray-200'}`} style={{ fontFamily: 'Tajawal' }}>\r\n                                توليد محتوى لمنصات أخرى (لنفس الفكرة)\r\n                            </h3>\r\n                            <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\">\r\n                                {platforms.filter(p => p.type === 'post').map(platform => (\r\n                                    <button\r\n                                        key={`footer-${platform.name}`}\r\n                                        onClick={() => generateSpecificContent('post', platform.name)}\r\n                                        disabled={loading}\r\n                                        className=\"text-white font-bold py-3 px-6 rounded-full shadow-md transform transition duration-300 ease-in-out hover:scale-105 flex items-center justify-center gap-2\"\r\n                                        style={{ background: platform.color.startsWith('linear-gradient') ? platform.color : `linear-gradient(to right, ${platform.color}, ${platform.color}CC)`, fontFamily: 'Tajawal' }}\r\n                                    >\r\n                                        <i className={`${platform.icon} text-xl`}></i>\r\n                                        <span>توليد {platform.name}</span>\r\n                                    </button>\r\n                                ))}\r\n                                {platforms.filter(p => p.type === 'message').map(platform => (\r\n                                    <button\r\n                                        key={`footer-${platform.name}`}\r\n                                        onClick={() => {\r\n                                            setWhatsappGmailPlatform(platform.name);\r\n                                            setWhatsappGmailInput(''); // Clear input\r\n                                            setWhatsappGmailResponse(''); // Clear response\r\n                                            setCustomInstructions({}); // Clear custom instructions for modal\r\n                                            setShowWhatsappGmailModal(true);\r\n                                        }}\r\n                                        disabled={loading}\r\n                                        className=\"text-white font-bold py-3 px-6 rounded-full shadow-md transform transition duration-300 ease-in-out hover:scale-105 flex items-center justify-center gap-2\"\r\n                                        style={{ background: platform.color.startsWith('linear-gradient') ? platform.color : `linear-gradient(to right, ${platform.color}, ${platform.color}CC)`, fontFamily: 'Tajawal' }}\r\n                                    >\r\n                                        <i className={`${platform.icon} text-xl`}></i>\r\n                                        <span>رد {platform.name}</span>\r\n                                    </button>\r\n                                ))}\r\n                                <button\r\n                                    onClick={() => generateSpecificContent('bloggerArticle')}\r\n                                    disabled={loading}\r\n                                    className=\"text-white font-bold py-3 px-6 rounded-full shadow-md transform transition duration-300 ease-in-out hover:scale-105 flex items-center justify-center gap-2\"\r\n                                    style={{ background: `linear-gradient(to right, #ff5722, #ff5722CC)`, fontFamily: 'Tajawal' }}\r\n                                >\r\n                                    <i className=\"fab fa-blogger-b text-xl\"></i>\r\n                                    <span>توليد مقال بلوجر</span>\r\n                                </button>\r\n                                <button\r\n                                    onClick={() => generateSpecificContent('imagePrompts')}\r\n                                    disabled={loading}\r\n                                    className=\"text-white font-bold py-3 px-6 rounded-full shadow-md transform transition duration-300 ease-in-out hover:scale-105 flex items-center justify-center gap-2\"\r\n                                    style={{ background: `linear-gradient(to right, #6366f1, #6366f1CC)`, fontFamily: 'Tajawal' }}\r\n                                >\r\n                                    <i className=\"fas fa-image text-xl\"></i>\r\n                                    <span>توليد أوامر الصور</span>\r\n                                </button>\r\n                                <button\r\n                                    onClick={() => generateSpecificContent('videoPrompts')}\r\n                                    disabled={loading}\r\n                                    className=\"text-white font-bold py-3 px-6 rounded-full shadow-md transform transition duration-300 ease-in-out hover:scale-105 flex items-center justify-center gap-2\"\r\n                                    style={{ background: `linear-gradient(to right, #ff0000, #ff0000CC)`, fontFamily: 'Tajawal' }}\r\n                                >\r\n                                    <i className=\"fas fa-video text-xl\"></i>\r\n                                    <span>توليد أوامر الفيديو</span>\r\n                                </button>\r\n                                <button\r\n                                    onClick={() => generateSpecificContent('carouselSlides', carouselSlideCount)}\r\n                                    disabled={loading}\r\n                                    className=\"text-white font-bold py-3 px-6 rounded-full shadow-md transform transition duration-300 ease-in-out hover:scale-105 flex items-center justify-center gap-2\"\r\n                                    style={{ background: `linear-gradient(to right, #f59e0b, #f59e0bCC)`, fontFamily: 'Tajawal' }}\r\n                                >\r\n                                    <i className=\"fas fa-images text-xl\"></i>\r\n                                    <span>توليد كاروسيل</span>\r\n                                </button>\r\n                            </div>\r\n                        </div>\r\n\r\n\r\n                        {/* Global Navigation Buttons */}\r\n                        <div className=\"flex justify-center gap-4 mt-8\">\r\n                            <button\r\n                                onClick={startNewDay}\r\n                                className=\"bg-gradient-to-r from-purple-500 to-indigo-600 hover:from-purple-600 hover:to-indigo-700 text-white font-bold py-3 px-8 rounded-full shadow-lg transform transition duration-300 ease-in-out hover:scale-105 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-opacity-50\"\r\n                                style={{ fontFamily: 'Tajawal' }}\r\n                            >\r\n                                ابدأ يوم جديد!\r\n                            </button>\r\n                            <button\r\n                                onClick={goBackToIdeaSelection}\r\n                                className=\"bg-gray-500 hover:bg-gray-600 text-white font-bold py-3 px-8 rounded-full shadow-lg transform transition duration-300 ease-in-out hover:scale-105 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-opacity-50\"\r\n                                style={{ fontFamily: 'Tajawal' }}\r\n                            >\r\n                                رجوع لاختيار الفكرة\r\n                            </button>\r\n                            <button\r\n                                onClick={refreshCurrentStage}\r\n                                disabled={loading}\r\n                                className=\"bg-blue-500 hover:bg-blue-600 text-white font-bold py-2 px-6 rounded-full shadow-md transition duration-300 ease-in-out hover:scale-105 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-opacity-50\"\r\n                                style={{ fontFamily: 'Tajawal' }}\r\n                            >\r\n                                {processingButton === 'refresh_current_stage' ? (\r\n                                    <i className=\"fas fa-spinner fa-spin ml-2\"></i>\r\n                                ) : (\r\n                                    'تحديث'\r\n                                )}\r\n                            </button>\r\n                        </div>\r\n                    </div>\r\n                )}\r\n            </div>\r\n\r\n            {/* Contact Modal */}\r\n            {showContactModal && (\r\n                <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 animate-fadeIn\">\r\n                    <div className={`p-8 rounded-lg shadow-xl w-11/12 md:w-2/3 lg:w-1/2 relative transition-colors duration-300 ${darkMode ? 'bg-gray-800 text-gray-100' : 'bg-white text-gray-900'}`}>\r\n                        <button\r\n                            onClick={() => setShowContactModal(false)}\r\n                            className=\"absolute top-4 right-4 text-gray-500 hover:text-gray-800 dark:hover:text-gray-200 text-2xl\"\r\n                        >\r\n                            &times;\r\n                        </button>\r\n                        <h2 className={`text-2xl font-bold mb-6 text-center transition-colors duration-300 ${darkMode ? 'text-gray-200' : 'text-gray-800'}`} style={{ fontFamily: 'Tajawal' }}>\r\n                            تواصل معنا\r\n                        </h2>\r\n                        <div className=\"flex flex-wrap justify-center gap-6 text-right\"> {/* Changed to flex wrap for icons */}\r\n                            {contactInfo.map((item, index) => (\r\n                                <a\r\n                                    key={index}\r\n                                    href={item.link}\r\n                                    target=\"_blank\"\r\n                                    rel=\"noopener noreferrer\"\r\n                                    className={`w-20 h-20 rounded-full flex flex-col items-center justify-center shadow-md transform transition duration-300 ease-in-out hover:scale-110 group`}\r\n                                    style={{ background: item.color.startsWith('linear-gradient') ? item.color : `linear-gradient(to right, ${item.color}, ${item.color}CC)` }}\r\n                                    title={item.label} // Tooltip for accessibility\r\n                                >\r\n                                    <i className={`${item.icon} text-3xl text-white group-hover:text-white transition-colors duration-300`}></i>\r\n                                    {/* <p className=\"text-white text-xs mt-1\" style={{ fontFamily: 'Tajawal' }}>{item.label}</p> */}\r\n                                </a>\r\n                            ))}\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            )}\r\n\r\n            {/* WhatsApp/Gmail Response Modal */}\r\n            {showWhatsappGmailModal && (\r\n                <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 animate-fadeIn\">\r\n                    <div className={`p-8 rounded-lg shadow-xl w-11/12 md:w-2/3 lg:w-1/2 relative transition-colors duration-300 ${darkMode ? 'bg-gray-800 text-gray-100' : 'bg-white text-gray-900'}`}>\r\n                        <button\r\n                            onClick={() => setShowWhatsappGmailModal(false)}\r\n                            className=\"absolute top-4 right-4 text-gray-500 hover:text-gray-800 dark:hover:text-gray-200 text-2xl\"\r\n                        >\r\n                            &times;\r\n                        </button>\r\n                        <h2 className={`text-2xl font-bold mb-6 text-center transition-colors duration-300 ${darkMode ? 'text-gray-200' : 'text-gray-800'}`} style={{ fontFamily: 'Tajawal' }}>\r\n                            توليد رد لـ {whatsappGmailPlatform}\r\n                        </h2>\r\n                        <textarea\r\n                            placeholder={`أدخل رسالة العميل هنا لـ ${whatsappGmailPlatform}`}\r\n                            value={whatsappGmailInput}\r\n                            onChange={(e) => setWhatsappGmailInput(e.target.value)}\r\n                            className={`w-full p-3 mb-4 border rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 transition-colors duration-300 ${darkMode ? 'bg-gray-700 text-gray-200 border-gray-600' : 'bg-white text-gray-800 border-gray-300'}`}\r\n                            dir=\"rtl\"\r\n                            rows=\"4\"\r\n                            style={{ fontFamily: 'Tajawal' }}\r\n                        ></textarea>\r\n                        <button\r\n                            onClick={generateWhatsappGmailResponse}\r\n                            disabled={loading || !whatsappGmailInput.trim()}\r\n                            className=\"bg-green-500 hover:bg-green-600 text-white font-bold py-2 px-6 rounded-full shadow-md transition duration-300 ease-in-out hover:scale-105 focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-opacity-50 mb-4\"\r\n                            style={{ fontFamily: 'Tajawal' }}\r\n                        >\r\n                            {processingButton === 'whatsapp_gmail_response' ? (\r\n                                <i className=\"fas fa-spinner fa-spin ml-2\"></i>\r\n                            ) : (\r\n                                'توليد الرد'\r\n                            )}\r\n                        </button>\r\n\r\n                        {whatsappGmailResponse && (\r\n                            <div className={`mt-6 p-4 rounded-lg border transition-colors duration-300 ${darkMode ? 'bg-gray-700 border-gray-600' : 'bg-gray-100 border-gray-200'}`}>\r\n                                <h3 className={`text-xl font-semibold mb-3 transition-colors duration-300 ${darkMode ? 'text-gray-200' : 'text-gray-800'}`} style={{ fontFamily: 'Tajawal' }}>الرد المقترح:</h3>\r\n                                <p className={`text-base whitespace-pre-wrap transition-colors duration-300 ${darkMode ? 'text-gray-300' : 'text-gray-700'}`} dir=\"rtl\" style={{ fontFamily: 'Tajawal' }}>{whatsappGmailResponse}</p>\r\n                                {translatedTexts[`message-response-${whatsappGmailPlatform}`] && (\r\n                                    <p className={`text-sm mt-2 whitespace-pre-wrap transition-colors duration-300 ${darkMode ? 'text-gray-400' : 'text-gray-600'}`} dir=\"ltr\" style={{ fontFamily: 'Poppins' }}>{translatedTexts[`message-response-${whatsappGmailPlatform}`]}</p>\r\n                                )}\r\n                                <div className=\"flex flex-col gap-2 mt-4 pt-4 border-t transition-colors duration-300\" style={{borderColor: darkMode ? '#4A5568' : '#E2E8F0'}}>\r\n                                    <div className=\"flex justify-start gap-2 flex-wrap\">\r\n                                        <button\r\n                                            onClick={() => copyToClipboard(whatsappGmailResponse)}\r\n                                            className=\"bg-blue-500 hover:bg-blue-600 text-white font-bold py-2 px-4 rounded-full transition duration-200 ease-in-out\"\r\n                                            style={{ fontFamily: 'Tajawal' }}\r\n                                        >\r\n                                            نسخ\r\n                                        </button>\r\n                                        <button\r\n                                            onClick={() => translateText(whatsappGmailResponse, `message-response-${whatsappGmailPlatform}`)}\r\n                                            className={`py-2 px-4 rounded-full text-sm transition duration-200 ease-in-out ${darkMode ? 'bg-gray-600 hover:bg-gray-500 text-gray-200' : 'bg-gray-200 hover:bg-gray-300 text-gray-800'}`}\r\n                                            disabled={loading}\r\n                                            style={{ fontFamily: 'Tajawal' }}\r\n                                        >\r\n                                            {processingButton === `translate-message-response-${whatsappGmailPlatform}` ? (\r\n                                                <i className=\"fas fa-spinner fa-spin ml-2\"></i>\r\n                                            ) : (\r\n                                                'ترجمة'\r\n                                            )}\r\n                                        </button>\r\n                                    </div>\r\n                                    <div className=\"flex flex-col gap-2 mt-2\">\r\n                                        <textarea\r\n                                            placeholder=\"أدخل تعليمات التخصيص هنا (مثال: اجعل الرد أقصر، أضف تفاصيل معينة)\"\r\n                                            value={customInstructions[whatsappGmailPlatform] || ''}\r\n                                            onChange={(e) => setCustomInstructions(prev => ({ ...prev, [whatsappGmailPlatform]: e.target.value }))}\r\n                                            className={`w-full p-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 transition-colors duration-300 ${darkMode ? 'bg-gray-800 text-gray-200 border-gray-600' : 'bg-white text-gray-800 border-gray-300'}`}\r\n                                            dir=\"rtl\"\r\n                                            style={{ fontFamily: 'Tajawal' }}\r\n                                        ></textarea>\r\n                                        <button\r\n                                            onClick={() => customizeContent('message', whatsappGmailPlatform, whatsappGmailResponse, customInstructions[whatsappGmailPlatform] || '')}\r\n                                            className=\"bg-purple-500 hover:bg-purple-600 text-white font-bold py-2 px-4 rounded-full transition duration-200 ease-in-out\"\r\n                                            disabled={loading || !customInstructions[whatsappGmailPlatform]?.trim()}\r\n                                            style={{ fontFamily: 'Tajawal' }}\r\n                                        >\r\n                                            {processingButton === `customize-${whatsappGmailPlatform}` ? (\r\n                                                <i className=\"fas fa-spinner fa-spin ml-2\"></i>\r\n                                            ) : (\r\n                                                'تخصيص'\r\n                                            )}\r\n                                        </button>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        )}\r\n                    </div>\r\n                </div>\r\n            )}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default App;\r\n"],"mappings":"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CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oCAAoCA,YAAY,EAAI,cAAc;AAClE;AACA;AACA;AACA,wBAAwB,GAAI,CAAAC,IAAI,CAAC,CAAC,CAACC,kBAAkB,CAAC,OAAO,CAAE,CAAEC,IAAI,CAAE,SAAS,CAAEC,KAAK,CAAE,MAAO,CAAC,CAAC;AAClG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAML,kBAAkB;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK,CAED,mBACI5M,KAAA,QAAKkN,SAAS,CAAE,gBAAgB/J,QAAQ,CAAG,2BAA2B,CAAG,2BAA2B,gGAAiG,CAAAgK,QAAA,eAEjMrN,IAAA,SAAMsN,IAAI,CAAC,wFAAwF,CAACC,GAAG,CAAC,YAAY,CAAE,CAAC,cACvHvN,IAAA,SAAMsN,IAAI,CAAC,gFAAgF,CAACC,GAAG,CAAC,YAAY,CAAE,CAAC,cAC/GvN,IAAA,SAAMuN,GAAG,CAAC,YAAY,CAACD,IAAI,CAAC,4EAA4E,CAAE,CAAC,cAE3GtN,IAAA,WAAQwN,GAAG,CAAC,6BAA6B,CAAS,CAAC,cA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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}